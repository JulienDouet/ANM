{"version":3,"sources":["regle-cras.png","helpers/helpers.js","helpers/GenerateMap.js","components/Canvas.jsx","components/Route.jsx","components/SeaMap.jsx","components/TopBar.jsx","components/Modals/SettingsModal.jsx","components/Modals/LoadMapModal.jsx","components/Modals.jsx","components/HelpModal.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["isBetween","value","lower","higher","getBeginLastTile","zoom","degLatitude","degLongitude","degLatDist","degLongDist","beginLatDegree","beginLongDegree","lastLatDegree","lastLongDegree","parseInt","Math","asinh","tan","PI","convertToDecimalDegre","latitude","longitude","latitudeDistance","longitudeDistance","decimalDegreLatitude","deg","min","sec","decimalDegreLongitude","decimalDegreLatitudeDistance","decimalDegreLongitudeDistance","orientation","generateTileArray","beginLastCoords","beginLatTile","beginLongTile","lastLatTile","lastLongTile","sizeLatitude","sizeLongitude","tileArray","Array","map","i","j","degToDms","dd","isLng","dir","absDd","abs","frac","round","tabLignes","tabPositions","tabAngles","tabColor","color","compteurColor","Point","x","y","this","_x","_y","pt2","pt1","Line","_coef","getCoef","_origin","_pt1","_pt2","line","origin","coef","Canvas","props","mapArray","amer","mapSettingsData","useState","show","setShow","handleClose","angleVal","setAngleVal","longueurVal","deviation","setDeviation","declinaison","setDeclinaison","x1","y1","r","angle","drawLineData","setDrawLineData","amerCanvasRef","useRef","useEffect","length","amerCanvas","current","height","width","getContext","clearRect","drawLine","ligne","context","beginPath","strokeStyle","lineWidth","moveTo","lineTo","stroke","drawAngle","fillStyle","font","fillText","drawPoint","arc","fill","drawPosition","position","xtab","ytab","rect","temp","redrawCanvas","getColor","drawLinesFromArray","drawAndPlaceCRA","regle","Image","src","image","alt","onload","save","translate","rotate","drawImage","restore","line1","line2","line3","trouverMilieu","compteur","pt_intersection1","getIntersection","pt_intersection2","pt_intersection3","line_median1","getMedian","line_median2","middle1","push","resX","addEventListener","e","clientX","clientY","getBoundingClientRect","left","top","document","getElementById","innerHTML","id","ref","className","onClick","event","setCoordinates","Modal","onHide","size","centered","Header","Title","Body","Form","Label","htmlFor","Control","onChange","target","type","placeholder","Footer","Button","variant","p1X","p1Y","p2X","cos","p2Y","sin","arrayPoints","distanceMilesRf","distancePixelsRf","distancePixelsReference","distanceMilesReference","Route","route","distanceParcourirVal","setDistanceParcourirVal","capVal","setCapVal","noeudVal","setNoeudVal","vitesseFondVal","setVitesseFondVal","deriveVal","setDeriveVal","declinaisonVal","setDeclinaisonVal","deviationVal","setDeviationVal","tmpTrajet","routeCanvasRef","pixelsToDegDecimal","resY","console","log","routeCanvas","setRoute","l1degDec","l2degDec","long1","lat1","lat2","distanceTwoPoints","lon1","lon2","φ1","φ2","Δφ","Δλ","a","atan2","sqrt","getDistanceFromLatLonInMiles","arrayCoordMilesReference","calcLineAngle","long","drawLineAngle","couleur","epaisseurTrait","x2","y2","milieu","milieuTwoPoints","pow","arrayP2","arrayCoord","x3","y3","degreeRS","distanceRSPixels","distanceRSMiles","degreeCapVrai","degreeCapCompas","arrayCoordCapCompas","x4","y4","dureeTrajet","SeaMap","tableRef","isStoredMap","storedMapName","canvasGraticuleRef","cellSpacing","cellPadding","style","border","row","rowIndex","cell","cellIndex","canvasGraticule","setLineDash","coordCentX","coordCentY","coordEstX","coordSudY","renderTooltip","title","Tooltip","TopBar","setShowSettings","setShowLoadMap","setShowHelp","amerState","routeState","setAmer","swap","nodeA","nodeB","parentA","parentNode","siblingA","nextSibling","insertBefore","Navbar","sticky","bg","Collapse","href","OverlayTrigger","placement","overlay","disabled","navigator","onLine","icon","faMapMarkedAlt","faSave","elemRoute","elemCanvas","faLifeRing","faPencilRuler","faQuestion","fontWeight","SettingsModal","setMapArray","mapNameState","savedMapsState","mapSettingsDataState","setIsStoredMap","setMapSettingsData","savedMaps","setSavedMaps","showSettings","mapName","setMapName","latDeg","setLatDeg","latMin","setLatMin","latSec","setLatSec","latRad","setLatRad","lonDeg","setLonDeg","lonMin","setLonMin","lonSec","setLonSec","lonRad","setLonRad","lonDistDeg","setLonDistDeg","lonDistMin","setLonDistMin","latDistDeg","setLatDistDeg","latDistMin","setLatDistMin","mapZoom","setMapZoom","handleCloseSettings","noValidate","name","role","aria-label","autoComplete","checked","find","savedMap","data","alert","generateMapArray","tiles","LoadMapModal","mapArrayState","isStoredMapState","storedMapState","showLoadMap","currentlySelectedMapName","setCurrentlySelectedMapName","handleCloseLoadMap","Group","as","selected","currMap","ele","selectedMap","Modals","settingsModal","loadMapModal","HelpModal","showState","showHelp","App","setStoredMapName","hasScrollListener","setHasScrollListener","html","documentElement","mouseMoveHandler","dx","dy","offsetLeft","scrollWidth","clientWidth","offsetTop","scrollHeight","clientHeight","mouseUpHandler","removeEventListener","cursor","removeProperty","userSelect","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","renderReactDom","ReactDOM","render","window","cordova"],"mappings":"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","file":"static/js/main.f899a510.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/regle-cras.38c0b4c7.png\";","export const isBetween = (value, lower, higher) => value >= lower && value <= higher;\nexport const degToRadian = (degrees) => degrees * (Math.PI / 180);","import { degToRadian } from \"./helpers.js\";\nexport const generateMapArray = (data) => {\n    const { latitude, longitude, latitudeDistance, longitudeDistance, zoom } = data;\n\n\n    const { decimalDegreLatitude, decimalDegreLongitude, decimalDegreLatitudeDistance, decimalDegreLongitudeDistance } =\n        convertToDecimalDegre(latitude, longitude,latitudeDistance, longitudeDistance);\n\n    const beginLastCoords = getBeginLastTile(\n        zoom,\n        decimalDegreLatitude,\n        decimalDegreLongitude,\n        decimalDegreLatitudeDistance,\n        decimalDegreLongitudeDistance\n    );\n    \n    return generateTileArray(beginLastCoords, zoom);\n};\n\nconst getBeginLastTile = (zoom, degLatitude, degLongitude, degLatDist, degLongDist) => {\n\n  const beginLatDegree = degLatitude - degLatDist;\n  const beginLongDegree = degLongitude - degLongDist;\n\n  const lastLatDegree = degLatitude + degLatDist;\n  const lastLongDegree = degLongitude + degLongDist;\n\n\n\n  const beginLatTile = parseInt(\n          ((1.0 - Math.asinh(Math.tan(beginLatDegree * (Math.PI / 180))) / Math.PI) /\n              2.0) *\n              2.0 ** zoom\n      );\n\n  const beginLongTile = parseInt(((beginLongDegree + 180.0) / 360.0) * 2.0 ** zoom);\n\n\n  const lastLatTile = parseInt(\n          ((1.0 - Math.asinh(Math.tan(lastLatDegree * (Math.PI / 180))) / Math.PI) /\n              2.0) *\n              2.0 ** zoom\n      );\n\n  const lastLongTile = parseInt(((lastLongDegree + 180.0) / 360.0) * 2.0 ** zoom);\n\nreturn [beginLatTile, beginLongTile, lastLatTile, lastLongTile];\n};\n\n\n/**\n * Fonction permettant de convertir des DMS (Degré, Minutes, Secondes) en DD (Degré Decimaux)\n * @param {La latitude à convertir en DD} latitude\n * @param {La longitude à convertir en DD} longitude\n * @returns Les coordonnées DMS converties en DD\n */\nexport const convertToDecimalDegre = (latitude, longitude, latitudeDistance, longitudeDistance) => {\n    const decimalDegreLatitude =\n        parseInt(latitude.deg) +\n        (latitude.min * 60 + parseInt(latitude.sec)) / 3600;\n    const decimalDegreLongitude =\n        parseInt(longitude.deg) +\n        (longitude.min * 60 + parseInt(longitude.sec)) / 3600;\n\n    const decimalDegreLatitudeDistance =\n        parseInt(latitudeDistance.deg) +\n        (latitudeDistance.min * 60)/3600;\n\n    const decimalDegreLongitudeDistance =\n        parseInt(longitudeDistance.deg) +\n        (longitudeDistance.min * 60)/3600;\n\n\n    return {\n        decimalDegreLatitude:\n            latitude.orientation === \"S\"\n                ? -decimalDegreLatitude\n                : decimalDegreLatitude,\n        decimalDegreLongitude:\n            longitude.orientation === \"O\"\n                ? -decimalDegreLongitude\n                : decimalDegreLongitude,\n        decimalDegreLatitudeDistance,\n        decimalDegreLongitudeDistance\n\n    };\n};\n\n/**\n * Créé le tableau contenant les coordonnées de toutes les tiles\n * @param {Le zoom de la carte} zoom\n * @returns\n */\nconst generateTileArray = (beginLastCoords, zoom) => {\n\n\n\n    const beginLatTile = beginLastCoords[0];\n    const beginLongTile = beginLastCoords[1];\n\n    const lastLatTile = beginLastCoords[2];\n    const lastLongTile = beginLastCoords[3];\n\n    const sizeLatitude = beginLatTile - lastLatTile ;\n    const sizeLongitude = lastLongTile - beginLongTile ;\n\n    const tileArray = [...Array(sizeLatitude + 1)].map(() => Array(sizeLongitude + 1));\n\n    for (let i = beginLongTile; i <= lastLongTile; ++i){\n        for (let j = lastLatTile; j <= beginLatTile; ++j){\n            tileArray[j - lastLatTile][i - beginLongTile] = [\n                zoom,\n                 i,\n                 j\n            ];\n          }\n        }\n    return tileArray;\n};\n\n\nexport function degToDms (dd, isLng) {\n  const dir = dd < 0\n     ? isLng ? 'O' : 'S'\n     : isLng ? 'E' : 'N';\n\n   const absDd = Math.abs(dd);\n   const deg = absDd | 0;\n   const frac = absDd - deg;\n   const min = (frac * 60) | 0;\n   const sec =  Math.round((frac * 3600 - min * 60)* 100) / 100;\n   return deg + \"°\" + min + \"'\" + sec + '\"' + dir;\n}\n\nexport function deg_to_dms_array (dd, isLng) {\n  var dir = dd < 0\n     ? isLng ? 'O' : 'S'\n     : isLng ? 'E' : 'N';\n\n   var absDd = Math.abs(dd);\n   var deg = absDd | 0;\n   var frac = absDd - deg;\n   var min = (frac * 60) | 0;\n   var sec = frac * 3600 - min * 60;\n   // Round it to 2 decimal points.\n   sec = Math.round(sec * 100) / 100;\n   return [deg, min, sec, dir];\n}\n\n\nexport function getDistanceFromLatLonInMiles(lat1,lon1,lat2,lon2) {\n  /*var R = 6371; // Radius of the earth in km\n  var dLat = degToRadian(lat2-lat1);  // deg2rad below\n  var dLon = degToRadian(lon2-lon1);\n  var a =\n    Math.sin(dLat/2) * Math.sin(dLat/2) +\n    Math.cos(degToRadian(lat1)) * Math.cos(degToRadian(lat2)) *\n    Math.sin(dLon/2) * Math.sin(dLon/2)\n    ;\n  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n  var d = R * c; // Distance in km\n  return d;\n*/\n\n\n\n  const R = 6371e3; // metres\n  const φ1 = lat1 * Math.PI/180; // φ, λ in radians\n  const φ2 = lat2 * Math.PI/180;\n  const Δφ = (lat2-lat1) * Math.PI/180;\n  const Δλ = (lon2-lon1) * Math.PI/180;\n\n  const a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +\n          Math.cos(φ1) * Math.cos(φ2) *\n          Math.sin(Δλ/2) * Math.sin(Δλ/2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n\n  const d = R * c; // in metres\n  return d * 0.000621371 // en miles;\n}\n","import \"./Canvas.css\";\nimport React, { useRef, useEffect, useState } from \"react\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport image from \"../regle-cras.png\";\nimport { degToRadian } from \"../helpers/helpers\";\nimport { convertToDecimalDegre } from \"../helpers/GenerateMap\";\nimport { degToDms } from \"../helpers/GenerateMap\";\n\n// Valeur pour prendre le nord en référence comme 0°\nconst DEFAULT_ANGLE = 90;\n\nconst CALIBRAGE_ZERO_ROUGE = -0.0845;\nconst CALIBRAGE_ZERO_NOIR = -0.9155;\n\nvar tabLignes = [];\nvar tabPositions = [];\nvar tabAngles = [];\n\nconst tabColor = [\n    \"red\",\n    \"green\",\n    \"blue\",\n    \"yellow\",\n    \"brown\",\n    \"black\",\n    \"orange\",\n    \"purple\",\n    \"cyan\",\n    \"magenta\",\n    \"pink\"\n];\nvar color = tabColor[0];\nvar compteurColor = 0;\n\nclass Point {\n    constructor(x, y) {\n        this._x = x;\n        this._y = y;\n    }\n\n    get x() {\n        return this._x;\n    }\n    get y() {\n        return this._y;\n    }\n\n    getCoef(pt2) {\n        return (pt2.y - this._y) / (pt2.x - this._x);\n    }\n\n    getMedian(pt1, pt2) {\n        let x = (pt1.x + pt2.x) / 2;\n        let y = (pt1.y + pt2.y) / 2;\n\n        return new Line(this, new Point(x, y));\n    }\n}\n\nclass Line {\n    constructor(pt1, pt2) {\n        this._coef = pt1.getCoef(pt2);\n        this._origin = pt1.y - this._coef * pt1.x;\n        this._pt1 = pt1;\n        this._pt2 = pt2;\n    }\n    get coef() {\n        return this._coef;\n    }\n    get origin() {\n        return this._origin;\n    }\n    get pt1() {\n        return this._pt1;\n    }\n    get pt2() {\n        return this._pt2;\n    }\n\n    getValue(x) {\n        return this._coef * x + this._origin;\n    }\n\n    getIntersection(line) {\n        let x = Math.abs(\n            (line.origin - this._origin) / (line.coef - this._coef)\n        );\n        let y = this._coef * x + this._origin;\n        return new Point(x, y);\n    }\n}\n\nexport const Canvas = (props) => {\n    const { mapArray, amer, mapSettingsData } = props;\n    //Modal\n    const [show, setShow] = useState(false);\n    const handleClose = () => setShow(false);\n\n    // Angle et Longueur\n    const [angleVal, setAngleVal] = useState(\"0\");\n    const [longueurVal, setLongueurVal] = useState(\"2000\");\n\n    // Déviation et Déclinaison\n    const [deviation, setDeviation] = useState(\"0\");\n    const [declinaison, setDeclinaison] = useState(\"0\");\n\n    // Donnée pour tracer le trait\n    const [drawLineData, setDrawLineData] = useState({\n        x1: 0,\n        y1: 0,\n        r: 0,\n        angle: 0 - DEFAULT_ANGLE\n    });\n\n    const amerCanvasRef = useRef(null);\n    useEffect(() => {\n        if (mapArray.length) {\n            const amerCanvas = amerCanvasRef.current;\n            amerCanvas.height = mapArray.length * 256;\n            amerCanvas.width = mapArray[0].length * 256;\n        }\n    }, [mapArray]);\n\n    useEffect(() => {\n        tabLignes = [];\n        tabPositions = [];\n        color = tabColor[0];\n        compteurColor = 0;\n        const context = amerCanvasRef.current.getContext(\"2d\");\n        context.clearRect(\n            0,\n            0,\n            amerCanvasRef.current.width,\n            amerCanvasRef.current.height\n        );\n    }, [mapSettingsData]);\n\n    /**\n     *\n     */\n    const drawLine = (ligne, color) => {\n        const context = amerCanvasRef.current.getContext(\"2d\");\n\n        context.beginPath();\n\n        context.strokeStyle = color;\n        context.lineWidth = 5;\n        context.moveTo(ligne.pt1.x, ligne.pt1.y);\n        context.lineTo(ligne.pt2.x, ligne.pt2.y);\n\n        context.stroke();\n    };\n\n    const drawAngle = (angle, x, y, color) => {\n        const context = amerCanvasRef.current.getContext(\"2d\");\n        context.fillStyle = color;\n        context.font = \"20px serif\";\n        context.fillText(angle + \"°\", x, y);\n    };\n\n    const drawPoint = (x, y) => {\n        const context = amerCanvasRef.current.getContext(\"2d\");\n\n        context.beginPath();\n\n        context.fillStyle = \"red\";\n        context.strokeStyle = \"red\";\n        context.arc(x, y, 5, 0, 2 * Math.PI, true);\n        context.fill();\n\n        context.stroke();\n    };\n\n    const drawPosition = (position) => {\n        for (var i = 0; i < tabPositions.length; i++) {\n            const xtab = mapArray[0].length * 256;\n            const ytab = mapArray.length * 256;\n            var position = tabPositions[i];\n            // Dessiner point intersection + Label avec coordonnées\n            drawPoint(position.x, position.y);\n            const context = amerCanvasRef.current.getContext(\"2d\");\n            context.beginPath();\n            context.strokeStyle = \"#000000\";\n            context.rect(position.x, position.y, 180, 25);\n            context.fillStyle = \"#000000\";\n            context.fill();\n            context.fillStyle = \"#FFFFFF\";\n            context.fillText(\n                temp(position.x, position.y, xtab, ytab),\n                position.x + 10,\n                position.y + 20\n            );\n            context.stroke();\n        }\n    };\n\n    const drawLinesFromArray = () => {\n        for (var i = 0; i < tabLignes.length; i++) {\n            if (i % 3 === 0 && i > 0) {\n                compteurColor++;\n            }\n            color = getColor(compteurColor);\n            drawLine(tabLignes[i], color);\n            drawAngle(\n                tabAngles[i],\n                tabLignes[i].pt1.x,\n                tabLignes[i].pt1.y,\n                color\n            );\n        }\n    };\n\n    const redrawCanvas = () => {\n        if (tabLignes.length > 1) {\n            const context = amerCanvasRef.current.getContext(\"2d\");\n            context.clearRect(\n                0,\n                0,\n                amerCanvasRef.current.width,\n                amerCanvasRef.current.height\n            );\n            drawLinesFromArray();\n        }\n        if (tabLignes.length >= 3) {\n            drawPosition();\n        }\n    };\n\n    /**\n     *\n     */\n    // Règle de cras\n    // Pour obtenir le milieu de la règle : -(regle.width / 2)\n    // Pour obtenir le point 0 du rapporteur (rouge) : CALIBRAGE_ZERO_ROUGE * regle.height\n    // Pour obtenir le point 0 du rapporteur (noir) : CALIBRAGE_ZERO_NOIR * regle.height\n    const drawAndPlaceCRA = () => {\n        var regle = new Image();\n        regle.src = image;\n        regle.alt = \"alt text\";\n\n        const context = amerCanvasRef.current.getContext(\"2d\");\n        regle.onload = function () {\n            context.save();\n            context.translate(drawLineData.x1, drawLineData.y1);\n            context.rotate(degToRadian(angleVal - DEFAULT_ANGLE));\n\n            if (angleVal >= 180) {\n                context.drawImage(regle, -(regle.width / 2), 0);\n            } else {\n                context.drawImage(regle, -(regle.width / 2), 0);\n            }\n\n            context.restore();\n\n            //Tracer un trait au milieu du rapporteur\n            // var ligneMilieuRapporteur = new Line(new Point(0, drawLineData.y1), new Point(mapArray[0].length, drawLineData.y1));\n            // drawLine(ligneMilieuRapporteur, \"orange\");\n\n            if (tabLignes.length % 3 == 0) {\n                let line1 = tabLignes[tabLignes.length - 3];\n                let line2 = tabLignes[tabLignes.length - 2];\n                let line3 = tabLignes[tabLignes.length - 1];\n\n                trouverMilieu(line1, line2, line3);\n            }\n        };\n    };\n\n    const getColor = (compteur) => {\n        return tabColor[compteur % tabColor.length];\n    };\n\n    const trouverMilieu = (line1, line2, line3) => {\n        // get intersection\n        let pt_intersection1 = line1.getIntersection(line2);\n        let pt_intersection2 = line1.getIntersection(line3);\n        let pt_intersection3 = line2.getIntersection(line3);\n\n        let line_median1 = pt_intersection1.getMedian(\n            pt_intersection2,\n            pt_intersection3\n        );\n        let line_median2 = pt_intersection2.getMedian(\n            pt_intersection1,\n            pt_intersection3\n        );\n\n        // middle\n        let middle1 = line_median1.getIntersection(line_median2);\n        tabPositions.push(middle1);\n        drawPosition();\n    };\n\n    /**\n     *\n     * @param {L'évènement} event\n     */\n    const setCoordinates = (event) => {\n        setShow(true);\n        const rect = amerCanvasRef.current.getBoundingClientRect();\n        setDrawLineData({\n            ...drawLineData,\n            x1: event.clientX - rect.left,\n            y1: event.clientY - rect.top,\n            r: longueurVal\n        });\n    };\n\n    const temp = (x, y, xtab, ytab) => {\n        const latitude = mapSettingsData.latitude;\n        const longitude = mapSettingsData.longitude;\n        const latitudeDistance = mapSettingsData.latitudeDistance;\n        const longitudeDistance = mapSettingsData.longitudeDistance;\n\n        const {\n            decimalDegreLatitude,\n            decimalDegreLongitude,\n            decimalDegreLatitudeDistance,\n            decimalDegreLongitudeDistance\n        } = convertToDecimalDegre(\n            latitude,\n            longitude,\n            latitudeDistance,\n            longitudeDistance\n        );\n\n        const xCent = xtab / 2;\n        const yCent = ytab / 2;\n\n        const x2 = decimalDegreLongitude + decimalDegreLongitudeDistance;\n        const x1 = decimalDegreLongitude - decimalDegreLongitudeDistance;\n\n        const y2 = decimalDegreLatitude - decimalDegreLatitudeDistance;\n        const y1 = decimalDegreLatitude + decimalDegreLongitudeDistance;\n        const resX = (x / xtab) * (x2 - x1) + x1;\n        const resY = (y / ytab) * (y2 - y1) + y1;\n\n        return degToDms(resY, false) + \"\\xa0 \\xa0\" + degToDms(resX, true);\n    };\n\n    useEffect(() => {\n        if (amerCanvasRef) {\n            amerCanvasRef.current.addEventListener(\"mousemove\", (e) => {\n                if (\n                    mapArray.length > 1 &&\n                    (e.clientX % 2 === 0 || e.clientY % 2 === 0)\n                ) {\n                    const rect = amerCanvasRef.current.getBoundingClientRect();\n\n                    const xtab = mapArray[0].length * 256;\n                    const ytab = mapArray.length * 256;\n                    const x = parseInt(Math.abs(e.clientX - rect.left));\n                    const y = parseInt(Math.abs(e.clientY - rect.top));\n                    var label = document.getElementById(\"coordTest\");\n                    label.innerHTML = \"&nbsp;\" + temp(x, y, xtab, ytab);\n                }\n            });\n        }\n    });\n\n    useEffect(() => {\n        setDrawLineData({\n            ...drawLineData,\n            angle:\n                parseInt(angleVal, 10) +\n                parseInt(deviation, 10) +\n                parseInt(declinaison, 10) -\n                DEFAULT_ANGLE\n        });\n    }, [angleVal]);\n\n    useEffect(() => {\n        setDrawLineData({ ...drawLineData, r: longueurVal });\n    }, [longueurVal]);\n\n    const handleOnSubmit = (event) => {\n        compteurColor = 0;\n        var p1X = drawLineData.x1;\n        var p1Y = drawLineData.y1;\n        var p2X =\n            drawLineData.x1 +\n            drawLineData.r *\n                Math.cos((Math.PI * (drawLineData.angle + 180)) / 180);\n        var p2Y =\n            drawLineData.y1 +\n            drawLineData.r *\n                Math.sin((Math.PI * (drawLineData.angle + 180)) / 180);\n        var ligne = new Line(new Point(p1X, p1Y), new Point(p2X, p2Y));\n        tabLignes.push(ligne);\n        tabAngles.push(angleVal);\n        drawLine(ligne, color);\n        drawAngle(angleVal, p1X, p1Y, color);\n        redrawCanvas();\n        drawAndPlaceCRA();\n        handleClose();\n    };\n\n    return (\n        <>\n            <div id=\"idCanvas\">\n                <canvas\n                    id=\"canvasAmers\"\n                    ref={amerCanvasRef}\n                    className=\"canvas-style mt-5\"\n                    onClick={(e) => !!amer && setCoordinates(e)}\n                ></canvas>\n\n                <Modal show={show} onHide={handleClose} size=\"sm\" centered>\n                    <Modal.Header>\n                        <Modal.Title>Relever l'amer</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <Form.Label htmlFor=\"angle\">Angle</Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"angle\"\n                            value={angleVal}\n                            onChange={(e) => setAngleVal(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Angle\"\n                        />\n                        <Form.Label htmlFor=\"declinaison\">\n                            Déclinaison (D)\n                        </Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"declinaison\"\n                            value={declinaison}\n                            onChange={(e) => setDeclinaison(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Déclinaison\"\n                        />\n                        <Form.Label htmlFor=\"deviation\">\n                            Déviation (d)\n                        </Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"deviation\"\n                            value={deviation}\n                            onChange={(e) => setDeviation(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Déviation\"\n                        />\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={handleClose}>\n                            Annuler\n                        </Button>\n                        <Button variant=\"primary\" onClick={handleOnSubmit}>\n                            Valider le marquage\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n        </>\n    );\n};\n","import \"./Route.css\";\nimport React, { useRef, useEffect, useState } from \"react\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport { getDistanceFromLatLonInMiles } from \"../helpers/GenerateMap.js\";\nimport { deg_to_dms_array } from \"../helpers/GenerateMap\";\nimport { degToDms } from \"../helpers/GenerateMap\";\n\nimport { convertToDecimalDegre } from \"../helpers/GenerateMap\";\nvar arrayPoints = [];\n\nvar distanceMilesRf = 0;\nvar degreeRf = 0;\nvar distancePixelsRf = 0;\nvar distancePixelsReference = 0;\nvar distanceMilesReference = 0;\nexport const Route = (props) => {\n    var nbrPoints = 0;\n    const { mapArray, route, mapSettingsData } = props;\n\n    const [show, setShow] = useState(false);\n    const handleClose = () => setShow(false);\n\n    // Courant\n    const [distanceParcourirVal, setDistanceParcourirVal] = useState(\"0\");\n    const [capVal, setCapVal] = useState(\"0\");\n    const [angleVal, setAngleVal] = useState(\"0\");\n    const [noeudVal, setNoeudVal] = useState(\"0\");\n    const [vitesseFondVal, setVitesseFondVal] = useState(\"0\");\n    const [deriveVal, setDeriveVal] = useState(\"0\");\n    const [declinaisonVal, setDeclinaisonVal] = useState(\"0\");\n    const [deviationVal, setDeviationVal] = useState(\"0\");\n\n    const drawPoint = (x, y, color, tmpTrajet) => {\n        const context = routeCanvasRef.current.getContext(\"2d\");\n        context.fillStyle = color || \"black\";\n        context.beginPath();\n        context.arc(x, y, 5, 0, 2 * Math.PI, true);\n        context.fill();\n        context.fillText(\n            \"Temps de trajet (en minutes) : \" + Math.round(tmpTrajet),\n            x,\n            y\n        );\n        context.stroke();\n    };\n\n    const pixelsToDegDecimal = (x, y, xtab, ytab) => {\n        //const xtab = mapArray[0].length*256;\n        //const ytab = mapArray.length*256;\n\n        const latitude = mapSettingsData.latitude;\n        const longitude = mapSettingsData.longitude;\n        const latitudeDistance = mapSettingsData.latitudeDistance;\n        const longitudeDistance = mapSettingsData.longitudeDistance;\n\n        const {\n            decimalDegreLatitude,\n            decimalDegreLongitude,\n            decimalDegreLatitudeDistance,\n            decimalDegreLongitudeDistance\n        } = convertToDecimalDegre(\n            latitude,\n            longitude,\n            latitudeDistance,\n            longitudeDistance\n        );\n\n        const xCent = xtab / 2;\n        const yCent = ytab / 2;\n\n        const x2 = decimalDegreLongitude + decimalDegreLongitudeDistance;\n        const x1 = decimalDegreLongitude - decimalDegreLongitudeDistance;\n\n        const y2 = decimalDegreLatitude - decimalDegreLatitudeDistance;\n        const y1 = decimalDegreLatitude + decimalDegreLongitudeDistance;\n        const resX = (x / xtab) * (x2 - x1) + x1;\n        const resY = (y / ytab) * (y2 - y1) + y1;\n\n        console.log(degToDms(resX, true), \" \", degToDms(resY, false));\n        return [resX, resY];\n    };\n\n    const routeCanvasRef = useRef(null);\n\n    useEffect(() => {\n        if (mapArray.length) {\n            const routeCanvas = routeCanvasRef.current;\n\n            routeCanvas.height = mapArray.length * 256;\n            routeCanvas.width = mapArray[0].length * 256;\n        }\n    }, [mapArray]);\n\n    useEffect(() => {\n        const context = routeCanvasRef.current.getContext(\"2d\");\n        context.clearRect(\n            0,\n            0,\n            routeCanvasRef.current.width,\n            routeCanvasRef.current.height\n        );\n    }, [mapSettingsData]);\n\n    const setRoute = (event) => {\n        const rect = routeCanvasRef.current.getBoundingClientRect();\n        const context = routeCanvasRef.current.getContext(\"2d\");\n\n        let x = event.clientX - rect.left;\n        let y = event.clientY - rect.top;\n\n        arrayPoints.push([x, y]);\n        const xtab = mapArray[0].length * 256;\n        const ytab = mapArray.length * 256;\n        drawPoint(x, y, \"yellow\", 0);\n\n        let l1degDec = pixelsToDegDecimal(x, y, xtab, ytab);\n        let l2degDec = pixelsToDegDecimal(x + 1, y + 1, xtab, ytab);\n\n        let long1 = l1degDec[0];\n        let lat1 = l1degDec[1];\n\n        let long2 = l2degDec[0];\n        let lat2 = l2degDec[1];\n\n        distancePixelsReference = distanceTwoPoints(x, y, x + 1, y + 1);\n        distanceMilesReference = getDistanceFromLatLonInMiles(\n            lat1,\n            long1,\n            lat2,\n            long1\n        );\n        console.log(distancePixelsReference);\n        console.log(distanceMilesReference);\n        let arrayCoordMilesReference = calcLineAngle(\n            x,\n            y,\n            distanceMilesReference,\n            90\n        );\n        let xref = arrayCoordMilesReference[0];\n        let yref = arrayCoordMilesReference[1];\n\n        //let arrayP = [(distanceParcourirVal*xref)/distanceMilesReference,(distanceParcourirVal*yref)/distanceMilesReference]\n\n        //let arrayP = drawLineAngle(x,y,distanceMilesRf+distanceParcourirVal,degreDestVal,context,'blue',1);\n        //arrayPoints.push([arrayP[0],arrayP[1]]);\n\n        setShow(true);\n    };\n\n    const calcLineAngle = (x, y, long, angle) => {\n        let x2 = x + long * Math.cos((Math.PI * (angle - 90)) / 180);\n        let y2 = y + long * Math.sin((Math.PI * (angle - 90)) / 180);\n\n        return [x2, y2];\n    };\n    const drawLineAngle = (\n        x,\n        y,\n        long,\n        angle,\n        context,\n        couleur,\n        epaisseurTrait\n    ) => {\n        context.beginPath();\n        context.strokeStyle = couleur;\n        context.lineWidth = epaisseurTrait;\n\n        context.moveTo(x, y);\n        let x2 = x + long * Math.cos((Math.PI * (angle - 90)) / 180);\n        let y2 = y + long * Math.sin((Math.PI * (angle - 90)) / 180);\n        context.lineTo(x2, y2);\n        context.stroke();\n        context.fillStyle = couleur;\n        let milieu = milieuTwoPoints(x, y, x2, y2);\n        context.fillText(\n            \"Angle (en Degré) : \" +\n                Math.round(angle) +\n                \" \\n Distance (en Miles) : \" +\n                Math.round(long),\n            milieu[0],\n            milieu[1]\n        );\n\n        return [x2, y2];\n    };\n\n    const distanceTwoPoints = (x1, y1, x2, y2) => {\n        return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    };\n    const drawLine = (x1, y1, x2, y2, context, couleur, angle, long) => {\n        context.beginPath();\n        context.strokeStyle = couleur;\n        context.moveTo(x1, y1);\n        context.lineTo(x2, y2);\n        context.stroke();\n        context.fillStyle = couleur;\n        let milieu = milieuTwoPoints(x1, y1, x2, y2);\n\n        context.fillText(\n            \"Angle (en Degré) : \" +\n                Math.round(angle) +\n                \" \\n Distance (en Miles) : \" +\n                Math.round(long),\n            milieu[0],\n            milieu[1]\n        );\n    };\n\n    const milieuTwoPoints = (x1, y1, x2, y2) => {\n        return [(x1 + x2) / 2, (y1 + y2) / 2];\n    };\n    //const context = routeCanvasRef.current.getContext(\"2d\");\n    const handleOnSubmit = (event) => {\n        const context = routeCanvasRef.current.getContext(\"2d\");\n\n        let x1 = arrayPoints[0][0];\n        let y1 = arrayPoints[0][1];\n\n        distancePixelsRf =\n            (distancePixelsReference * distanceParcourirVal) /\n            distanceMilesReference;\n        distanceMilesRf = distanceParcourirVal;\n\n        let arrayP2 = drawLineAngle(\n            x1,\n            y1,\n            distancePixelsRf,\n            capVal,\n            context,\n            \"blue\",\n            1\n        );\n        let x2 = arrayP2[0];\n        let y2 = arrayP2[1];\n        let noeudCourant = (noeudVal * distancePixelsRf) / distanceMilesRf;\n        let arrayCoord = drawLineAngle(\n            x1,\n            y1,\n            noeudCourant,\n            angleVal,\n            context,\n            \"red\",\n            1\n        );\n\n        let x3 = arrayCoord[0];\n        let y3 = arrayCoord[1];\n\n        let degreeRS = (Math.atan2(y2 - y3, x2 - x3) * 180) / Math.PI + 90;\n        let distanceRSPixels = distanceTwoPoints(x3, y3, x2, y2);\n        let distanceRSMiles =\n            (distanceRSPixels * distanceMilesRf) / distancePixelsRf;\n        drawLine(x3, y3, x2, y2, context, \"green\", degreeRS, distanceRSMiles);\n\n        console.log(\"Distance RS (en Miles): \" + distanceRSMiles);\n        console.log(\"Angle RS (en Degrés): \" + degreeRS);\n\n        let degreeCapVrai = degreeRS - deriveVal;\n        console.log(\"Angle Cap Vrai (en Degrés): \" + degreeCapVrai);\n        console.log(\"Distance Cap Vrai (en Miles): \" + distanceRSMiles);\n        drawLineAngle(\n            x3,\n            y3,\n            distanceRSPixels,\n            degreeCapVrai,\n            context,\n            \"brown\",\n            1\n        );\n\n        let degreeCapCompas = degreeCapVrai - declinaisonVal - deviationVal;\n        let arrayCoordCapCompas = drawLineAngle(\n            x3,\n            y3,\n            distanceRSPixels,\n            degreeCapCompas,\n            context,\n            \"purple\",\n            5\n        );\n        let x4 = arrayCoordCapCompas[0];\n        let y4 = arrayCoordCapCompas[1];\n\n        console.log(\"Angle Cap Compas (en Degrés): \" + degreeCapCompas);\n        console.log(\"Distance Cap Compas (en Miles): \" + distanceRSMiles);\n\n        let dureeTrajet = (distanceRSMiles * 60) / vitesseFondVal;\n        console.log(\"Durée du trajet (en minutes) : \" + dureeTrajet);\n        drawPoint(x4, y4, \"purple\", dureeTrajet);\n\n        handleClose();\n    };\n    return (\n        <>\n            <div id=\"idRoute\">\n                <canvas\n                    id=\"canvas\"\n                    ref={routeCanvasRef}\n                    className=\"canvas-style mt-5\"\n                    onClick={(e) => !!route && setRoute(e)}\n                ></canvas>\n\n                <Modal show={show} onHide={handleClose} size=\"sm\" centered>\n                    <Modal.Header>\n                        <Modal.Title>Tracer route</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <Form.Label htmlFor=\"distanceParcourir\">\n                            Distance à parcourir\n                        </Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"distanceParcourir\"\n                            value={distanceParcourirVal}\n                            onChange={(e) =>\n                                setDistanceParcourirVal(e.target.value)\n                            }\n                            type=\"number\"\n                            placeholder=\"DistanceParcourir\"\n                        />\n                        <Form.Label htmlFor=\"cap\">Cap</Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"cap\"\n                            value={capVal}\n                            onChange={(e) => setCapVal(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Cap\"\n                        />\n                        <Form.Label htmlFor=\"vitesseFond\">\n                            Vitesse de Fond\n                        </Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"vitesseFond\"\n                            value={vitesseFondVal}\n                            onChange={(e) => setVitesseFondVal(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"VitesseFond\"\n                        />\n                        <Form.Label htmlFor=\"angle\">Angle</Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"angle\"\n                            value={angleVal}\n                            onChange={(e) => setAngleVal(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Angle\"\n                        />\n                        <Form.Label htmlFor=\"noeud\">Noeud</Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"noeud\"\n                            value={noeudVal}\n                            onChange={(e) => setNoeudVal(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Noeud\"\n                        />\n                        <Form.Label htmlFor=\"derive\">Dérive</Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"derive\"\n                            value={deriveVal}\n                            onChange={(e) => setDeriveVal(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Dérive\"\n                        />\n                        <Form.Label htmlFor=\"declinaison\">\n                            Déclinaison\n                        </Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"declinaison\"\n                            value={declinaisonVal}\n                            onChange={(e) => setDeclinaisonVal(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Déclinaison\"\n                        />\n                        <Form.Label htmlFor=\"deviation\">Déviation</Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"deviation\"\n                            value={deviationVal}\n                            onChange={(e) => setDeviationVal(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Déviation\"\n                        />\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={handleClose}>\n                            Annuler\n                        </Button>\n                        <Button variant=\"primary\" onClick={handleOnSubmit}>\n                            Valider le marquage\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n        </>\n    );\n};\n","import \"./SeaMap.css\";\nimport React, { useRef } from \"react\";\nimport { convertToDecimalDegre } from \"../helpers/GenerateMap\";\nimport { degToDms } from \"../helpers/GenerateMap\";\n\n// Grille\nconst drawLine = (tableRef, canvasGraticuleRef, mapSettingsData, mapArray) => {\n    const context = canvasGraticuleRef.current.getContext(\"2d\");\n    const canvasGraticule = canvasGraticuleRef.current;\n\n    const latitude = mapSettingsData.latitude;\n    const longitude = mapSettingsData.longitude;\n\n    const latitudeDistance = mapSettingsData.latitudeDistance;\n    const longitudeDistance = mapSettingsData.longitudeDistance;\n\n    const zoom = mapSettingsData.zoom;\n\n    const longitudeString =\n        longitude.deg +\n        \"° \" +\n        longitude.min +\n        \"' \" +\n        longitude.sec +\n        '\" ' +\n        longitude.orientation;\n\n    const {\n        decimalDegreLatitude,\n        decimalDegreLongitude,\n        decimalDegreLatitudeDistance,\n        decimalDegreLongitudeDistance\n    } = convertToDecimalDegre(\n        latitude,\n        longitude,\n        latitudeDistance,\n        longitudeDistance\n    );\n\n    const diffDegLongitude =\n        decimalDegreLongitude - decimalDegreLongitudeDistance;\n    const diffDegLatitude = decimalDegreLatitude + decimalDegreLatitudeDistance;\n\n    canvasGraticule.height = mapArray.length * 256;\n    canvasGraticule.width = mapArray[0].length * 256;\n\n    var height = mapArray.length * 256;\n    var width = mapArray[0].length * 256;\n\n    context.setLineDash([15, 5]);\n\n    var coordCentX = width / 2;\n    var coordCentY = height / 2;\n\n    var coordEstX = width;\n    var coordEstY = height / 2;\n\n    var coordOuestX = 0;\n    var coordOuestY = height / 2;\n\n    var coordNordX = width / 2;\n    var coordNordY = 0;\n\n    var coordSudX = width / 2;\n    var coordSudY = height;\n\n    for (\n        var i = coordCentX;\n        i <= coordEstX;\n        i += (coordEstX - coordCentX) / 6\n    ) {\n        context.moveTo(i, 0);\n        context.lineTo(i, height);\n        context.stroke();\n    }\n\n    for (\n        var i = coordOuestX;\n        i <= coordCentX;\n        i += (coordEstX - coordCentX) / 6\n    ) {\n        context.moveTo(i, 0);\n        context.lineTo(i, height);\n        context.stroke();\n    }\n    for (\n        var i = coordCentY;\n        i <= coordSudY;\n        i += (coordSudY - coordCentY) / 6\n    ) {\n        context.moveTo(0, i);\n        context.lineTo(width, i);\n        context.stroke();\n    }\n\n    for (\n        var i = coordNordY;\n        i <= coordCentY;\n        i += (coordSudY - coordCentY) / 6\n    ) {\n        context.moveTo(0, i);\n        context.lineTo(width, i);\n        context.stroke();\n    }\n};\n\nexport const SeaMap = (props) => {\n    const { mapArray, mapSettingsData, isStoredMap, storedMapName } = props;\n\n    //Ref\n    const tableRef = useRef(null);\n    const canvasGraticuleRef = useRef(null);\n\n    return (\n        <div>\n            <table\n                id=\"map\"\n                ref={tableRef}\n                className=\"mt-5\"\n                cellSpacing=\"0\"\n                cellPadding=\"0\"\n                style={{ border: \"none\" }}\n            >\n                <tbody>\n                    {mapArray.map((row, rowIndex) => {\n                        return (\n                            <tr key={rowIndex}>\n                                {row.map((cell, cellIndex) => {\n                                    if (\n                                        cellIndex === row.length - 1 &&\n                                        rowIndex === mapArray.length - 1\n                                    ) {\n                                        drawLine(\n                                            tableRef,\n                                            canvasGraticuleRef,\n                                            mapSettingsData,\n                                            mapArray\n                                        );\n                                    }\n                                    return (\n                                        <td\n                                            className=\"mapArrayCell\"\n                                            key={cellIndex}\n                                        >\n                                            <img\n                                                alt=\"\"\n                                                src={`https://a.tile.openstreetmap.fr/osmfr/${cell[0]}/${cell[1]}/${cell[2]}.png`}\n                                            />\n                                            <img\n                                                alt=\"\"\n                                                className=\"overlayed\"\n                                                src={`https://tiles.openseamap.org/seamark/${cell[0]}/${cell[1]}/${cell[2]}.png`}\n                                            />\n                                        </td>\n                                    );\n                                })}\n                            </tr>\n                        );\n                    })}\n                </tbody>\n            </table>\n            <canvas\n                ref={canvasGraticuleRef}\n                className=\"canvas-style-gaticule mt-5\"\n            ></canvas>\n        </div>\n    );\n};\n","import {\n    Button,\n    Navbar,\n    OverlayTrigger,\n    Tooltip,\n    NavDropdown\n} from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n    faLifeRing,\n    faMapMarkedAlt,\n    faPencilRuler,\n    faQuestion,\n    faSave\n} from \"@fortawesome/free-solid-svg-icons\";\nimport \"./TopBar.css\";\n\nconst renderTooltip = (title) => <Tooltip id=\"button-tooltip\">{title}</Tooltip>;\n\nexport const TopBar = (props) => {\n    const {\n        setShowSettings,\n        setShowLoadMap,\n        setShowHelp,\n        amerState,\n        routeState\n    } = props;\n    const [amer, setAmer] = amerState;\n\n    const swap = function (nodeA, nodeB) {\n        const parentA = nodeA.parentNode;\n        const siblingA =\n            nodeA.nextSibling === nodeB ? nodeA : nodeA.nextSibling;\n\n        // Move `nodeA` to before the `nodeB`\n        nodeB.parentNode.insertBefore(nodeA, nodeB);\n\n        // Move `nodeB` to before the sibling of `nodeA`\n        parentA.insertBefore(nodeB, siblingA);\n    };\n\n    const [route, setRoute] = routeState;\n    const handleShowSettings = () => setShowSettings(true);\n    const handleShowLoadMap = () => setShowLoadMap(true);\n    const handleShowHelp = () => setShowHelp(true);\n    const handleAmerState = () => {\n        var elemRoute = document.getElementById(\"idRoute\");\n        var elemCanvas = document.getElementById(\"idCanvas\");\n        setAmer(!amer);\n\n        if (!amer && route) {\n            setRoute(false);\n            swap(elemCanvas, elemRoute);\n        }\n    };\n    const handleRouteState = () => {\n        var elemRoute = document.getElementById(\"idRoute\");\n        var elemCanvas = document.getElementById(\"idCanvas\");\n        setRoute(!route);\n\n        if (amer && !route) {\n            setAmer(false);\n            swap(elemCanvas, elemRoute);\n        }\n    };\n\n    return (\n        <>\n            <Navbar\n                sticky=\"top\"\n                className=\"navbar-dark\"\n                style={{ position: \"fixed\", width: \"100%\" }}\n                bg=\"dark\"\n            >\n                <Navbar.Collapse id=\"basic-navbar-nav\">\n                    <a className=\"navbar-brand\" href=\"#\">\n                        &nbsp;&nbsp;Assistance Navigation Maritime\n                    </a>\n                    <OverlayTrigger\n                        placement=\"bottom\"\n                        overlay={renderTooltip(\"Gérer les coordonnées\")}\n                    >\n                        <Button\n                            variant=\"primary\"\n                            disabled={!navigator.onLine}\n                            onClick={navigator.onLine && handleShowSettings}\n                        >\n                            <FontAwesomeIcon icon={faMapMarkedAlt} size=\"lg\" />\n                        </Button>\n                    </OverlayTrigger>\n                    <OverlayTrigger\n                        placement=\"bottom\"\n                        overlay={renderTooltip(\"Charger une carte\")}\n                    >\n                        <Button\n                            variant=\"primary\"\n                            className=\"spacedButton\"\n                            onClick={handleShowLoadMap}\n                        >\n                            <FontAwesomeIcon icon={faSave} size=\"lg\" />\n                        </Button>\n                    </OverlayTrigger>\n                    <OverlayTrigger\n                        placement=\"bottom\"\n                        overlay={renderTooltip(\"Placer un amer\")}\n                    >\n                        <Button\n                            variant=\"primary\"\n                            className=\"spacedButton\"\n                            onClick={handleAmerState}\n                        >\n                            <FontAwesomeIcon icon={faLifeRing} size=\"lg\" />\n                            {!!amer ? \" ON\" : \" OFF\"}\n                        </Button>\n                    </OverlayTrigger>\n                    <OverlayTrigger\n                        placement=\"bottom\"\n                        overlay={renderTooltip(\"Tracer une route\")}\n                    >\n                        <Button\n                            variant=\"primary\"\n                            className=\"spacedButton\"\n                            onClick={handleRouteState}\n                        >\n                            <FontAwesomeIcon icon={faPencilRuler} size=\"lg\" />\n                            {!!route ? \" ON\" : \" OFF\"}\n                        </Button>\n                    </OverlayTrigger>\n                    <OverlayTrigger\n                        placement=\"bottom\"\n                        overlay={renderTooltip(\"Aide\")}\n                    >\n                        <Button\n                            variant=\"primary\"\n                            className=\"spacedButton\"\n                            onClick={handleShowHelp}\n                        >\n                            <FontAwesomeIcon icon={faQuestion} size=\"lg\" />\n                        </Button>\n                    </OverlayTrigger>\n                    &nbsp;\n                    <label\n                        className=\"ml-auto\"\n                        style={{ color: \"white\", fontWeight: \"bold\" }}\n                        id=\"coordTest\"\n                    ></label>\n                </Navbar.Collapse>\n            </Navbar>\n        </>\n    );\n};\n","import { useState } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { isBetween } from \"../../helpers/helpers\";\nimport { generateMapArray } from \"../../helpers/GenerateMap\";\n\nexport const SettingsModal = (props) => {\n    const {\n        show,\n        setMapArray,\n        mapNameState,\n        savedMapsState,\n        mapSettingsDataState,\n        setIsStoredMap\n    } = props;\n    const [mapSettingsData, setMapSettingsData] = mapSettingsDataState;\n    const [savedMaps, setSavedMaps] = savedMapsState;\n    const [showSettings, setShowSettings] = show;\n    const [mapName, setMapName] = mapNameState;\n\n    // Latitude\n    const [latDeg, setLatDeg] = useState(\"47\");\n    const [latMin, setLatMin] = useState(\"25\");\n    const [latSec, setLatSec] = useState(\"0\");\n    const [latRad, setLatRad] = useState(\"N\");\n\n    // Longitude\n    const [lonDeg, setLonDeg] = useState(\"2\");\n    const [lonMin, setLonMin] = useState(\"50\");\n    const [lonSec, setLonSec] = useState(\"0\");\n    const [lonRad, setLonRad] = useState(\"O\");\n\n    // Distance Longitude\n    const [lonDistDeg, setLonDistDeg] = useState(\"0\");\n    const [lonDistMin, setLonDistMin] = useState(\"15\");\n\n    // Distance Latitude\n    const [latDistDeg, setLatDistDeg] = useState(\"0\");\n    const [latDistMin, setLatDistMin] = useState(\"15\");\n\n    // Footer\n    const [mapZoom, setMapZoom] = useState(\"13\");\n\n    const handleCloseSettings = () => setShowSettings(false);\n    const applySettings = () => {\n        if (!savedMaps.find((savedMap) => savedMap.data.name === mapName)) {\n            const mapArray = generateMapArray({\n                latitude: {\n                    deg: latDeg,\n                    min: latMin,\n                    sec: latSec,\n                    orientation: latRad\n                },\n                longitude: {\n                    deg: lonDeg,\n                    min: lonMin,\n                    sec: lonSec,\n                    orientation: lonRad\n                },\n                longitudeDistance: {\n                    deg: lonDistDeg,\n                    min: lonDistMin\n                },\n                latitudeDistance: {\n                    deg: latDistDeg,\n                    min: latDistMin\n                },\n                zoom: parseInt(mapZoom)\n            });\n            setIsStoredMap(false);\n            setMapSettingsData({\n                latitude: {\n                    deg: latDeg,\n                    min: latMin,\n                    sec: latSec,\n                    orientation: latRad\n                },\n                longitude: {\n                    deg: lonDeg,\n                    min: lonMin,\n                    sec: lonSec,\n                    orientation: lonRad\n                },\n                longitudeDistance: {\n                    deg: lonDistDeg,\n                    min: lonDistMin\n                },\n                latitudeDistance: {\n                    deg: latDistDeg,\n                    min: latDistMin\n                },\n                zoom: parseInt(mapZoom),\n                name: mapName\n            });\n            setMapArray(mapArray);\n            setSavedMaps([\n                ...savedMaps,\n                {\n                    data: {\n                        latitude: {\n                            deg: latDeg,\n                            min: latMin,\n                            sec: latSec,\n                            orientation: latRad\n                        },\n                        longitude: {\n                            deg: lonDeg,\n                            min: lonMin,\n                            sec: lonSec,\n                            orientation: lonRad\n                        },\n                        longitudeDistance: {\n                            deg: lonDistDeg,\n                            min: lonDistMin\n                        },\n                        latitudeDistance: {\n                            deg: latDistDeg,\n                            min: latDistMin\n                        },\n                        zoom: parseInt(mapZoom),\n                        name: mapName\n                    },\n                    tiles: mapArray\n                }\n            ]);\n            setShowSettings(false);\n        } else {\n            alert(\"Une carte possédant ce nom existe déjà\");\n        }\n    };\n\n    return (\n        <Modal show={showSettings} onHide={handleCloseSettings} size=\"lg\">\n            <Modal.Header>\n                <Modal.Title>Gestion des coordonnées</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <div className=\"row g-3 align-items-end\" noValidate>\n                    <div className=\"col\">\n                        <label className=\"form-label\" htmlFor=\"mapName\">\n                            Nom de la carte :\n                        </label>\n                        <input\n                            className=\"form-control\"\n                            type=\"text\"\n                            id=\"mapName\"\n                            value={mapName}\n                            onChange={(e) => setMapName(e.target.value)}\n                        />\n                    </div>\n                </div>\n\n                <hr className=\"my-4\" />\n\n                <div className=\"row\">\n                    <label>Coordonnées Latitude : </label>\n                </div>\n                <div className=\"row g-3 align-items-end\" noValidate>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"latDeg\">\n                            Degré\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"latDeg\"\n                                value={latDeg}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, -90, 90) &&\n                                    setLatDeg(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>°</b>\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"latMin\">\n                            Minutes\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"latMin\"\n                                value={latMin}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, 0, 60) &&\n                                    setLatMin(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>'</b>\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"latSec\">\n                            Secondes\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"latSec\"\n                                value={latSec}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, 0, 60) &&\n                                    setLatSec(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>\"</b>\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"col-sm-2\">\n                        <div\n                            name=\"latitude\"\n                            className=\"btn-group\"\n                            role=\"group\"\n                            aria-label=\"Basic radio toggle button group\"\n                        >\n                            <input\n                                className=\"btn-check\"\n                                type=\"radio\"\n                                id=\"latRadioN\"\n                                value=\"N\"\n                                autoComplete=\"off\"\n                                checked={latRad === \"N\"}\n                                onChange={(e) => setLatRad(e.target.value)}\n                            />\n                            <label\n                                className=\"btn btn-outline-primary\"\n                                htmlFor=\"latRadioN\"\n                            >\n                                Nord\n                            </label>\n\n                            <input\n                                className=\"btn-check\"\n                                type=\"radio\"\n                                id=\"latRadioS\"\n                                value=\"S\"\n                                autoComplete=\"off\"\n                                checked={latRad === \"S\"}\n                                onChange={(e) => setLatRad(e.target.value)}\n                            />\n                            <label\n                                className=\"btn btn-outline-primary\"\n                                htmlFor=\"latRadioS\"\n                            >\n                                Sud\n                            </label>\n                        </div>\n                    </div>\n                </div>\n\n                <hr className=\"my-4\" />\n\n                <div className=\"row\">\n                    <label>Coordonnées Longitude :</label>\n                </div>\n                <div className=\"row g-3 align-items-end\" noValidate>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"lonDeg\">\n                            Degré\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"lonDeg\"\n                                value={lonDeg}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, -180, 180) &&\n                                    setLonDeg(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>°</b>\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"lonMin\">\n                            Minutes\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"lonMin\"\n                                value={lonMin}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, 0, 60) &&\n                                    setLonMin(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>'</b>\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"lonSec\">\n                            Secondes\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"lonSec\"\n                                value={lonSec}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, 0, 60) &&\n                                    setLonSec(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>\"</b>\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"col-sm-2\">\n                        <div\n                            className=\"btn-group\"\n                            name=\"latitude\"\n                            role=\"group\"\n                            aria-label=\"Basic radio toggle button group\"\n                        >\n                            <input\n                                className=\"btn-check\"\n                                type=\"radio\"\n                                id=\"lonRadioE\"\n                                value=\"E\"\n                                autoComplete=\"off\"\n                                checked={lonRad === \"E\"}\n                                onChange={(e) => setLonRad(e.target.value)}\n                            />\n                            <label\n                                className=\"btn btn-outline-primary\"\n                                htmlFor=\"lonRadioE\"\n                            >\n                                Est\n                            </label>\n                            <input\n                                className=\"btn-check\"\n                                type=\"radio\"\n                                id=\"lonRadioO\"\n                                value=\"O\"\n                                autoComplete=\"off\"\n                                checked={lonRad === \"O\"}\n                                onChange={(e) => setLonRad(e.target.value)}\n                            />\n                            <label\n                                className=\"btn btn-outline-primary\"\n                                htmlFor=\"lonRadioO\"\n                            >\n                                Ouest\n                            </label>\n                        </div>\n                    </div>\n                </div>\n\n                <hr className=\"my-4\" />\n\n                <div className=\"row\">\n                    <label>Rayon Latitude : </label>\n                </div>\n                <div className=\"row g-3 align-items-end\" noValidate>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"latDistDeg\">\n                            Degré\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"latDistDeg\"\n                                value={latDistDeg}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, -45, 45) &&\n                                    setLatDistDeg(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>°</b>\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"latDistMin\">\n                            Minutes\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"latDistMin\"\n                                value={latDistMin}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, 0, 60) &&\n                                    setLatDistMin(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>'</b>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n\n                <hr className=\"my-4\" />\n\n                <div className=\"row\">\n                    <label>Rayon Longitude : </label>\n                </div>\n                <div className=\"row g-3 align-items-end\" noValidate>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"lonDistDeg\">\n                            Degré\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"lonDistDeg\"\n                                value={lonDistDeg}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, -90, 90) &&\n                                    setLonDistDeg(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>°</b>\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"lonDistMin\">\n                            Minutes\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"lonDistMin\"\n                                value={lonDistMin}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, 0, 60) &&\n                                    setLonDistMin(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>'</b>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n\n                <hr className=\"my-4\" />\n\n                <div className=\"row\">\n                    <div className=\"col\">\n                        <label className=\"form-label\" htmlFor=\"mapZoom\">\n                            Échelle :\n                        </label>\n                        <select\n                            className=\"form-control\"\n                            id=\"mapZoom\"\n                            value={mapZoom}\n                            onChange={(e) => setMapZoom(e.target.value)}\n                        >\n                            <option value=\"10\">1:500 000</option>\n                            <option value=\"11\">1:250 000</option>\n                            <option value=\"12\">1:150 000</option>\n                            <option value=\"13\">1:70 000</option>\n                            <option value=\"14\">1:35 000</option>\n                            <option value=\"15\">1:15 000</option>\n                            <option value=\"16\">1:8 000</option>\n                            <option value=\"17\">1:4 000</option>\n                            <option value=\"18\">1:2 000</option>\n                        </select>\n                    </div>\n                </div>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"danger\" onClick={handleCloseSettings}>\n                    Annuler\n                </Button>\n                <Button variant=\"success\" onClick={applySettings}>\n                    Valider\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n","import { Modal, Button, Form } from \"react-bootstrap\";\nimport { useEffect, useState } from \"react\";\n\nexport const LoadMapModal = (props) => {\n    const {\n        show,\n        mapArrayState,\n        mapNameState,\n        savedMapsState,\n        isStoredMapState,\n        storedMapState,\n        mapSettingsDataState\n    } = props;\n    const [isStoredMap, setIsStoredMap] = isStoredMapState;\n    const [mapName, setMapName] = mapNameState;\n    const [mapArray, setMapArray] = mapArrayState;\n    const [showLoadMap, setShowLoadMap] = show;\n    const [savedMaps, setSavedMaps] = savedMapsState;\n    const [storedMapName, setStoredMapName] = storedMapState;\n    const [mapSettingsData, setMapSettingsData] = mapSettingsDataState;\n    const [currentlySelectedMapName, setCurrentlySelectedMapName] =\n        useState(\"\");\n    const handleCloseLoadMap = () => setShowLoadMap(false);\n\n    const handleValidate = () => {\n        if (currentlySelectedMapName) {\n            const ele = document.getElementById(\"dragMap\");\n            ele.style.left = \"0px\";\n            ele.style.top = \"0px\";\n            const selectedMap = savedMaps.find(\n                (map) => map.data.name === currentlySelectedMapName\n            );\n            if (selectedMap) {\n                setMapArray(selectedMap.tiles);\n                setMapSettingsData(selectedMap.data);\n            }\n            handleCloseLoadMap();\n        }\n    };\n\n    return (\n        <Modal show={showLoadMap} onHide={handleCloseLoadMap} size=\"lg\">\n            <Modal.Header>\n                <Modal.Title>Charger une carte</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form>\n                    <Form.Group>\n                        <Form.Label>Nom</Form.Label>\n                        <Form.Control\n                            disabled={!savedMaps.length}\n                            as=\"select\"\n                            value={currentlySelectedMapName}\n                            onChange={(e) =>\n                                setCurrentlySelectedMapName(e.target.value)\n                            }\n                        >\n                            <option selected></option>\n                            {savedMaps.length &&\n                                savedMaps.map((currMap) => (\n                                    <option value={currMap.data.name}>\n                                        {currMap.data.name}\n                                    </option>\n                                ))}\n                        </Form.Control>\n                    </Form.Group>\n                </Form>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"danger\" onClick={handleCloseLoadMap}>\n                    Annuler\n                </Button>\n                <Button\n                    variant=\"success\"\n                    disabled={!savedMaps.length || !currentlySelectedMapName}\n                    onClick={handleValidate}\n                >\n                    Valider Carte\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n","import { useState, useEffect } from \"react\";\nimport { SettingsModal } from \"./Modals/SettingsModal\";\nimport { LoadMapModal } from \"./Modals/LoadMapModal\";\n\nexport const Modals = (props) => {\n    const {\n        settingsModal,\n        loadMapModal,\n        mapArrayState,\n        isStoredMapState,\n        mapSettingsDataState,\n        mapNameState,\n        storedMapState\n    } = props;\n    const [mapName, setMapName] = mapNameState;\n    const [savedMaps, setSavedMaps] = useState([]);\n    const [mapArray, setMapArray] = mapArrayState;\n    const [hasLoadedMapDir, setHasLoadedMapDir] = useState(false);\n    const [isStoredMap, setIsStoredMap] = isStoredMapState;\n\n    return (\n        <>\n            <LoadMapModal\n                show={loadMapModal}\n                mapArrayState={[mapArray, setMapArray]}\n                isStoredMapState={isStoredMapState}\n                mapNameState={[mapName, setMapName]}\n                savedMapsState={[savedMaps, setSavedMaps]}\n                storedMapState={storedMapState}\n                mapSettingsDataState={mapSettingsDataState}\n            />\n            <SettingsModal\n                mapSettingsDataState={mapSettingsDataState}\n                show={settingsModal}\n                setMapArray={setMapArray}\n                mapNameState={[mapName, setMapName]}\n                savedMapsState={[savedMaps, setSavedMaps]}\n                setIsStoredMap={setIsStoredMap}\n            />\n        </>\n    );\n};\n","import { Modal, Button } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n    faLifeRing,\n    faMapMarkedAlt,\n    faPencilRuler,\n    faSave\n} from \"@fortawesome/free-solid-svg-icons\";\n\nexport const HelpModal = (props) => {\n    const { showState } = props;\n    const [showHelp, setShowHelp] = showState;\n\n    const handleClose = () => setShowHelp(false);\n\n    return (\n        <Modal show={showHelp} onHide={handleClose} size=\"lg\" centered>\n            <Modal.Header>\n                <Modal.Title>Aide</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <p>\n                    La barre de navigation contient 4 boutons\n                    <br />\n                    <hr />\n                    <div className=\"row\">\n                        <div className=\"col-md-1\">\n                            <Button variant=\"primary\">\n                                <FontAwesomeIcon\n                                    icon={faMapMarkedAlt}\n                                    size=\"lg\"\n                                />\n                            </Button>\n                        </div>\n                        <div className=\"col-md-11\">\n                            &nbsp; Bouton qui permet l'affichage de la fenêtre\n                            de gestion de coordonnées, afin de charger l'endroit\n                            du globe que l'on veut, avec une échelle et une\n                            taille bien précise\n                        </div>\n                    </div>\n                    <hr />\n                    <div className=\"row\">\n                        <div className=\"col-md-1\">\n                            <Button variant=\"primary\">\n                                <FontAwesomeIcon icon={faSave} size=\"lg\" />\n                            </Button>\n                        </div>\n                        <div className=\"col-md-11\">\n                            &nbsp; Bouton qui affiche la fenêtre de chargement\n                            de cartes prédéfinies, qui permet de charger toutes\n                            les cartes déjà initialisées (principalement utile\n                            en mode hors ligne ou bien pour charger aisément une\n                            carte récurrente)\n                        </div>\n                    </div>\n                    <hr />\n                    <div className=\"row\">\n                        <div className=\"col-md-2\">\n                            <Button variant=\"primary\">\n                                <FontAwesomeIcon icon={faLifeRing} size=\"lg\" />\n                                &nbsp;OFF\n                            </Button>\n                        </div>\n                        <div className=\"col-md-10\">\n                            &nbsp; Bouton qui affiche si oui(ON) ou non(OFF) le\n                            mode de repérage d'amer est activé. Lorsque ce\n                            dernier l'est, cliquer sur la carte puis remplir le\n                            formulaire associé va permettre de repérer un amer.\n                            Lorsque 3 amers seront relevés, un point central\n                            ainsi que ses coordonnées seront affichées sur\n                            l'interface, au centre du triangle formé par\n                            l'intersection des droites issues des relevages\n                            d'amers\n                        </div>\n                    </div>\n                    <hr />\n                    <div className=\"row\">\n                        <div className=\"col-md-2\">\n                            <Button variant=\"primary\">\n                                <FontAwesomeIcon\n                                    icon={faPencilRuler}\n                                    size=\"lg\"\n                                />\n                                &nbsp;OFF\n                            </Button>\n                        </div>\n                        <div className=\"col-md-10\">\n                            &nbsp; Bouton qui affiche si oui(ON) ou non(OFF) le\n                            mode de traçage de route est activé. Lorsque ce\n                            dernier l'est, il est possible de cliquer sur la\n                            carte, pour spécifier le point de départ de la\n                            route. Une fois cela fait, une fenêtre va apparaître\n                            et il faudra spécifier certaines variables liées à\n                            la navigation. Une fois le formulaire de la fenêre\n                            validé, cela va tracer différents types de routes,\n                            notamment le courant, la route surface, le cap vrai\n                            ainsi que le cap Compas\n                        </div>\n                    </div>\n                </p>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" onClick={handleClose}>\n                    Fermer\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n","import { Canvas } from \"./components/Canvas\";\nimport { Route } from \"./components/Route\";\nimport { SeaMap } from \"./components/SeaMap\";\nimport { TopBar } from \"./components/TopBar\";\nimport { Modals } from \"./components/Modals\";\nimport { HelpModal } from \"./components/HelpModal\";\nimport { useState, useRef, useEffect } from \"react\";\nimport \"./App.css\";\n\nexport const App = () => {\n    const [showSettings, setShowSettings] = useState(false);\n    const [showLoadMap, setShowLoadMap] = useState(false);\n    const [showHelp, setShowHelp] = useState(false);\n    const [mapArray, setMapArray] = useState([]);\n    const [isStoredMap, setIsStoredMap] = useState(true);\n    const [mapSettingsData, setMapSettingsData] = useState({});\n    const [mapName, setMapName] = useState(\"Baie de Quiberon\");\n    const [storedMapName, setStoredMapName] = useState(\"\");\n    const [amer, setAmer] = useState(false);\n    const [hasScrollListener, setHasScrollListener] = useState(false);\n    const [route, setRoute] = useState(false);\n\n    useEffect(() => {\n        const ele = document.getElementById(\"dragMap\");\n        if (!hasScrollListener && !amer) {\n            let x = 0;\n            let y = 0;\n            let html = document.documentElement;\n            const mouseDownHandler = (e) => {\n                x = e.clientX;\n                y = e.clientY;\n                document.addEventListener(\"mousemove\", mouseMoveHandler);\n                document.addEventListener(\"mouseup\", mouseUpHandler);\n                ele.style.cursor = \"grabbing\";\n                ele.style.userSelect = \"none\";\n            };\n\n            const mouseMoveHandler = (e) => {\n                let dx = e.clientX - x;\n                let dy = e.clientY - y;\n                if (\n                    (ele.offsetLeft > 0 && dx > 0) ||\n                    (html.scrollWidth === html.clientWidth && dx < 0)\n                ) {\n                    dx = 0;\n                }\n                if (\n                    (ele.offsetTop > 0 && dy > 0) ||\n                    (html.scrollHeight === html.clientHeight && dy < 0)\n                ) {\n                    dy = 0;\n                }\n\n                ele.style.top = `${ele.offsetTop + dy}px`;\n                ele.style.left = `${ele.offsetLeft + dx}px`;\n                x = e.clientX;\n                y = e.clientY;\n            };\n\n            const mouseUpHandler = () => {\n                document.removeEventListener(\"mousemove\", mouseMoveHandler);\n                document.removeEventListener(\"mouseup\", mouseUpHandler);\n                ele.style.cursor = \"grab\";\n                ele.style.removeProperty(\"user-select\");\n            };\n            setHasScrollListener(true);\n            if (!amer) {\n                ele.addEventListener(\"mousedown\", mouseDownHandler);\n            }\n        }\n    }, [amer]);\n\n    return (\n        <>\n            <TopBar\n                setShowSettings={setShowSettings}\n                setShowLoadMap={setShowLoadMap}\n                setShowHelp={setShowHelp}\n                amerState={[amer, setAmer]}\n                routeState={[route, setRoute]}\n            />\n            <Modals\n                settingsModal={[showSettings, setShowSettings]}\n                loadMapModal={[showLoadMap, setShowLoadMap]}\n                isStoredMapState={[isStoredMap, setIsStoredMap]}\n                mapArrayState={[mapArray, setMapArray]}\n                mapSettingsDataState={[mapSettingsData, setMapSettingsData]}\n                mapNameState={[mapName, setMapName]}\n                storedMapState={[storedMapName, setStoredMapName]}\n            />\n            <HelpModal showState={[showHelp, setShowHelp]} />\n            <div id=\"dragMap\" className={!!amer ? \"amerPointer\" : \"draggable\"}>\n                <SeaMap\n                    mapArray={mapArray}\n                    isStoredMap={isStoredMap}\n                    mapSettingsData={mapSettingsData}\n                    storedMapName={storedMapName}\n                />\n                <Route\n                    route={route}\n                    mapArray={mapArray}\n                    mapSettingsData={mapSettingsData}\n                />\n\n                <Canvas\n                    amer={amer}\n                    mapArray={mapArray}\n                    mapSettingsData={mapSettingsData}\n                />\n            </div>\n        </>\n    );\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst renderReactDom = () => {\n    ReactDOM.render(<App />, document.getElementById(\"root\"));\n};\n\nif (window.cordova) {\n    document.addEventListener(\n        \"deviceready\",\n        () => {\n            renderReactDom();\n        },\n        false\n    );\n} else {\n    renderReactDom();\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}