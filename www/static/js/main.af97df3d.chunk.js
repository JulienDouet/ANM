(this["webpackJsonpcom.anm.app"]=this["webpackJsonpcom.anm.app"]||[]).push([[0],{50:function(e,t,a){},51:function(e,t,a){},56:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(11),s=a.n(c),r=(a(50),a(6)),i=a(19),l=a(44),o=a(45),d=(a(51),a(72)),u=a(73),j=a(75),b=a.p+"static/media/regle-cras.38c0b4c7.png",m=function(e,t,a){return e>=t&&e<=a},h=a(37),g=function(e,t,a,n,c){return[parseInt((1-Math.asinh(Math.tan(t*(Math.PI/180)))/Math.PI)/2*Math.pow(2,e)),parseInt((a+180)/360*Math.pow(2,e)),parseInt((1-Math.asinh(Math.tan(n*(Math.PI/180)))/Math.PI)/2*Math.pow(2,e)),parseInt((c+180)/360*Math.pow(2,e))]},O=function(e,t,a,n,c){var s=t-n,r=a-c,i=t+n,l=a+c;return[parseInt((1-Math.asinh(Math.tan(s*(Math.PI/180)))/Math.PI)/2*Math.pow(2,e)),parseInt((r+180)/360*Math.pow(2,e)),parseInt((1-Math.asinh(Math.tan(i*(Math.PI/180)))/Math.PI)/2*Math.pow(2,e)),parseInt((l+180)/360*Math.pow(2,e))]},p=function(e,t,a,n){var c=parseInt(e.deg)+(60*e.min+parseInt(e.sec))/3600,s=parseInt(t.deg)+(60*t.min+parseInt(t.sec))/3600,r=parseInt(a.deg)+60*a.min/3600,i=parseInt(n.deg)+60*n.min/3600;return{decimalDegreLatitude:"S"===e.orientation?-c:c,decimalDegreLongitude:"O"===t.orientation?-s:s,decimalDegreLatitudeDistance:r,decimalDegreLongitudeDistance:i}},x=function(e,t,a,n){for(var c=t[0],s=t[1],r=t[2],i=t[3],l=c-r,o=i-s,d=Object(h.a)(Array(l+1)).map((function(){return Array(o+1)})),u=s;u<=i;++u)for(var j=r;j<=c;++j)d[j-r][u-s]=[a,u,j];return d};function v(e,t){var a=e<0?t?"O":"S":t?"E":"N",n=Math.abs(e),c=0|n,s=n-c,r=60*s|0,i=3600*s-60*r;return c+"\xb0"+r+"'"+(i=Math.round(100*i)/100)+'"'+a}var f=a(1),N=0,y=[],S=function(){function e(t,a){Object(l.a)(this,e),this._x=t,this._y=a}return Object(o.a)(e,[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"getCoef",value:function(e){return(e.y-this._y)/(e.x-this._x)}},{key:"getMedian",value:function(t,a){var n=(t.x+a.x)/2,c=(t.y+a.y)/2;return new M(this,new e(n,c))}}]),e}(),M=function(){function e(t,a){Object(l.a)(this,e),this._coef=t.getCoef(a),this._origin=t.y-this._coef*t.x}return Object(o.a)(e,[{key:"coef",get:function(){return this._coef}},{key:"origin",get:function(){return this._origin}},{key:"getValue",value:function(e){return this._coef*e+this._origin}},{key:"getIntersection",value:function(e){var t=Math.abs((e.origin-this._origin)/(e.coef-this._coef)),a=this._coef*t+this._origin;return new S(t,a)}}]),e}(),D=function(e){var t=e.mapArray,a=e.amer,c=e.mapSettingsData,s=Object(n.useState)(!1),l=Object(r.a)(s,2),o=l[0],m=l[1],h=function(){return m(!1)},g=Object(n.useState)("0"),O=Object(r.a)(g,2),x=O[0],D=O[1],C=Object(n.useState)("2000"),I=Object(r.a)(C,2),w=I[0],L=(I[1],Object(n.useState)("0")),k=Object(r.a)(L,2),F=k[0],E=k[1],P=Object(n.useState)("0"),T=Object(r.a)(P,2),A=T[0],R=T[1],_=Object(n.useState)({x1:0,y1:0,r:0,angle:-90}),B=Object(r.a)(_,2),z=B[0],H=B[1],V=Object(n.useRef)(null);Object(n.useEffect)((function(){if(t.length){var e=V.current;e.height=256*t.length,e.width=256*t[0].length}}),[t]);var X=function(){var e=new Image;e.src=b,e.alt="alt text";var t=V.current.getContext("2d");e.onload=function(){t.save(),t.translate(z.x1,z.y1),t.rotate((x-90)*(Math.PI/180)),t.drawImage(e,-e.width/2,0),t.restore()};z.x1,z.y1,e.height;t.clearRect(0,0,V.current.width,V.current.height),t.stroke(),++N>=3&&Y()},Y=function(){var e=y[0],a=y[1],n=y[2],c=y[3],s=y[4],r=y[5],i=new M(e,a),l=new M(n,c),o=new M(s,r),d=i.getIntersection(l),u=i.getIntersection(o),j=l.getIntersection(o),b=d.getMedian(u,j),m=u.getMedian(d,j),h=(j.getMedian(d,u),b.getIntersection(m));console.log("middle : x=".concat(h.x,", y=").concat(h.y));var g=256*t[0].length,O=256*t.length;!function(e,t,a){var n=V.current.getContext("2d");n.fillStyle=a||"black",n.beginPath(),n.arc(e,t,5,0,2*Math.PI,!0),n.fill()}(h.x,h.y,"red");var p=V.current.getContext("2d");p.beginPath(),p.fillStyle="#000000",p.rect(h.x,h.y,160,25),p.fill(),p.fillStyle="#FFFFFF",p.fillText(G(h.x,h.y,g,O),h.x+10,h.y+20),console.log(G(h.x,h.y,g,O))},G=function(e,t,a,n){var s=c.latitude,r=c.longitude,i=c.latitudeDistance,l=c.longitudeDistance,o=p(s,r,i,l),d=o.decimalDegreLatitude,u=o.decimalDegreLongitude,j=o.decimalDegreLatitudeDistance,b=o.decimalDegreLongitudeDistance,m=u-b,h=d+b,g=t/n*(d-j-h)+h;return v(e/a*(u+b-m)+m,!0)+"   "+v(g,!1)};Object(n.useEffect)((function(){V&&V.current.addEventListener("mousemove",(function(e){if(t.length>1&&(e.clientX%2===0||e.clientY%2===0)){var a=V.current.getBoundingClientRect(),n=256*t[0].length,c=256*t.length,s=parseInt(Math.abs(e.clientX-a.left)),r=parseInt(Math.abs(e.clientY-a.top));document.getElementById("coordTest").innerHTML="&nbsp;"+G(s,r,n,c)}}))})),Object(n.useEffect)((function(){H(Object(i.a)(Object(i.a)({},z),{},{angle:parseInt(x,10)+parseInt(F,10)+parseInt(A,10)-90}))}),[x]),Object(n.useEffect)((function(){H(Object(i.a)(Object(i.a)({},z),{},{r:w}))}),[w]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("canvas",{id:"canvas",ref:V,className:"canvas-style mt-5",onClick:function(e){return!!a&&function(e){m(!0);var t=V.current.getBoundingClientRect();H(Object(i.a)(Object(i.a)({},z),{},{x1:e.clientX-t.left,y1:e.clientY-t.top,r:w}))}(e)}}),Object(f.jsxs)(d.a,{show:o,onHide:h,size:"sm",centered:!0,children:[Object(f.jsx)(d.a.Header,{children:Object(f.jsx)(d.a.Title,{children:"Relever l'amer"})}),Object(f.jsxs)(d.a.Body,{children:[Object(f.jsx)(u.a.Label,{htmlFor:"angle",children:"Angle"}),Object(f.jsx)(u.a.Control,{className:"mb-2 mr-sm-2",id:"angle",value:x,onChange:function(e){return D(e.target.value)},type:"number",placeholder:"Angle"}),Object(f.jsx)(u.a.Label,{htmlFor:"declinaison",children:"D\xe9clinaison (D)"}),Object(f.jsx)(u.a.Control,{className:"mb-2 mr-sm-2",id:"declinaison",value:A,onChange:function(e){return R(e.target.value)},type:"number",placeholder:"D\xe9clinaison"}),Object(f.jsx)(u.a.Label,{htmlFor:"deviation",children:"D\xe9viation (d)"}),Object(f.jsx)(u.a.Control,{className:"mb-2 mr-sm-2",id:"deviation",value:F,onChange:function(e){return E(e.target.value)},type:"number",placeholder:"D\xe9viation"})]}),Object(f.jsxs)(d.a.Footer,{children:[Object(f.jsx)(j.a,{variant:"secondary",onClick:h,children:"Annuler"}),Object(f.jsx)(j.a,{variant:"primary",onClick:function(e){!function(){var e=V.current.getContext("2d");e.lineWidth=5,e.moveTo(z.x1,z.y1),y.push(new S(z.x1,z.y1)),e.lineTo(z.x1+z.r*Math.cos(Math.PI*(z.angle+180)/180),z.y1+z.r*Math.sin(Math.PI*(z.angle+180)/180)),y.push(new S(z.x1+z.r*Math.cos(Math.PI*z.angle/180),z.y1+z.r*Math.sin(Math.PI*z.angle/180))),e.stroke()}(),X(),h()},children:"Valider le marquage"})]})]})]})},C=(a(56),function(e){var t=e.mapArray,a=e.mapSettingsData,c=(e.isStoredMap,e.storedMapName,Object(n.useRef)(null)),s=Object(n.useRef)(null);return Object(f.jsxs)("div",{children:[Object(f.jsx)("table",{id:"map",ref:c,className:"mt-5",cellSpacing:"0",cellPadding:"0",style:{border:"none"},children:Object(f.jsx)("tbody",{children:t.map((function(e,n){return Object(f.jsx)("tr",{children:e.map((function(c,r){return r===e.length-1&&n===t.length-1&&function(e,t,a,n){var c=t.current.getContext("2d"),s=t.current,r=a.latitude,i=a.longitude,l=a.latitudeDistance,o=a.longitudeDistance,d=(a.zoom,i.deg,i.min,i.sec,i.orientation,p(r,i,l,o));d.decimalDegreLatitude,d.decimalDegreLongitude;d.decimalDegreLatitudeDistance,d.decimalDegreLongitudeDistance,s.height=256*n.length,s.width=256*n[0].length;var u=256*n.length,j=256*n[0].length;c.setLineDash([15,5]);for(var b=j/2,m=u/2,h=j,g=u,O=b;O<=h;O+=(h-b)/6)c.moveTo(O,0),c.lineTo(O,u),c.stroke();for(O=0;O<=b;O+=(h-b)/6)c.moveTo(O,0),c.lineTo(O,u),c.stroke();for(O=m;O<=g;O+=(g-m)/6)c.moveTo(0,O),c.lineTo(j,O),c.stroke();for(O=0;O<=m;O+=(g-m)/6)c.moveTo(0,O),c.lineTo(j,O),c.stroke()}(0,s,a,t),Object(f.jsxs)("td",{className:"mapArrayCell",children:[Object(f.jsx)("img",{alt:"",src:"https://a.tile.openstreetmap.fr/osmfr/".concat(c[0],"/").concat(c[1],"/").concat(c[2],".png")}),Object(f.jsx)("img",{alt:"",className:"overlayed",src:"https://tiles.openseamap.org/seamark/".concat(c[0],"/").concat(c[1],"/").concat(c[2],".png")})]},r)}))},n)}))})}),Object(f.jsx)("canvas",{ref:s,className:"canvas-style-gaticule mt-5"})]})}),I=a(70),w=a(74),L=a(71),k=a(29),F=a(31),E=(a(60),function(e){return Object(f.jsx)(I.a,{id:"button-tooltip",children:e})}),P=function(e){var t=e.setShowSettings,a=e.setShowLoadMap,n=e.amerState,c=Object(r.a)(n,2),s=c[0],i=c[1];return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(w.a,{sticky:"top",className:"navbar-dark",style:{position:"fixed",width:"100%"},bg:"dark",children:Object(f.jsxs)("div",{className:"topbar-container",children:[Object(f.jsx)("a",{className:"navbar-brand",href:"#",children:"\xa0\xa0Assistance Navigation Maritime"}),Object(f.jsx)(L.a,{placement:"bottom",overlay:E("G\xe9rer les coordonn\xe9es"),children:Object(f.jsx)(j.a,{variant:"primary",disabled:!navigator.onLine,onClick:navigator.onLine&&function(){return t(!0)},children:Object(f.jsx)(k.a,{icon:F.b,size:"lg"})})}),Object(f.jsx)(L.a,{placement:"bottom",overlay:E("Charger une carte"),children:Object(f.jsx)(j.a,{variant:"primary",className:"spacedButton",onClick:function(){return a(!0)},children:Object(f.jsx)(k.a,{icon:F.d,size:"lg"})})}),Object(f.jsx)(L.a,{placement:"bottom",overlay:E("Placer un amer"),children:Object(f.jsxs)(j.a,{variant:"primary",className:"spacedButton",onClick:function(){return i(!s)},children:[Object(f.jsx)(k.a,{icon:F.a,size:"lg"}),s?" ON":" OFF"]})}),Object(f.jsx)(L.a,{placement:"bottom",overlay:E("Tracer une route"),children:Object(f.jsx)(j.a,{variant:"primary",className:"spacedButton",children:Object(f.jsx)(k.a,{icon:F.c,size:"lg"})})}),Object(f.jsx)("label",{className:"ml-auto",style:{color:"red"},id:"coordTest"})]})})})},T=function(e){var t=e.show,a=e.setMapArray,c=e.mapNameState,s=e.savedMapsState,i=e.mapSettingsDataState,l=e.setIsStoredMap,o=Object(r.a)(i,2),u=(o[0],o[1]),b=Object(r.a)(s,2),v=b[0],N=b[1],y=Object(r.a)(t,2),S=y[0],M=y[1],D=Object(r.a)(c,2),C=D[0],I=D[1],w=Object(n.useState)("47"),L=Object(r.a)(w,2),k=L[0],F=L[1],E=Object(n.useState)("25"),P=Object(r.a)(E,2),T=P[0],A=P[1],R=Object(n.useState)("0"),_=Object(r.a)(R,2),B=_[0],z=_[1],H=Object(n.useState)("N"),V=Object(r.a)(H,2),X=V[0],Y=V[1],G=Object(n.useState)("2"),W=Object(r.a)(G,2),J=W[0],Z=W[1],q=Object(n.useState)("50"),Q=Object(r.a)(q,2),U=Q[0],K=Q[1],$=Object(n.useState)("0"),ee=Object(r.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)("O"),ce=Object(r.a)(ne,2),se=ce[0],re=ce[1],ie=Object(n.useState)("0"),le=Object(r.a)(ie,2),oe=le[0],de=le[1],ue=Object(n.useState)("15"),je=Object(r.a)(ue,2),be=je[0],me=je[1],he=Object(n.useState)("0"),ge=Object(r.a)(he,2),Oe=ge[0],pe=ge[1],xe=Object(n.useState)("15"),ve=Object(r.a)(xe,2),fe=ve[0],Ne=ve[1],ye=Object(n.useState)("13"),Se=Object(r.a)(ye,2),Me=Se[0],De=Se[1],Ce=function(){return M(!1)};return Object(f.jsxs)(d.a,{show:S,onHide:Ce,size:"lg",children:[Object(f.jsx)(d.a.Header,{children:Object(f.jsx)(d.a.Title,{children:"Gestion des coordonn\xe9es"})}),Object(f.jsxs)(d.a.Body,{children:[Object(f.jsx)("div",{className:"row g-3 align-items-end",noValidate:!0,children:Object(f.jsxs)("div",{className:"col",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"mapName",children:"Nom de la carte :"}),Object(f.jsx)("input",{className:"form-control",type:"text",id:"mapName",value:C,onChange:function(e){return I(e.target.value)}})]})}),Object(f.jsx)("hr",{className:"my-4"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("label",{children:"Coordonn\xe9es Latitude : "})}),Object(f.jsxs)("div",{className:"row g-3 align-items-end",noValidate:!0,children:[Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"latDeg",children:"Degr\xe9"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"latDeg",value:k,onChange:function(e){return m(e.target.value,-90,90)&&F(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:"\xb0"})})]})]}),Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"latMin",children:"Minutes"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"latMin",value:T,onChange:function(e){return m(e.target.value,0,60)&&A(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:"'"})})]})]}),Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"latSec",children:"Secondes"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"latSec",value:B,onChange:function(e){return m(e.target.value,0,60)&&z(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:'"'})})]})]}),Object(f.jsx)("div",{className:"col-sm-2",children:Object(f.jsxs)("div",{name:"latitude",className:"btn-group",role:"group","aria-label":"Basic radio toggle button group",children:[Object(f.jsx)("input",{className:"btn-check",type:"radio",id:"latRadioN",value:"N",autoComplete:"off",checked:"N"===X,onChange:function(e){return Y(e.target.value)}}),Object(f.jsx)("label",{className:"btn btn-outline-primary",htmlFor:"latRadioN",children:"Nord"}),Object(f.jsx)("input",{className:"btn-check",type:"radio",id:"latRadioS",value:"S",autoComplete:"off",checked:"S"===X,onChange:function(e){return Y(e.target.value)}}),Object(f.jsx)("label",{className:"btn btn-outline-primary",htmlFor:"latRadioS",children:"Sud"})]})})]}),Object(f.jsx)("hr",{className:"my-4"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("label",{children:"Coordonn\xe9es Longitude :"})}),Object(f.jsxs)("div",{className:"row g-3 align-items-end",noValidate:!0,children:[Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"lonDeg",children:"Degr\xe9"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"lonDeg",value:J,onChange:function(e){return m(e.target.value,-180,180)&&Z(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:"\xb0"})})]})]}),Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"lonMin",children:"Minutes"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"lonMin",value:U,onChange:function(e){return m(e.target.value,0,60)&&K(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:"'"})})]})]}),Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"lonSec",children:"Secondes"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"lonSec",value:te,onChange:function(e){return m(e.target.value,0,60)&&ae(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:'"'})})]})]}),Object(f.jsx)("div",{className:"col-sm-2",children:Object(f.jsxs)("div",{className:"btn-group",name:"latitude",role:"group","aria-label":"Basic radio toggle button group",children:[Object(f.jsx)("input",{className:"btn-check",type:"radio",id:"lonRadioE",value:"E",autoComplete:"off",checked:"E"===se,onChange:function(e){return re(e.target.value)}}),Object(f.jsx)("label",{className:"btn btn-outline-primary",htmlFor:"lonRadioE",children:"Est"}),Object(f.jsx)("input",{className:"btn-check",type:"radio",id:"lonRadioO",value:"O",autoComplete:"off",checked:"O"===se,onChange:function(e){return re(e.target.value)}}),Object(f.jsx)("label",{className:"btn btn-outline-primary",htmlFor:"lonRadioO",children:"Ouest"})]})})]}),Object(f.jsx)("hr",{className:"my-4"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("label",{children:"Rayon Latitude : "})}),Object(f.jsxs)("div",{className:"row g-3 align-items-end",noValidate:!0,children:[Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"latDistDeg",children:"Degr\xe9"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"latDistDeg",value:Oe,onChange:function(e){return m(e.target.value,-45,45)&&pe(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:"\xb0"})})]})]}),Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"latDistMin",children:"Minutes"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"latDistMin",value:fe,onChange:function(e){return m(e.target.value,0,60)&&Ne(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:"'"})})]})]})]}),Object(f.jsx)("hr",{className:"my-4"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("label",{children:"Rayon Longitude : "})}),Object(f.jsxs)("div",{className:"row g-3 align-items-end",noValidate:!0,children:[Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"lonDistDeg",children:"Degr\xe9"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"lonDistDeg",value:oe,onChange:function(e){return m(e.target.value,-90,90)&&de(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:"\xb0"})})]})]}),Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"lonDistMin",children:"Minutes"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"lonDistMin",value:be,onChange:function(e){return m(e.target.value,0,60)&&me(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:"'"})})]})]})]}),Object(f.jsx)("hr",{className:"my-4"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"mapZoom",children:"\xc9chelle :"}),Object(f.jsxs)("select",{className:"form-control",id:"mapZoom",value:Me,onChange:function(e){return De(e.target.value)},children:[Object(f.jsx)("option",{value:"10",children:"1:500 000"}),Object(f.jsx)("option",{value:"11",children:"1:250 000"}),Object(f.jsx)("option",{value:"12",children:"1:150 000"}),Object(f.jsx)("option",{value:"13",children:"1:70 000"}),Object(f.jsx)("option",{value:"14",children:"1:35 000"}),Object(f.jsx)("option",{value:"15",children:"1:15 000"}),Object(f.jsx)("option",{value:"16",children:"1:8 000"}),Object(f.jsx)("option",{value:"17",children:"1:4 000"}),Object(f.jsx)("option",{value:"18",children:"1:2 000"})]})]})})]}),Object(f.jsxs)(d.a.Footer,{children:[Object(f.jsx)(j.a,{variant:"danger",onClick:Ce,children:"Annuler"}),Object(f.jsx)(j.a,{variant:"success",onClick:function(){if(v.find((function(e){return e.data.name===C})))alert("Une carte poss\xe9dant ce nom existe d\xe9j\xe0");else{var e=function(e){var t=e.latitude,a=e.longitude,n=e.latitudeDistance,c=e.longitudeDistance,s=e.zoom,r=e.size,i=p(t,a,n,c),l=i.decimalDegreLatitude,o=i.decimalDegreLongitude,d=i.decimalDegreLatitudeDistance,u=i.decimalDegreLongitudeDistance,j=g(s,l,o,d,u),b=O(s,l,o,d,u);return x(j,b,s,r)}({latitude:{deg:k,min:T,sec:B,orientation:X},longitude:{deg:J,min:U,sec:te,orientation:se},longitudeDistance:{deg:oe,min:be},latitudeDistance:{deg:Oe,min:fe},zoom:parseInt(Me)});l(!1),u({latitude:{deg:k,min:T,sec:B,orientation:X},longitude:{deg:J,min:U,sec:te,orientation:se},longitudeDistance:{deg:oe,min:be},latitudeDistance:{deg:Oe,min:fe},zoom:parseInt(Me),name:C}),a(e),N([].concat(Object(h.a)(v),[{data:{latitude:{deg:k,min:T,sec:B,orientation:X},longitude:{deg:J,min:U,sec:te,orientation:se},longitudeDistance:{deg:oe,min:be},latitudeDistance:{deg:Oe,min:fe},zoom:parseInt(Me),name:C},tiles:e}])),M(!1)}},children:"Valider"})]})]})},A=function(e){var t=e.show,a=e.mapArrayState,c=e.mapNameState,s=e.savedMapsState,i=e.isStoredMapState,l=e.storedMapState,o=e.mapSettingsDataState,b=Object(r.a)(i,2),m=(b[0],b[1],Object(r.a)(c,2)),h=(m[0],m[1],Object(r.a)(a,2)),g=(h[0],h[1]),O=Object(r.a)(t,2),p=O[0],x=O[1],v=Object(r.a)(s,2),N=v[0],y=(v[1],Object(r.a)(l,2)),S=(y[0],y[1],Object(r.a)(o,2)),M=(S[0],S[1]),D=Object(n.useState)(""),C=Object(r.a)(D,2),I=C[0],w=C[1],L=function(){return x(!1)};return Object(f.jsxs)(d.a,{show:p,onHide:L,size:"lg",children:[Object(f.jsx)(d.a.Header,{children:Object(f.jsx)(d.a.Title,{children:"Charger une carte"})}),Object(f.jsx)(d.a.Body,{children:Object(f.jsx)(u.a,{children:Object(f.jsxs)(u.a.Group,{children:[Object(f.jsx)(u.a.Label,{children:"Nom"}),Object(f.jsxs)(u.a.Control,{disabled:!N.length,as:"select",value:I,onChange:function(e){return w(e.target.value)},children:[Object(f.jsx)("option",{selected:!0}),N.length&&N.map((function(e){return Object(f.jsx)("option",{value:e.data.name,children:e.data.name})}))]})]})})}),Object(f.jsxs)(d.a.Footer,{children:[Object(f.jsx)(j.a,{variant:"danger",onClick:L,children:"Annuler"}),Object(f.jsx)(j.a,{variant:"success",disabled:!N.length||!I,onClick:function(){if(I){var e=document.getElementById("dragMap");e.style.left="0px",e.style.top="0px";var t=N.find((function(e){return e.data.name===I}));t&&(g(t.tiles),M(t.data)),L()}},children:"Valider Carte"})]})]})},R=function(e){var t=e.settingsModal,a=e.loadMapModal,c=e.mapArrayState,s=e.isStoredMapState,i=e.mapSettingsDataState,l=e.mapNameState,o=e.storedMapState,d=Object(r.a)(l,2),u=d[0],j=d[1],b=Object(n.useState)([]),m=Object(r.a)(b,2),h=m[0],g=m[1],O=Object(r.a)(c,2),p=O[0],x=O[1],v=Object(n.useState)(!1),N=Object(r.a)(v,2),y=(N[0],N[1],Object(r.a)(s,2)),S=(y[0],y[1]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(A,{show:a,mapArrayState:[p,x],isStoredMapState:s,mapNameState:[u,j],savedMapsState:[h,g],storedMapState:o,mapSettingsDataState:i}),Object(f.jsx)(T,{mapSettingsDataState:i,show:t,setMapArray:x,mapNameState:[u,j],savedMapsState:[h,g],setIsStoredMap:S})]})},_=(a(62),function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),i=Object(r.a)(s,2),l=i[0],o=i[1],d=Object(n.useState)([]),u=Object(r.a)(d,2),j=u[0],b=u[1],m=Object(n.useState)(!0),h=Object(r.a)(m,2),g=h[0],O=h[1],p=Object(n.useState)({}),x=Object(r.a)(p,2),v=x[0],N=x[1],y=Object(n.useState)("Baie de Quiberon"),S=Object(r.a)(y,2),M=S[0],I=S[1],w=Object(n.useState)(""),L=Object(r.a)(w,2),k=L[0],F=L[1],E=Object(n.useState)(!1),T=Object(r.a)(E,2),A=T[0],_=T[1],B=Object(n.useState)(!1),z=Object(r.a)(B,2),H=z[0],V=z[1];return Object(n.useEffect)((function(){var e=document.getElementById("dragMap");if(!H&&!A){var t=0,a=0,n=document.documentElement,c=function(c){var s=c.clientX-t,r=c.clientY-a;(e.offsetLeft>0&&s>0||n.scrollWidth===n.clientWidth&&s<0)&&(s=0),(e.offsetTop>0&&r>0||n.scrollHeight===n.clientHeight&&r<0)&&(r=0),e.style.top="".concat(e.offsetTop+r,"px"),e.style.left="".concat(e.offsetLeft+s,"px"),t=c.clientX,a=c.clientY},s=function t(){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",t),e.style.cursor="grab",e.style.removeProperty("user-select")};V(!0),A||e.addEventListener("mousedown",(function(n){t=n.clientX,a=n.clientY,document.addEventListener("mousemove",c),document.addEventListener("mouseup",s),e.style.cursor="grabbing",e.style.userSelect="none"}))}}),[A]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P,{setShowSettings:c,setShowLoadMap:o,amerState:[A,_]}),Object(f.jsx)(R,{settingsModal:[a,c],loadMapModal:[l,o],isStoredMapState:[g,O],mapArrayState:[j,b],mapSettingsDataState:[v,N],mapNameState:[M,I],storedMapState:[k,F]}),Object(f.jsxs)("div",{id:"dragMap",className:A?"amerPointer":"draggable",children:[Object(f.jsx)(C,{mapArray:j,isStoredMap:g,mapSettingsData:v,storedMapName:k}),Object(f.jsx)(D,{amer:A,mapArray:j,mapSettingsData:v})]})]})}),B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,76)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))},z=(a(63),function(){s.a.render(Object(f.jsx)(_,{}),document.getElementById("root"))});window.cordova?document.addEventListener("deviceready",(function(){z()}),!1):z(),B()}},[[64,1,2]]]);
//# sourceMappingURL=main.af97df3d.chunk.js.map