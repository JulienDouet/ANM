(this["webpackJsonpcom.anm.app"]=this["webpackJsonpcom.anm.app"]||[]).push([[0],{50:function(e,t,a){},51:function(e,t,a){},56:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(11),s=a.n(c),r=(a(50),a(6)),i=a(19),l=a(44),o=a(45),u=(a(51),a(72)),d=a(73),j=a(75),b=a.p+"static/media/regle-cras.38c0b4c7.png",m=function(e,t,a){return e>=t&&e<=a},h=a(37),g=function(e,t,a,n,c){return[parseInt((1-Math.asinh(Math.tan(t*(Math.PI/180)))/Math.PI)/2*Math.pow(2,e)),parseInt((a+180)/360*Math.pow(2,e)),parseInt((1-Math.asinh(Math.tan(n*(Math.PI/180)))/Math.PI)/2*Math.pow(2,e)),parseInt((c+180)/360*Math.pow(2,e))]},O=function(e,t,a,n,c){var s=t-n,r=a-c,i=t+n,l=a+c;return[parseInt((1-Math.asinh(Math.tan(s*(Math.PI/180)))/Math.PI)/2*Math.pow(2,e)),parseInt((r+180)/360*Math.pow(2,e)),parseInt((1-Math.asinh(Math.tan(i*(Math.PI/180)))/Math.PI)/2*Math.pow(2,e)),parseInt((l+180)/360*Math.pow(2,e))]},p=function(e,t,a,n){var c=parseInt(e.deg)+(60*e.min+parseInt(e.sec))/3600,s=parseInt(t.deg)+(60*t.min+parseInt(t.sec))/3600,r=parseInt(a.deg)+60*a.min/3600,i=parseInt(n.deg)+60*n.min/3600;return{decimalDegreLatitude:"S"===e.orientation?-c:c,decimalDegreLongitude:"O"===t.orientation?-s:s,decimalDegreLatitudeDistance:r,decimalDegreLongitudeDistance:i}},x=function(e,t,a,n){for(var c=t[0],s=t[1],r=t[2],i=t[3],l=c-r,o=i-s,u=Object(h.a)(Array(l+1)).map((function(){return Array(o+1)})),d=s;d<=i;++d)for(var j=r;j<=c;++j)u[j-r][d-s]=[a,d,j];return u};function v(e,t){var a=e<0?t?"O":"S":t?"E":"N",n=Math.abs(e),c=0|n,s=n-c,r=60*s|0,i=3600*s-60*r;return c+"\xb0"+r+"'"+(i=Math.round(100*i)/100)+'"'+a}var f=a(1),N=0,y=[],S=function(){function e(t,a){Object(l.a)(this,e),this._x=t,this._y=a}return Object(o.a)(e,[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"getCoef",value:function(e){return(e.y-this._y)/(e.x-this._x)}},{key:"getMedian",value:function(t,a){var n=(t.x+a.x)/2,c=(t.y+a.y)/2;return new M(this,new e(n,c))}}]),e}(),M=function(){function e(t,a){Object(l.a)(this,e),this._coef=t.getCoef(a),this._origin=t.y-this._coef*t.x}return Object(o.a)(e,[{key:"coef",get:function(){return this._coef}},{key:"origin",get:function(){return this._origin}},{key:"getValue",value:function(e){return this._coef*e+this._origin}},{key:"getIntersection",value:function(e){var t=Math.abs((e.origin-this._origin)/(e.coef-this._coef)),a=this._coef*t+this._origin;return new S(t,a)}}]),e}(),D=function(e){var t=e.mapArray,a=e.amer,c=e.mapSettingsData,s=Object(n.useState)(!1),l=Object(r.a)(s,2),o=l[0],m=l[1],h=function(){return m(!1)},g=Object(n.useState)("0"),O=Object(r.a)(g,2),x=O[0],D=O[1],C=Object(n.useState)("2000"),w=Object(r.a)(C,2),I=w[0],L=w[1],k=Object(n.useState)("0"),F=Object(r.a)(k,2),E=F[0],P=F[1],T=Object(n.useState)("0"),A=Object(r.a)(T,2),R=A[0],_=A[1],B=Object(n.useState)({x1:0,y1:0,r:0,angle:-90}),z=Object(r.a)(B,2),H=z[0],V=z[1],X=Object(n.useRef)(null);Object(n.useEffect)((function(){if(t.length){var e=X.current;e.height=256*t.length,e.width=256*t[0].length}}),[t]);var Y=function(){var e=new Image;e.src=b,e.alt="alt text";var t=X.current.getContext("2d");e.onload=function(){t.save(),t.translate(H.x1,H.y1),t.rotate((x-90)*(Math.PI/180)),t.drawImage(e,-e.width/2,0),t.restore()};H.x1,H.y1,e.height;t.clearRect(0,0,X.current.width,X.current.height),t.stroke(),++N>=3&&G()},G=function(){var e=y[0],a=y[1],n=y[2],c=y[3],s=y[4],r=y[5],i=new M(e,a),l=new M(n,c),o=new M(s,r),u=i.getIntersection(l),d=i.getIntersection(o),j=l.getIntersection(o),b=u.getMedian(d,j),m=d.getMedian(u,j),h=(j.getMedian(u,d),b.getIntersection(m));console.log("middle : x=".concat(h.x,", y=").concat(h.y));var g=256*t[0].length,O=256*t.length;!function(e,t,a){var n=X.current.getContext("2d");n.fillStyle=a||"black",n.beginPath(),n.arc(e,t,5,0,2*Math.PI,!0),n.fill()}(h.x,h.y,"red");var p=X.current.getContext("2d");p.beginPath(),p.fillStyle="#000000",p.rect(h.x,h.y,160,25),p.fill(),p.fillStyle="#FFFFFF",p.fillText(W(h.x,h.y,g,O),h.x+10,h.y+20),console.log(W(h.x,h.y,g,O))},W=function(e,t,a,n){var s=c.latitude,r=c.longitude,i=c.latitudeDistance,l=c.longitudeDistance,o=p(s,r,i,l),u=o.decimalDegreLatitude,d=o.decimalDegreLongitude,j=o.decimalDegreLatitudeDistance,b=o.decimalDegreLongitudeDistance,m=d-b,h=u+b,g=t/n*(u-j-h)+h;return v(e/a*(d+b-m)+m,!0)+"   "+v(g,!1)};Object(n.useEffect)((function(){X&&X.current.addEventListener("mousemove",(function(e){if(t.length>1&&(e.clientX%2===0||e.clientY%2===0)){var a=X.current.getBoundingClientRect(),n=256*t[0].length,c=256*t.length,s=parseInt(Math.abs(e.clientX-a.left)),r=parseInt(Math.abs(e.clientY-a.top));document.getElementById("coordTest").innerHTML="&nbsp;"+W(s,r,n,c)}}))})),Object(n.useEffect)((function(){V(Object(i.a)(Object(i.a)({},H),{},{angle:parseInt(x,10)+parseInt(E,10)+parseInt(R,10)-90}))}),[x]),Object(n.useEffect)((function(){V(Object(i.a)(Object(i.a)({},H),{},{r:I}))}),[I]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("canvas",{id:"canvas",ref:X,className:"canvas-style mt-5",onClick:function(e){return!!a&&function(e){m(!0);var t=X.current.getBoundingClientRect();V(Object(i.a)(Object(i.a)({},H),{},{x1:e.clientX-t.left,y1:e.clientY-t.top,r:I}))}(e)}}),Object(f.jsxs)(u.a,{show:o,onHide:h,size:"sm",centered:!0,children:[Object(f.jsx)(u.a.Header,{children:Object(f.jsx)(u.a.Title,{children:"Relever l'amer"})}),Object(f.jsxs)(u.a.Body,{children:[Object(f.jsx)(d.a.Label,{htmlFor:"angle",children:"Angle"}),Object(f.jsx)(d.a.Control,{className:"mb-2 mr-sm-2",id:"angle",value:x,onChange:function(e){return D(e.target.value)},type:"number",placeholder:"Angle"}),Object(f.jsx)(d.a.Label,{htmlFor:"longueur",children:"Longueur"}),Object(f.jsx)(d.a.Control,{className:"mb-2 mr-sm-2",id:"longueur",value:I,onChange:function(e){return L(e.target.value)},type:"number",placeholder:"Longueur"}),Object(f.jsx)(d.a.Label,{htmlFor:"declinaison",children:"D\xe9clinaison (D)"}),Object(f.jsx)(d.a.Control,{className:"mb-2 mr-sm-2",id:"declinaison",value:R,onChange:function(e){return _(e.target.value)},type:"number",placeholder:"D\xe9clinaison"}),Object(f.jsx)(d.a.Label,{htmlFor:"deviation",children:"D\xe9viation (d)"}),Object(f.jsx)(d.a.Control,{className:"mb-2 mr-sm-2",id:"deviation",value:E,onChange:function(e){return P(e.target.value)},type:"number",placeholder:"D\xe9viation"})]}),Object(f.jsxs)(u.a.Footer,{children:[Object(f.jsx)(j.a,{variant:"secondary",onClick:h,children:"Annuler"}),Object(f.jsx)(j.a,{variant:"primary",onClick:function(e){!function(){var e=X.current.getContext("2d");e.lineWidth=5,e.moveTo(H.x1,H.y1),y.push(new S(H.x1,H.y1)),e.lineTo(H.x1+H.r*Math.cos(Math.PI*(H.angle+180)/180),H.y1+H.r*Math.sin(Math.PI*(H.angle+180)/180)),y.push(new S(H.x1+H.r*Math.cos(Math.PI*H.angle/180),H.y1+H.r*Math.sin(Math.PI*H.angle/180))),e.stroke()}(),Y(),h()},children:"Valider le marquage"})]})]})]})},C=(a(56),function(e){var t=e.mapArray,a=e.mapSettingsData,c=(e.isStoredMap,e.storedMapName,Object(n.useRef)(null)),s=Object(n.useRef)(null);return Object(f.jsxs)("div",{children:[Object(f.jsx)("table",{id:"map",ref:c,className:"mt-5",cellSpacing:"0",cellPadding:"0",style:{border:"none"},children:Object(f.jsx)("tbody",{children:t.map((function(e,n){return Object(f.jsx)("tr",{children:e.map((function(c,r){return r===e.length-1&&n===t.length-1&&function(e,t,a,n){var c=t.current.getContext("2d"),s=t.current,r=a.latitude,i=a.longitude,l=a.latitudeDistance,o=a.longitudeDistance,u=(a.zoom,i.deg,i.min,i.sec,i.orientation,p(r,i,l,o));u.decimalDegreLatitude,u.decimalDegreLongitude;u.decimalDegreLatitudeDistance,u.decimalDegreLongitudeDistance,s.height=256*n.length,s.width=256*n[0].length;var d=256*n.length,j=256*n[0].length;c.setLineDash([15,5]);for(var b=j/2,m=d/2,h=j,g=d,O=b;O<=h;O+=(h-b)/6)c.moveTo(O,0),c.lineTo(O,d),c.stroke();for(O=0;O<=b;O+=(h-b)/6)c.moveTo(O,0),c.lineTo(O,d),c.stroke();for(O=m;O<=g;O+=(g-m)/6)c.moveTo(0,O),c.lineTo(j,O),c.stroke();for(O=0;O<=m;O+=(g-m)/6)c.moveTo(0,O),c.lineTo(j,O),c.stroke()}(0,s,a,t),Object(f.jsxs)("td",{className:"mapArrayCell",children:[Object(f.jsx)("img",{alt:"",src:"https://a.tile.openstreetmap.fr/osmfr/".concat(c[0],"/").concat(c[1],"/").concat(c[2],".png")}),Object(f.jsx)("img",{alt:"",className:"overlayed",src:"https://tiles.openseamap.org/seamark/".concat(c[0],"/").concat(c[1],"/").concat(c[2],".png")})]},r)}))},n)}))})}),Object(f.jsx)("canvas",{ref:s,className:"canvas-style-gaticule mt-5"})]})}),w=a(70),I=a(74),L=a(71),k=a(29),F=a(31),E=(a(60),function(e){return Object(f.jsx)(w.a,{id:"button-tooltip",children:e})}),P=function(e){var t=e.setShowSettings,a=e.setShowLoadMap,n=e.amerState,c=Object(r.a)(n,2),s=c[0],i=c[1];return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(I.a,{sticky:"top",className:"navbar-dark",style:{position:"fixed",width:"100%"},bg:"dark",children:Object(f.jsxs)("div",{className:"topbar-container",children:[Object(f.jsx)("a",{className:"navbar-brand",href:"#",children:"\xa0\xa0Assistance Navigation Maritime"}),Object(f.jsx)(L.a,{placement:"bottom",overlay:E("G\xe9rer les coordonn\xe9es"),children:Object(f.jsx)(j.a,{variant:"primary",disabled:!navigator.onLine,onClick:navigator.onLine&&function(){return t(!0)},children:Object(f.jsx)(k.a,{icon:F.b,size:"lg"})})}),Object(f.jsx)(L.a,{placement:"bottom",overlay:E("Charger une carte"),children:Object(f.jsx)(j.a,{variant:"primary",className:"spacedButton",onClick:function(){return a(!0)},children:Object(f.jsx)(k.a,{icon:F.d,size:"lg"})})}),Object(f.jsx)(L.a,{placement:"bottom",overlay:E("Placer un amer"),children:Object(f.jsxs)(j.a,{variant:"primary",className:"spacedButton",onClick:function(){return i(!s)},children:[Object(f.jsx)(k.a,{icon:F.a,size:"lg"}),s?" ON":" OFF"]})}),Object(f.jsx)(L.a,{placement:"bottom",overlay:E("Tracer une route"),children:Object(f.jsx)(j.a,{variant:"primary",className:"spacedButton",children:Object(f.jsx)(k.a,{icon:F.c,size:"lg"})})}),Object(f.jsx)("label",{className:"ml-auto",style:{color:"red"},id:"coordTest"})]})})})},T=function(e){var t=e.show,a=e.setMapArray,c=e.mapNameState,s=e.savedMapsState,i=e.mapSettingsDataState,l=e.setIsStoredMap,o=Object(r.a)(i,2),d=o[0],b=o[1],v=Object(r.a)(s,2),N=v[0],y=v[1],S=Object(r.a)(t,2),M=S[0],D=S[1],C=Object(r.a)(c,2),w=C[0],I=C[1],L=Object(n.useState)("47"),k=Object(r.a)(L,2),F=k[0],E=k[1],P=Object(n.useState)("25"),T=Object(r.a)(P,2),A=T[0],R=T[1],_=Object(n.useState)("0"),B=Object(r.a)(_,2),z=B[0],H=B[1],V=Object(n.useState)("N"),X=Object(r.a)(V,2),Y=X[0],G=X[1],W=Object(n.useState)("2"),Z=Object(r.a)(W,2),J=Z[0],q=Z[1],Q=Object(n.useState)("50"),U=Object(r.a)(Q,2),K=U[0],$=U[1],ee=Object(n.useState)("0"),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)("O"),se=Object(r.a)(ce,2),re=se[0],ie=se[1],le=Object(n.useState)("0"),oe=Object(r.a)(le,2),ue=oe[0],de=oe[1],je=Object(n.useState)("15"),be=Object(r.a)(je,2),me=be[0],he=be[1],ge=Object(n.useState)("0"),Oe=Object(r.a)(ge,2),pe=Oe[0],xe=Oe[1],ve=Object(n.useState)("15"),fe=Object(r.a)(ve,2),Ne=fe[0],ye=fe[1],Se=Object(n.useState)("13"),Me=Object(r.a)(Se,2),De=Me[0],Ce=Me[1],we=function(){return D(!1)};return Object(f.jsxs)(u.a,{show:M,onHide:we,size:"lg",children:[Object(f.jsx)(u.a.Header,{children:Object(f.jsx)(u.a.Title,{children:"Gestion des coordonn\xe9es"})}),Object(f.jsxs)(u.a.Body,{children:[Object(f.jsx)("div",{className:"row g-3 align-items-end",noValidate:!0,children:Object(f.jsxs)("div",{className:"col",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"mapName",children:"Nom de la carte :"}),Object(f.jsx)("input",{className:"form-control",type:"text",id:"mapName",value:w,onChange:function(e){return I(e.target.value)}})]})}),Object(f.jsx)("hr",{className:"my-4"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("label",{children:"Coordonn\xe9es Latitude : "})}),Object(f.jsxs)("div",{className:"row g-3 align-items-end",noValidate:!0,children:[Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"latDeg",children:"Degr\xe9"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"latDeg",value:F,onChange:function(e){return m(e.target.value,-90,90)&&E(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:"\xb0"})})]})]}),Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"latMin",children:"Minutes"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"latMin",value:A,onChange:function(e){return m(e.target.value,0,60)&&R(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:"'"})})]})]}),Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"latSec",children:"Secondes"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"latSec",value:z,onChange:function(e){return m(e.target.value,0,60)&&H(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:'"'})})]})]}),Object(f.jsx)("div",{className:"col-sm-2",children:Object(f.jsxs)("div",{name:"latitude",className:"btn-group",role:"group","aria-label":"Basic radio toggle button group",children:[Object(f.jsx)("input",{className:"btn-check",type:"radio",id:"latRadioN",value:"N",autoComplete:"off",checked:"N"===Y,onChange:function(e){return G(e.target.value)}}),Object(f.jsx)("label",{className:"btn btn-outline-primary",htmlFor:"latRadioN",children:"Nord"}),Object(f.jsx)("input",{className:"btn-check",type:"radio",id:"latRadioS",value:"S",autoComplete:"off",checked:"S"===Y,onChange:function(e){return G(e.target.value)}}),Object(f.jsx)("label",{className:"btn btn-outline-primary",htmlFor:"latRadioS",children:"Sud"})]})})]}),Object(f.jsx)("hr",{className:"my-4"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("label",{children:"Coordonn\xe9es Longitude :"})}),Object(f.jsxs)("div",{className:"row g-3 align-items-end",noValidate:!0,children:[Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"lonDeg",children:"Degr\xe9"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"lonDeg",value:J,onChange:function(e){return m(e.target.value,-180,180)&&q(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:"\xb0"})})]})]}),Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"lonMin",children:"Minutes"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"lonMin",value:K,onChange:function(e){return m(e.target.value,0,60)&&$(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:"'"})})]})]}),Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"lonSec",children:"Secondes"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"lonSec",value:ae,onChange:function(e){return m(e.target.value,0,60)&&ne(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:'"'})})]})]}),Object(f.jsx)("div",{className:"col-sm-2",children:Object(f.jsxs)("div",{className:"btn-group",name:"latitude",role:"group","aria-label":"Basic radio toggle button group",children:[Object(f.jsx)("input",{className:"btn-check",type:"radio",id:"lonRadioE",value:"E",autoComplete:"off",checked:"E"===re,onChange:function(e){return ie(e.target.value)}}),Object(f.jsx)("label",{className:"btn btn-outline-primary",htmlFor:"lonRadioE",children:"Est"}),Object(f.jsx)("input",{className:"btn-check",type:"radio",id:"lonRadioO",value:"O",autoComplete:"off",checked:"O"===re,onChange:function(e){return ie(e.target.value)}}),Object(f.jsx)("label",{className:"btn btn-outline-primary",htmlFor:"lonRadioO",children:"Ouest"})]})})]}),Object(f.jsx)("hr",{className:"my-4"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("label",{children:"Rayon Latitude : "})}),Object(f.jsxs)("div",{className:"row g-3 align-items-end",noValidate:!0,children:[Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"latDistDeg",children:"Degr\xe9"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"latDistDeg",value:pe,onChange:function(e){return m(e.target.value,-45,45)&&xe(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:"\xb0"})})]})]}),Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"latDistMin",children:"Minutes"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"latDistMin",value:Ne,onChange:function(e){return m(e.target.value,0,60)&&ye(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:"'"})})]})]})]}),Object(f.jsx)("hr",{className:"my-4"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("label",{children:"Rayon Longitude : "})}),Object(f.jsxs)("div",{className:"row g-3 align-items-end",noValidate:!0,children:[Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"lonDistDeg",children:"Degr\xe9"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"lonDistDeg",value:ue,onChange:function(e){return m(e.target.value,-90,90)&&de(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:"\xb0"})})]})]}),Object(f.jsxs)("div",{className:"col-sm",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"lonDistMin",children:"Minutes"}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{className:"form-control",type:"number",id:"lonDistMin",value:me,onChange:function(e){return m(e.target.value,0,60)&&he(e.target.value)}}),Object(f.jsx)("span",{className:"input-group-text",children:Object(f.jsx)("b",{children:"'"})})]})]})]}),Object(f.jsx)("hr",{className:"my-4"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"mapZoom",children:"Zoom :"}),Object(f.jsxs)("select",{className:"form-control",id:"mapZoom",value:De,onChange:function(e){return Ce(e.target.value)},children:[Object(f.jsx)("option",{value:"10",children:"1:500 000"}),Object(f.jsx)("option",{value:"11",children:"1:250 000"}),Object(f.jsx)("option",{value:"12",children:"1:150 000"}),Object(f.jsx)("option",{value:"13",children:"1:70 000"}),Object(f.jsx)("option",{value:"14",children:"1:35 000"}),Object(f.jsx)("option",{value:"15",children:"1:15 000"}),Object(f.jsx)("option",{value:"16",children:"1:8 000"}),Object(f.jsx)("option",{value:"17",children:"1:4 000"}),Object(f.jsx)("option",{value:"18",children:"1:2 000"})]})]})})]}),Object(f.jsxs)(u.a.Footer,{children:[Object(f.jsx)(j.a,{variant:"danger",onClick:we,children:"Annuler"}),Object(f.jsx)(j.a,{variant:"success",onClick:function(){if(N.find((function(e){return e.data.name===w})))alert("Une carte poss\xe9dant ce nom existe d\xe9j\xe0");else{var e=function(e){var t=e.latitude,a=e.longitude,n=e.latitudeDistance,c=e.longitudeDistance,s=e.zoom,r=e.size,i=p(t,a,n,c),l=i.decimalDegreLatitude,o=i.decimalDegreLongitude,u=i.decimalDegreLatitudeDistance,d=i.decimalDegreLongitudeDistance,j=g(s,l,o,u,d),b=O(s,l,o,u,d);return x(j,b,s,r)}({latitude:{deg:F,min:A,sec:z,orientation:Y},longitude:{deg:J,min:K,sec:ae,orientation:re},longitudeDistance:{deg:ue,min:me},latitudeDistance:{deg:pe,min:Ne},zoom:parseInt(De)});l(!1),b({latitude:{deg:F,min:A,sec:z,orientation:Y},longitude:{deg:J,min:K,sec:ae,orientation:re},longitudeDistance:{deg:ue,min:me},latitudeDistance:{deg:pe,min:Ne},zoom:parseInt(De),name:w}),a(e),y([].concat(Object(h.a)(N),[{data:d,tiles:e}])),D(!1)}},children:"Valider"})]})]})},A=function(e){var t=e.show,a=e.mapArrayState,c=e.mapNameState,s=e.savedMapsState,i=e.isStoredMapState,l=e.storedMapState,o=e.mapSettingsDataState,b=Object(r.a)(i,2),m=(b[0],b[1],Object(r.a)(c,2)),h=(m[0],m[1],Object(r.a)(a,2)),g=(h[0],h[1]),O=Object(r.a)(t,2),p=O[0],x=O[1],v=Object(r.a)(s,2),N=v[0],y=(v[1],Object(r.a)(l,2)),S=(y[0],y[1],Object(r.a)(o,2)),M=(S[0],S[1]),D=Object(n.useState)(""),C=Object(r.a)(D,2),w=C[0],I=C[1],L=function(){return x(!1)};return Object(f.jsxs)(u.a,{show:p,onHide:L,size:"lg",children:[Object(f.jsx)(u.a.Header,{children:Object(f.jsx)(u.a.Title,{children:"Charger une carte"})}),Object(f.jsx)(u.a.Body,{children:Object(f.jsx)(d.a,{children:Object(f.jsxs)(d.a.Group,{children:[Object(f.jsx)(d.a.Label,{children:"Nom"}),Object(f.jsxs)(d.a.Control,{disabled:!N.length,as:"select",value:w,onChange:function(e){return I(e.target.value)},children:[Object(f.jsx)("option",{selected:!0}),N.length&&N.map((function(e){return Object(f.jsx)("option",{value:e.data.name,children:e.data.name})}))]})]})})}),Object(f.jsxs)(u.a.Footer,{children:[Object(f.jsx)(j.a,{variant:"danger",onClick:L,children:"Annuler"}),Object(f.jsx)(j.a,{variant:"success",disabled:!N.length||!w,onClick:function(){if(w){var e=N.find((function(e){return e.data.name===w}));e&&(g(N[e].tiles),M(N[e].data)),L()}},children:"Valider Carte"})]})]})},R=function(e){var t=e.settingsModal,a=e.loadMapModal,c=e.mapArrayState,s=e.isStoredMapState,i=e.mapSettingsDataState,l=e.mapNameState,o=e.storedMapState,u=Object(r.a)(l,2),d=u[0],j=u[1],b=Object(n.useState)([]),m=Object(r.a)(b,2),h=m[0],g=m[1],O=Object(r.a)(c,2),p=O[0],x=O[1],v=Object(n.useState)(!1),N=Object(r.a)(v,2),y=(N[0],N[1],Object(r.a)(s,2)),S=(y[0],y[1]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(A,{show:a,mapArrayState:[p,x],isStoredMapState:s,mapNameState:[d,j],savedMapsState:[h,g],storedMapState:o,mapSettingsDataState:i}),Object(f.jsx)(T,{mapSettingsDataState:i,show:t,setMapArray:x,mapNameState:[d,j],savedMapsState:[h,g],setIsStoredMap:S})]})},_=(a(62),function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),i=Object(r.a)(s,2),l=i[0],o=i[1],u=Object(n.useState)([]),d=Object(r.a)(u,2),j=d[0],b=d[1],m=Object(n.useState)(!0),h=Object(r.a)(m,2),g=h[0],O=h[1],p=Object(n.useState)({}),x=Object(r.a)(p,2),v=x[0],N=x[1],y=Object(n.useState)("Baie de Quiberon"),S=Object(r.a)(y,2),M=S[0],w=S[1],I=Object(n.useState)(""),L=Object(r.a)(I,2),k=L[0],F=L[1],E=Object(n.useState)(!1),T=Object(r.a)(E,2),A=T[0],_=T[1],B=Object(n.useState)(!1),z=Object(r.a)(B,2),H=z[0],V=z[1];return Object(n.useEffect)((function(){var e=document.getElementById("dragMap");if(!H){var t=0,a=0,n=document.documentElement,c=function(c){if(!A){var s=c.clientX-t,r=c.clientY-a;(e.offsetLeft>0&&s>0||n.scrollWidth===n.clientWidth&&s<0)&&(s=0),(e.offsetTop>0&&r>0||n.scrollHeight===n.clientHeight&&r<0)&&(r=0),e.style.top="".concat(e.offsetTop+r,"px"),e.style.left="".concat(e.offsetLeft+s,"px"),t=c.clientX,a=c.clientY}},s=function t(){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",t),A||(e.style.cursor="grab",e.style.removeProperty("user-select"))};V(!0),e.addEventListener("mousedown",(function(n){t=n.clientX,a=n.clientY,document.addEventListener("mousemove",c),document.addEventListener("mouseup",s),A||(e.style.cursor="grabbing",e.style.userSelect="none")}))}})),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P,{setShowSettings:c,setShowLoadMap:o,amerState:[A,_]}),Object(f.jsx)(R,{settingsModal:[a,c],loadMapModal:[l,o],isStoredMapState:[g,O],mapArrayState:[j,b],mapSettingsDataState:[v,N],mapNameState:[M,w],storedMapState:[k,F]}),Object(f.jsxs)("div",{id:"dragMap",className:A?"amerPointer":"draggable",children:[Object(f.jsx)(C,{mapArray:j,isStoredMap:g,mapSettingsData:v,storedMapName:k}),Object(f.jsx)(D,{amer:A,mapArray:j,mapSettingsData:v})]})]})}),B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,76)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))},z=(a(63),function(){s.a.render(Object(f.jsx)(_,{}),document.getElementById("root"))});window.cordova?document.addEventListener("deviceready",(function(){z()}),!1):z(),B()}},[[64,1,2]]]);
//# sourceMappingURL=main.a199f854.chunk.js.map