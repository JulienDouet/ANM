(this["webpackJsonpcom.anm.app"]=this["webpackJsonpcom.anm.app"]||[]).push([[0],{50:function(e,t,a){},51:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},61:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(11),r=a.n(c),i=(a(50),a(5)),s=a(21),l=a(44),o=a(45),u=(a(51),a(72)),d=a(73),j=a(75),b=a.p+"static/media/regle-cras.38c0b4c7.png",m=function(e,t,a){return e>=t&&e<=a},h=a(38),O=function(e,t,a,n,c){var r=t-n,i=a-c,s=t+n,l=a+c;return[parseInt((1-Math.asinh(Math.tan(r*(Math.PI/180)))/Math.PI)/2*Math.pow(2,e)),parseInt((i+180)/360*Math.pow(2,e)),parseInt((1-Math.asinh(Math.tan(s*(Math.PI/180)))/Math.PI)/2*Math.pow(2,e)),parseInt((l+180)/360*Math.pow(2,e))]},g=function(e,t,a,n){var c=parseInt(e.deg)+(60*e.min+parseInt(e.sec))/3600,r=parseInt(t.deg)+(60*t.min+parseInt(t.sec))/3600,i=parseInt(a.deg)+60*a.min/3600,s=parseInt(n.deg)+60*n.min/3600;return{decimalDegreLatitude:"S"===e.orientation?-c:c,decimalDegreLongitude:"O"===t.orientation?-r:r,decimalDegreLatitudeDistance:i,decimalDegreLongitudeDistance:s}},p=function(e,t){for(var a=e[0],n=e[1],c=e[2],r=e[3],i=a-c,s=r-n,l=Object(h.a)(Array(i+1)).map((function(){return Array(s+1)})),o=n;o<=r;++o)for(var u=c;u<=a;++u)l[u-c][o-n]=[t,o,u];return l};function x(e,t){var a=e<0?t?"O":"S":t?"E":"N",n=Math.abs(e),c=0|n,r=n-c,i=60*r|0;return c+"\xb0"+i+"'"+Math.round(100*(3600*r-60*i))/100+'"'+a}var v=a(1),f=[],y=[],N=[],S=["red","green","blue","yellow","brown","black","orange","purple","cyan","magenta","pink"],M=S[0],C=0,D=function(){function e(t,a){Object(l.a)(this,e),this._x=t,this._y=a}return Object(o.a)(e,[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"getCoef",value:function(e){return(e.y-this._y)/(e.x-this._x)}},{key:"getMedian",value:function(t,a){var n=(t.x+a.x)/2,c=(t.y+a.y)/2;return new F(this,new e(n,c))}}]),e}(),F=function(){function e(t,a){Object(l.a)(this,e),this._coef=t.getCoef(a),this._origin=t.y-this._coef*t.x,this._pt1=t,this._pt2=a}return Object(o.a)(e,[{key:"coef",get:function(){return this._coef}},{key:"origin",get:function(){return this._origin}},{key:"pt1",get:function(){return this._pt1}},{key:"pt2",get:function(){return this._pt2}},{key:"getValue",value:function(e){return this._coef*e+this._origin}},{key:"getIntersection",value:function(e){var t=Math.abs((e.origin-this._origin)/(e.coef-this._coef)),a=this._coef*t+this._origin;return new D(t,a)}}]),e}(),w=function(e){var t=e.mapArray,a=e.amer,c=e.mapSettingsData,r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],m=l[1],h=function(){return m(!1)},O=Object(n.useState)("0"),p=Object(i.a)(O,2),w=p[0],k=p[1],L=Object(n.useState)("2000"),I=Object(i.a)(L,2),T=I[0],P=(I[1],Object(n.useState)("0")),B=Object(i.a)(P,2),A=B[0],E=B[1],R=Object(n.useState)("0"),_=Object(i.a)(R,2),z=_[0],q=_[1],H=Object(n.useState)({x1:0,y1:0,r:0,angle:-90}),V=Object(i.a)(H,2),X=V[0],Y=V[1],W=Object(n.useRef)(null);Object(n.useEffect)((function(){if(t.length){var e=W.current;e.height=256*t.length,e.width=256*t[0].length}}),[t]),Object(n.useEffect)((function(){f=[],y=[],M=S[0],C=0,W.current.getContext("2d").clearRect(0,0,W.current.width,W.current.height)}),[c]);var G=function(e,t){var a=W.current.getContext("2d");a.beginPath(),a.strokeStyle=t,a.lineWidth=5,a.moveTo(e.pt1.x,e.pt1.y),a.lineTo(e.pt2.x,e.pt2.y),a.stroke()},U=function(e,t,a,n){var c=W.current.getContext("2d");c.fillStyle=n,c.font="20px serif",c.fillText(e+"\xb0",t,a)},J=function(e,t){var a=W.current.getContext("2d");a.beginPath(),a.fillStyle="red",a.strokeStyle="red",a.arc(e,t,5,0,2*Math.PI,!0),a.fill(),a.stroke()},Z=function(e){for(var a=0;a<y.length;a++){var n=256*t[0].length,c=256*t.length;e=y[a];J(e.x,e.y);var r=W.current.getContext("2d");r.beginPath(),r.strokeStyle="#000000",r.rect(e.x,e.y,180,25),r.fillStyle="#000000",r.fill(),r.fillStyle="#FFFFFF",r.fillText(te(e.x,e.y,n,c),e.x+10,e.y+20),r.stroke()}},Q=function(){f.length>1&&(W.current.getContext("2d").clearRect(0,0,W.current.width,W.current.height),function(){for(var e=0;e<f.length;e++)e%3===0&&e>0&&C++,M=$(C),G(f[e],M),U(N[e],f[e].pt1.x,f[e].pt1.y,M)}());f.length>=3&&Z()},K=function(){var e=new Image;e.src=b,e.alt="alt text";var t=W.current.getContext("2d");e.onload=function(){if(t.save(),t.translate(X.x1,X.y1),t.rotate((w-90)*(Math.PI/180)),t.drawImage(e,-e.width/2,0),t.restore(),f.length%3==0){var a=f[f.length-3],n=f[f.length-2],c=f[f.length-1];ee(a,n,c)}}},$=function(e){return S[e%S.length]},ee=function(e,t,a){var n=e.getIntersection(t),c=e.getIntersection(a),r=t.getIntersection(a),i=n.getMedian(c,r),s=c.getMedian(n,r),l=i.getIntersection(s);y.push(l),Z()},te=function(e,t,a,n){var r=c.latitude,i=c.longitude,s=c.latitudeDistance,l=c.longitudeDistance,o=g(r,i,s,l),u=o.decimalDegreLatitude,d=o.decimalDegreLongitude,j=o.decimalDegreLatitudeDistance,b=o.decimalDegreLongitudeDistance,m=d-b,h=u+b,O=e/a*(d+b-m)+m;return x(t/n*(u-j-h)+h,!1)+"\xa0 \xa0"+x(O,!0)};Object(n.useEffect)((function(){W&&W.current.addEventListener("mousemove",(function(e){if(t.length>1&&(e.clientX%2===0||e.clientY%2===0)){var a=W.current.getBoundingClientRect(),n=256*t[0].length,c=256*t.length,r=parseInt(Math.abs(e.clientX-a.left)),i=parseInt(Math.abs(e.clientY-a.top));document.getElementById("coordTest").innerHTML="&nbsp;"+te(r,i,n,c)}}))})),Object(n.useEffect)((function(){Y(Object(s.a)(Object(s.a)({},X),{},{angle:parseInt(w,10)+parseInt(A,10)+parseInt(z,10)-90}))}),[w]),Object(n.useEffect)((function(){Y(Object(s.a)(Object(s.a)({},X),{},{r:T}))}),[T]);return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{id:"idCanvas",children:[Object(v.jsx)("canvas",{id:"canvasAmers",ref:W,className:"canvas-style mt-5",onClick:function(e){return!!a&&function(e){m(!0);var t=W.current.getBoundingClientRect();Y(Object(s.a)(Object(s.a)({},X),{},{x1:e.clientX-t.left,y1:e.clientY-t.top,r:T}))}(e)}}),Object(v.jsxs)(u.a,{show:o,onHide:h,size:"sm",centered:!0,children:[Object(v.jsx)(u.a.Header,{children:Object(v.jsx)(u.a.Title,{children:"Relever l'amer"})}),Object(v.jsxs)(u.a.Body,{children:[Object(v.jsx)(d.a.Label,{htmlFor:"angle",children:"Angle"}),Object(v.jsx)(d.a.Control,{className:"mb-2 mr-sm-2",id:"angle",value:w,onChange:function(e){return k(e.target.value)},type:"number",placeholder:"Angle"}),Object(v.jsx)(d.a.Label,{htmlFor:"declinaison",children:"D\xe9clinaison (D)"}),Object(v.jsx)(d.a.Control,{className:"mb-2 mr-sm-2",id:"declinaison",value:z,onChange:function(e){return q(e.target.value)},type:"number",placeholder:"D\xe9clinaison"}),Object(v.jsx)(d.a.Label,{htmlFor:"deviation",children:"D\xe9viation (d)"}),Object(v.jsx)(d.a.Control,{className:"mb-2 mr-sm-2",id:"deviation",value:A,onChange:function(e){return E(e.target.value)},type:"number",placeholder:"D\xe9viation"})]}),Object(v.jsxs)(u.a.Footer,{children:[Object(v.jsx)(j.a,{variant:"secondary",onClick:h,children:"Annuler"}),Object(v.jsx)(j.a,{variant:"primary",onClick:function(e){C=0;var t=X.x1,a=X.y1,n=X.x1+X.r*Math.cos(Math.PI*(X.angle+180)/180),c=X.y1+X.r*Math.sin(Math.PI*(X.angle+180)/180),r=new F(new D(t,a),new D(n,c));f.push(r),N.push(w),G(r,M),U(w,t,a,M),Q(),K(),h()},children:"Valider le marquage"})]})]})]})})},k=(a(56),[]),L=["Route Fond","Courant","Route Surface","Cap Vrai","Cap Compas"],I=0,T=0,P=0,B=0,A=function(e){var t=e.mapArray,a=e.route,c=e.mapSettingsData,r=Object(n.useState)(!1),s=Object(i.a)(r,2),l=s[0],o=s[1],b=function(){return o(!1)},m=Object(n.useState)("0"),h=Object(i.a)(m,2),O=h[0],p=h[1],x=Object(n.useState)("0"),f=Object(i.a)(x,2),y=f[0],N=f[1],S=Object(n.useState)("0"),M=Object(i.a)(S,2),C=M[0],D=M[1],F=Object(n.useState)("0"),w=Object(i.a)(F,2),A=w[0],E=w[1],R=Object(n.useState)("0"),_=Object(i.a)(R,2),z=_[0],q=_[1],H=Object(n.useState)("0"),V=Object(i.a)(H,2),X=V[0],Y=V[1],W=Object(n.useState)("0"),G=Object(i.a)(W,2),U=G[0],J=G[1],Z=Object(n.useState)("0"),Q=Object(i.a)(Z,2),K=Q[0],$=Q[1],ee=Object(n.useState)([]),te=Object(i.a)(ee,2),ae=(te[0],te[1],function(e,t,a,n){var c=ce.current.getContext("2d");c.fillStyle=a||"black",c.beginPath(),c.arc(e,t,5,0,2*Math.PI,!0),c.fill(),c.fillText("Temps de trajet (en minutes) : "+Math.round(n),e+5,t+5),c.stroke()}),ne=function(e,t,a,n){var r=c.latitude,i=c.longitude,s=c.latitudeDistance,l=c.longitudeDistance,o=g(r,i,s,l),u=o.decimalDegreLatitude,d=o.decimalDegreLongitude,j=o.decimalDegreLatitudeDistance,b=o.decimalDegreLongitudeDistance,m=d-b,h=u+b;return[e/a*(d+b-m)+m,t/n*(u-j-h)+h]},ce=Object(n.useRef)(null);Object(n.useEffect)((function(){if(t.length){var e=ce.current;e.height=256*t.length,e.width=256*t[0].length}}),[t]);var re=function(e){var a=ce.current.getBoundingClientRect();ce.current.getContext("2d").font="15px Serif";var n=e.clientX-a.left,c=e.clientY-a.top;k.push([n,c]);var r=256*t[0].length,i=256*t.length;ae(n,c,"yellow",0);var s=ne(n,c,r,i),l=ne(n+1,c+1,r,i),u=s[0],d=s[1],j=(l[0],l[1]);P=le(n,c,n+1,c+1),B=function(e,t,a,n){var c=e*Math.PI/180,r=a*Math.PI/180,i=(a-e)*Math.PI/180,s=(n-t)*Math.PI/180,l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(c)*Math.cos(r)*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))*6371e3*621371e-9}(d,u,j,u);var b=ie(n,c,B,90);b[0],b[1];o(!0)},ie=function(e,t,a,n){return[e+a*Math.cos(Math.PI*(n-90)/180),t+a*Math.sin(Math.PI*(n-90)/180)]},se=function(e,t,a,n,c,r,i,s,l){r.beginPath(),r.strokeStyle=i,r.lineWidth=s,r.moveTo(e,t);var o=e+a*Math.cos(Math.PI*(n-90)/180),u=t+a*Math.sin(Math.PI*(n-90)/180);r.lineTo(o,u),r.stroke(),r.fillStyle=i;var d=oe(e,t,o,u);return r.fillText(l+" - Angle (en Degr\xe9) : "+ue(n,1)+" \n Distance (en Miles) : "+ue(c,2),d[0],d[1]),[o,u]},le=function(e,t,a,n){return Math.sqrt(Math.pow(a-e,2)+Math.pow(n-t,2))},oe=function(e,t,a,n){return[(e+a)/2,(t+n)/2]};function ue(e,t){t=t||2;var a=Math.pow(10,t);return Math.round(e*a)/a}return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{id:"idRoute",children:[Object(v.jsx)("canvas",{id:"canvas",ref:ce,className:"canvas-style mt-5",onClick:function(e){return!!a&&re(e)}}),Object(v.jsxs)(u.a,{show:l,onHide:b,size:"sm",centered:!0,children:[Object(v.jsx)(u.a.Header,{children:Object(v.jsx)(u.a.Title,{children:"Tracer route"})}),Object(v.jsxs)(u.a.Body,{children:[Object(v.jsx)(d.a.Label,{htmlFor:"distanceParcourir",children:"Distance \xe0 parcourir"}),Object(v.jsx)(d.a.Control,{className:"mb-2 mr-sm-2",id:"distanceParcourir",value:O,onChange:function(e){return p(e.target.value)},type:"number",placeholder:"DistanceParcourir"}),Object(v.jsx)(d.a.Label,{htmlFor:"cap",children:"Cap"}),Object(v.jsx)(d.a.Control,{className:"mb-2 mr-sm-2",id:"cap",value:y,onChange:function(e){return N(e.target.value)},type:"number",placeholder:"Cap"}),Object(v.jsx)(d.a.Label,{htmlFor:"vitesseFond",children:"Vitesse de Fond"}),Object(v.jsx)(d.a.Control,{className:"mb-2 mr-sm-2",id:"vitesseFond",value:z,onChange:function(e){return q(e.target.value)},type:"number",placeholder:"VitesseFond"}),Object(v.jsx)(d.a.Label,{htmlFor:"angle",children:"Angle du Courant"}),Object(v.jsx)(d.a.Control,{className:"mb-2 mr-sm-2",id:"angle",value:C,onChange:function(e){return D(e.target.value)},type:"number",placeholder:"Angle"}),Object(v.jsx)(d.a.Label,{htmlFor:"noeud",children:"Noeud du Courant"}),Object(v.jsx)(d.a.Control,{className:"mb-2 mr-sm-2",id:"noeud",value:A,onChange:function(e){return E(e.target.value)},type:"number",placeholder:"Noeud"}),Object(v.jsx)(d.a.Label,{htmlFor:"derive",children:"D\xe9rive"}),Object(v.jsx)(d.a.Control,{className:"mb-2 mr-sm-2",id:"derive",value:X,onChange:function(e){return Y(e.target.value)},type:"number",placeholder:"D\xe9rive"}),Object(v.jsx)(d.a.Label,{htmlFor:"declinaison",children:"D\xe9clinaison"}),Object(v.jsx)(d.a.Control,{className:"mb-2 mr-sm-2",id:"declinaison",value:U,onChange:function(e){return J(e.target.value)},type:"number",placeholder:"D\xe9clinaison"}),Object(v.jsx)(d.a.Label,{htmlFor:"deviation",children:"D\xe9viation"}),Object(v.jsx)(d.a.Control,{className:"mb-2 mr-sm-2",id:"deviation",value:K,onChange:function(e){return $(e.target.value)},type:"number",placeholder:"D\xe9viation"})]}),Object(v.jsxs)(u.a.Footer,{children:[Object(v.jsx)(j.a,{variant:"secondary",onClick:b,children:"Annuler"}),Object(v.jsx)(j.a,{variant:"secondary",onClick:function(e){var a=ce.current.getContext("2d"),n=256*t[0].length,c=256*t.length;a.clearRect(0,0,n,c)},children:"Tout supprimer"}),Object(v.jsx)(j.a,{variant:"primary",onClick:function(e){var t=ce.current.getContext("2d"),a=k[0][0],n=k[0][1],c=se(a,n,T=P*O/B,y,I=O,t,"blue",1,L[0]),r=c[0],i=c[1],s=A*T/I,l=se(a,n,s,C,s,t,"red",1,L[1]),o=l[0],u=l[1],d=180*Math.atan2(i-u,r-o)/Math.PI+90,j=le(o,u,r,i),m=j*I/T;!function(e,t,a,n,c,r,i,s,l){c.beginPath(),c.strokeStyle=r,c.moveTo(e,t),c.lineTo(a,n),c.stroke(),c.fillStyle=r;var o=oe(e,t,a,n);c.fillText(l+" - Angle (en Degr\xe9) : "+ue(i,1)+" \n Distance (en Miles) : "+ue(s,2),o[0],o[1])}(o,u,r,i,t,"green",d,m,L[2]);var h=d-X;se(o,u,j,h,m,t,"brown",1,L[3]);var g=se(o,u,j,h-U-K,m,t,"purple",5,L[4]),p=g[0],x=g[1];ae(p,x,"purple",60*m/z),k=[],b()},children:"Valider le marquage"})]})]})]})})},E=(a(57),function(e){var t=e.mapArray,a=e.mapSettingsData,c=(e.isStoredMap,e.storedMapName,Object(n.useRef)(null)),r=Object(n.useRef)(null);return Object(v.jsxs)("div",{children:[Object(v.jsx)("table",{id:"map",ref:c,className:"mt-5",cellSpacing:"0",cellPadding:"0",style:{border:"none"},children:Object(v.jsx)("tbody",{children:t.map((function(e,n){return Object(v.jsx)("tr",{children:e.map((function(c,i){return i===e.length-1&&n===t.length-1&&function(e,t,a,n){var c=t.current.getContext("2d"),r=t.current,i=a.latitude,s=a.longitude,l=a.latitudeDistance,o=a.longitudeDistance,u=(a.zoom,s.deg,s.min,s.sec,s.orientation,g(i,s,l,o));u.decimalDegreLatitude,u.decimalDegreLongitude;u.decimalDegreLatitudeDistance,u.decimalDegreLongitudeDistance,r.height=256*n.length,r.width=256*n[0].length;var d=256*n.length,j=256*n[0].length;c.setLineDash([15,5]);for(var b=j/2,m=d/2,h=j,O=d,p=b;p<=h;p+=(h-b)/6)c.moveTo(p,0),c.lineTo(p,d),c.stroke();for(p=0;p<=b;p+=(h-b)/6)c.moveTo(p,0),c.lineTo(p,d),c.stroke();for(p=m;p<=O;p+=(O-m)/6)c.moveTo(0,p),c.lineTo(j,p),c.stroke();for(p=0;p<=m;p+=(O-m)/6)c.moveTo(0,p),c.lineTo(j,p),c.stroke()}(0,r,a,t),Object(v.jsxs)("td",{className:"mapArrayCell",children:[Object(v.jsx)("img",{alt:"",src:"https://a.tile.openstreetmap.fr/osmfr/".concat(c[0],"/").concat(c[1],"/").concat(c[2],".png")}),Object(v.jsx)("img",{alt:"",className:"overlayed",src:"https://tiles.openseamap.org/seamark/".concat(c[0],"/").concat(c[1],"/").concat(c[2],".png")})]},i)}))},n)}))})}),Object(v.jsx)("canvas",{ref:r,className:"canvas-style-gaticule mt-5"})]})}),R=a(70),_=a(74),z=a(71),q=a(13),H=a(14),V=(a(61),function(e){return Object(v.jsx)(R.a,{id:"button-tooltip",children:e})}),X=function(e){var t=e.setShowSettings,a=e.setShowLoadMap,n=e.setShowHelp,c=e.amerState,r=e.routeState,s=Object(i.a)(c,2),l=s[0],o=s[1],u=function(e,t){var a=e.parentNode,n=e.nextSibling===t?e:e.nextSibling;t.parentNode.insertBefore(e,t),a.insertBefore(t,n)},d=Object(i.a)(r,2),b=d[0],m=d[1];return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(_.a,{sticky:"top",className:"navbar-dark",style:{position:"fixed",width:"100%"},bg:"dark",children:Object(v.jsxs)(_.a.Collapse,{id:"basic-navbar-nav",children:[Object(v.jsx)("a",{className:"navbar-brand",href:"#",children:"\xa0\xa0Assistance Navigation Maritime"}),Object(v.jsx)(z.a,{placement:"bottom",overlay:V("G\xe9rer les coordonn\xe9es"),children:Object(v.jsx)(j.a,{variant:"primary",disabled:!navigator.onLine,onClick:navigator.onLine&&function(){return t(!0)},children:Object(v.jsx)(q.a,{icon:H.b,size:"lg"})})}),Object(v.jsx)(z.a,{placement:"bottom",overlay:V("Charger une carte"),children:Object(v.jsx)(j.a,{variant:"primary",className:"spacedButton",onClick:function(){return a(!0)},children:Object(v.jsx)(q.a,{icon:H.e,size:"lg"})})}),Object(v.jsx)(z.a,{placement:"bottom",overlay:V("Placer un amer"),children:Object(v.jsxs)(j.a,{variant:"primary",className:"spacedButton",onClick:function(){var e=document.getElementById("idRoute"),t=document.getElementById("idCanvas");o(!l),console.log(""),!l&&b&&(m(!1),u(t,e))},children:[Object(v.jsx)(q.a,{icon:H.a,size:"lg"}),l?" ON":" OFF"]})}),Object(v.jsx)(z.a,{placement:"bottom",overlay:V("Tracer une route"),children:Object(v.jsxs)(j.a,{variant:"primary",className:"spacedButton",onClick:function(){var e=document.getElementById("idRoute"),t=document.getElementById("idCanvas");m(!b),console.log(""),l&&!b&&(o(!1),u(t,e))},children:[Object(v.jsx)(q.a,{icon:H.c,size:"lg"}),b?" ON":" OFF"]})}),Object(v.jsx)(z.a,{placement:"bottom",overlay:V("Aide"),children:Object(v.jsx)(j.a,{variant:"primary",className:"spacedButton",onClick:function(){return n(!0)},children:Object(v.jsx)(q.a,{icon:H.d,size:"lg"})})}),"\xa0",Object(v.jsx)("label",{className:"ml-auto",style:{color:"white",fontWeight:"bold"},id:"coordTest"})]})})})},Y=function(e){var t=e.show,a=e.setMapArray,c=e.mapNameState,r=e.savedMapsState,s=e.mapSettingsDataState,l=e.setIsStoredMap,o=Object(i.a)(s,2),d=(o[0],o[1]),b=Object(i.a)(r,2),x=b[0],f=b[1],y=Object(i.a)(t,2),N=y[0],S=y[1],M=Object(i.a)(c,2),C=M[0],D=M[1],F=Object(n.useState)("47"),w=Object(i.a)(F,2),k=w[0],L=w[1],I=Object(n.useState)("25"),T=Object(i.a)(I,2),P=T[0],B=T[1],A=Object(n.useState)("0"),E=Object(i.a)(A,2),R=E[0],_=E[1],z=Object(n.useState)("N"),q=Object(i.a)(z,2),H=q[0],V=q[1],X=Object(n.useState)("2"),Y=Object(i.a)(X,2),W=Y[0],G=Y[1],U=Object(n.useState)("50"),J=Object(i.a)(U,2),Z=J[0],Q=J[1],K=Object(n.useState)("0"),$=Object(i.a)(K,2),ee=$[0],te=$[1],ae=Object(n.useState)("O"),ne=Object(i.a)(ae,2),ce=ne[0],re=ne[1],ie=Object(n.useState)("0"),se=Object(i.a)(ie,2),le=se[0],oe=se[1],ue=Object(n.useState)("15"),de=Object(i.a)(ue,2),je=de[0],be=de[1],me=Object(n.useState)("0"),he=Object(i.a)(me,2),Oe=he[0],ge=he[1],pe=Object(n.useState)("15"),xe=Object(i.a)(pe,2),ve=xe[0],fe=xe[1],ye=Object(n.useState)("13"),Ne=Object(i.a)(ye,2),Se=Ne[0],Me=Ne[1],Ce=function(){return S(!1)};return Object(v.jsxs)(u.a,{show:N,onHide:Ce,size:"lg",children:[Object(v.jsx)(u.a.Header,{children:Object(v.jsx)(u.a.Title,{children:"Gestion des coordonn\xe9es"})}),Object(v.jsxs)(u.a.Body,{children:[Object(v.jsx)("div",{className:"row g-3 align-items-end",noValidate:!0,children:Object(v.jsxs)("div",{className:"col",children:[Object(v.jsx)("label",{className:"form-label",htmlFor:"mapName",children:"Nom de la carte :"}),Object(v.jsx)("input",{className:"form-control",type:"text",id:"mapName",value:C,onChange:function(e){return D(e.target.value)}})]})}),Object(v.jsx)("hr",{className:"my-4"}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("label",{children:"Coordonn\xe9es Latitude : "})}),Object(v.jsxs)("div",{className:"row g-3 align-items-end",noValidate:!0,children:[Object(v.jsxs)("div",{className:"col-sm",children:[Object(v.jsx)("label",{className:"form-label",htmlFor:"latDeg",children:"Degr\xe9"}),Object(v.jsxs)("div",{className:"input-group",children:[Object(v.jsx)("input",{className:"form-control",type:"number",id:"latDeg",value:k,onChange:function(e){return m(e.target.value,-90,90)&&L(e.target.value)}}),Object(v.jsx)("span",{className:"input-group-text",children:Object(v.jsx)("b",{children:"\xb0"})})]})]}),Object(v.jsxs)("div",{className:"col-sm",children:[Object(v.jsx)("label",{className:"form-label",htmlFor:"latMin",children:"Minutes"}),Object(v.jsxs)("div",{className:"input-group",children:[Object(v.jsx)("input",{className:"form-control",type:"number",id:"latMin",value:P,onChange:function(e){return m(e.target.value,0,60)&&B(e.target.value)}}),Object(v.jsx)("span",{className:"input-group-text",children:Object(v.jsx)("b",{children:"'"})})]})]}),Object(v.jsxs)("div",{className:"col-sm",children:[Object(v.jsx)("label",{className:"form-label",htmlFor:"latSec",children:"Secondes"}),Object(v.jsxs)("div",{className:"input-group",children:[Object(v.jsx)("input",{className:"form-control",type:"number",id:"latSec",value:R,onChange:function(e){return m(e.target.value,0,60)&&_(e.target.value)}}),Object(v.jsx)("span",{className:"input-group-text",children:Object(v.jsx)("b",{children:'"'})})]})]}),Object(v.jsx)("div",{className:"col-sm-2",children:Object(v.jsxs)("div",{name:"latitude",className:"btn-group",role:"group","aria-label":"Basic radio toggle button group",children:[Object(v.jsx)("input",{className:"btn-check",type:"radio",id:"latRadioN",value:"N",autoComplete:"off",checked:"N"===H,onChange:function(e){return V(e.target.value)}}),Object(v.jsx)("label",{className:"btn btn-outline-primary",htmlFor:"latRadioN",children:"Nord"}),Object(v.jsx)("input",{className:"btn-check",type:"radio",id:"latRadioS",value:"S",autoComplete:"off",checked:"S"===H,onChange:function(e){return V(e.target.value)}}),Object(v.jsx)("label",{className:"btn btn-outline-primary",htmlFor:"latRadioS",children:"Sud"})]})})]}),Object(v.jsx)("hr",{className:"my-4"}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("label",{children:"Coordonn\xe9es Longitude :"})}),Object(v.jsxs)("div",{className:"row g-3 align-items-end",noValidate:!0,children:[Object(v.jsxs)("div",{className:"col-sm",children:[Object(v.jsx)("label",{className:"form-label",htmlFor:"lonDeg",children:"Degr\xe9"}),Object(v.jsxs)("div",{className:"input-group",children:[Object(v.jsx)("input",{className:"form-control",type:"number",id:"lonDeg",value:W,onChange:function(e){return m(e.target.value,-180,180)&&G(e.target.value)}}),Object(v.jsx)("span",{className:"input-group-text",children:Object(v.jsx)("b",{children:"\xb0"})})]})]}),Object(v.jsxs)("div",{className:"col-sm",children:[Object(v.jsx)("label",{className:"form-label",htmlFor:"lonMin",children:"Minutes"}),Object(v.jsxs)("div",{className:"input-group",children:[Object(v.jsx)("input",{className:"form-control",type:"number",id:"lonMin",value:Z,onChange:function(e){return m(e.target.value,0,60)&&Q(e.target.value)}}),Object(v.jsx)("span",{className:"input-group-text",children:Object(v.jsx)("b",{children:"'"})})]})]}),Object(v.jsxs)("div",{className:"col-sm",children:[Object(v.jsx)("label",{className:"form-label",htmlFor:"lonSec",children:"Secondes"}),Object(v.jsxs)("div",{className:"input-group",children:[Object(v.jsx)("input",{className:"form-control",type:"number",id:"lonSec",value:ee,onChange:function(e){return m(e.target.value,0,60)&&te(e.target.value)}}),Object(v.jsx)("span",{className:"input-group-text",children:Object(v.jsx)("b",{children:'"'})})]})]}),Object(v.jsx)("div",{className:"col-sm-2",children:Object(v.jsxs)("div",{className:"btn-group",name:"latitude",role:"group","aria-label":"Basic radio toggle button group",children:[Object(v.jsx)("input",{className:"btn-check",type:"radio",id:"lonRadioE",value:"E",autoComplete:"off",checked:"E"===ce,onChange:function(e){return re(e.target.value)}}),Object(v.jsx)("label",{className:"btn btn-outline-primary",htmlFor:"lonRadioE",children:"Est"}),Object(v.jsx)("input",{className:"btn-check",type:"radio",id:"lonRadioO",value:"O",autoComplete:"off",checked:"O"===ce,onChange:function(e){return re(e.target.value)}}),Object(v.jsx)("label",{className:"btn btn-outline-primary",htmlFor:"lonRadioO",children:"Ouest"})]})})]}),Object(v.jsx)("hr",{className:"my-4"}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("label",{children:"Rayon Latitude : "})}),Object(v.jsxs)("div",{className:"row g-3 align-items-end",noValidate:!0,children:[Object(v.jsxs)("div",{className:"col-sm",children:[Object(v.jsx)("label",{className:"form-label",htmlFor:"latDistDeg",children:"Degr\xe9"}),Object(v.jsxs)("div",{className:"input-group",children:[Object(v.jsx)("input",{className:"form-control",type:"number",id:"latDistDeg",value:Oe,onChange:function(e){return m(e.target.value,-45,45)&&ge(e.target.value)}}),Object(v.jsx)("span",{className:"input-group-text",children:Object(v.jsx)("b",{children:"\xb0"})})]})]}),Object(v.jsxs)("div",{className:"col-sm",children:[Object(v.jsx)("label",{className:"form-label",htmlFor:"latDistMin",children:"Minutes"}),Object(v.jsxs)("div",{className:"input-group",children:[Object(v.jsx)("input",{className:"form-control",type:"number",id:"latDistMin",value:ve,onChange:function(e){return m(e.target.value,0,60)&&fe(e.target.value)}}),Object(v.jsx)("span",{className:"input-group-text",children:Object(v.jsx)("b",{children:"'"})})]})]})]}),Object(v.jsx)("hr",{className:"my-4"}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("label",{children:"Rayon Longitude : "})}),Object(v.jsxs)("div",{className:"row g-3 align-items-end",noValidate:!0,children:[Object(v.jsxs)("div",{className:"col-sm",children:[Object(v.jsx)("label",{className:"form-label",htmlFor:"lonDistDeg",children:"Degr\xe9"}),Object(v.jsxs)("div",{className:"input-group",children:[Object(v.jsx)("input",{className:"form-control",type:"number",id:"lonDistDeg",value:le,onChange:function(e){return m(e.target.value,-90,90)&&oe(e.target.value)}}),Object(v.jsx)("span",{className:"input-group-text",children:Object(v.jsx)("b",{children:"\xb0"})})]})]}),Object(v.jsxs)("div",{className:"col-sm",children:[Object(v.jsx)("label",{className:"form-label",htmlFor:"lonDistMin",children:"Minutes"}),Object(v.jsxs)("div",{className:"input-group",children:[Object(v.jsx)("input",{className:"form-control",type:"number",id:"lonDistMin",value:je,onChange:function(e){return m(e.target.value,0,60)&&be(e.target.value)}}),Object(v.jsx)("span",{className:"input-group-text",children:Object(v.jsx)("b",{children:"'"})})]})]})]}),Object(v.jsx)("hr",{className:"my-4"}),Object(v.jsx)("div",{className:"row",children:Object(v.jsxs)("div",{className:"col",children:[Object(v.jsx)("label",{className:"form-label",htmlFor:"mapZoom",children:"\xc9chelle :"}),Object(v.jsxs)("select",{className:"form-control",id:"mapZoom",value:Se,onChange:function(e){return Me(e.target.value)},children:[Object(v.jsx)("option",{value:"10",children:"1:500 000"}),Object(v.jsx)("option",{value:"11",children:"1:250 000"}),Object(v.jsx)("option",{value:"12",children:"1:150 000"}),Object(v.jsx)("option",{value:"13",children:"1:70 000"}),Object(v.jsx)("option",{value:"14",children:"1:35 000"}),Object(v.jsx)("option",{value:"15",children:"1:15 000"}),Object(v.jsx)("option",{value:"16",children:"1:8 000"}),Object(v.jsx)("option",{value:"17",children:"1:4 000"}),Object(v.jsx)("option",{value:"18",children:"1:2 000"})]})]})})]}),Object(v.jsxs)(u.a.Footer,{children:[Object(v.jsx)(j.a,{variant:"danger",onClick:Ce,children:"Annuler"}),Object(v.jsx)(j.a,{variant:"success",onClick:function(){if(x.find((function(e){return e.data.name===C})))alert("Une carte poss\xe9dant ce nom existe d\xe9j\xe0");else{var e=function(e){var t=e.latitude,a=e.longitude,n=e.latitudeDistance,c=e.longitudeDistance,r=e.zoom,i=g(t,a,n,c),s=i.decimalDegreLatitude,l=i.decimalDegreLongitude,o=i.decimalDegreLatitudeDistance,u=i.decimalDegreLongitudeDistance,d=O(r,s,l,o,u);return p(d,r)}({latitude:{deg:k,min:P,sec:R,orientation:H},longitude:{deg:W,min:Z,sec:ee,orientation:ce},longitudeDistance:{deg:le,min:je},latitudeDistance:{deg:Oe,min:ve},zoom:parseInt(Se)});l(!1),d({latitude:{deg:k,min:P,sec:R,orientation:H},longitude:{deg:W,min:Z,sec:ee,orientation:ce},longitudeDistance:{deg:le,min:je},latitudeDistance:{deg:Oe,min:ve},zoom:parseInt(Se),name:C}),a(e),f([].concat(Object(h.a)(x),[{data:{latitude:{deg:k,min:P,sec:R,orientation:H},longitude:{deg:W,min:Z,sec:ee,orientation:ce},longitudeDistance:{deg:le,min:je},latitudeDistance:{deg:Oe,min:ve},zoom:parseInt(Se),name:C},tiles:e}])),S(!1)}},children:"Valider"})]})]})},W=function(e){var t=e.show,a=e.mapArrayState,c=e.mapNameState,r=e.savedMapsState,s=e.isStoredMapState,l=e.storedMapState,o=e.mapSettingsDataState,b=Object(i.a)(s,2),m=(b[0],b[1],Object(i.a)(c,2)),h=(m[0],m[1],Object(i.a)(a,2)),O=(h[0],h[1]),g=Object(i.a)(t,2),p=g[0],x=g[1],f=Object(i.a)(r,2),y=f[0],N=(f[1],Object(i.a)(l,2)),S=(N[0],N[1],Object(i.a)(o,2)),M=(S[0],S[1]),C=Object(n.useState)(""),D=Object(i.a)(C,2),F=D[0],w=D[1],k=function(){return x(!1)};return Object(v.jsxs)(u.a,{show:p,onHide:k,size:"lg",children:[Object(v.jsx)(u.a.Header,{children:Object(v.jsx)(u.a.Title,{children:"Charger une carte"})}),Object(v.jsx)(u.a.Body,{children:Object(v.jsx)(d.a,{children:Object(v.jsxs)(d.a.Group,{children:[Object(v.jsx)(d.a.Label,{children:"Nom"}),Object(v.jsxs)(d.a.Control,{disabled:!y.length,as:"select",value:F,onChange:function(e){return w(e.target.value)},children:[Object(v.jsx)("option",{selected:!0}),y.length&&y.map((function(e){return Object(v.jsx)("option",{value:e.data.name,children:e.data.name})}))]})]})})}),Object(v.jsxs)(u.a.Footer,{children:[Object(v.jsx)(j.a,{variant:"danger",onClick:k,children:"Annuler"}),Object(v.jsx)(j.a,{variant:"success",disabled:!y.length||!F,onClick:function(){if(F){var e=document.getElementById("dragMap");e.style.left="0px",e.style.top="0px";var t=y.find((function(e){return e.data.name===F}));t&&(O(t.tiles),M(t.data)),k()}},children:"Valider Carte"})]})]})},G=function(e){var t=e.settingsModal,a=e.loadMapModal,c=e.mapArrayState,r=e.isStoredMapState,s=e.mapSettingsDataState,l=e.mapNameState,o=e.storedMapState,u=Object(i.a)(l,2),d=u[0],j=u[1],b=Object(n.useState)([]),m=Object(i.a)(b,2),h=m[0],O=m[1],g=Object(i.a)(c,2),p=g[0],x=g[1],f=Object(n.useState)(!1),y=Object(i.a)(f,2),N=(y[0],y[1],Object(i.a)(r,2)),S=(N[0],N[1]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(W,{show:a,mapArrayState:[p,x],isStoredMapState:r,mapNameState:[d,j],savedMapsState:[h,O],storedMapState:o,mapSettingsDataState:s}),Object(v.jsx)(Y,{mapSettingsDataState:s,show:t,setMapArray:x,mapNameState:[d,j],savedMapsState:[h,O],setIsStoredMap:S})]})},U=function(e){var t=e.showState,a=Object(i.a)(t,2),n=a[0],c=a[1],r=function(){return c(!1)};return Object(v.jsxs)(u.a,{show:n,onHide:r,size:"lg",centered:!0,children:[Object(v.jsx)(u.a.Header,{children:Object(v.jsx)(u.a.Title,{children:"Aide"})}),Object(v.jsx)(u.a.Body,{children:Object(v.jsxs)("p",{children:["La barre de navigation contient 4 boutons",Object(v.jsx)("br",{}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-1",children:Object(v.jsx)(j.a,{variant:"primary",children:Object(v.jsx)(q.a,{icon:H.b,size:"lg"})})}),Object(v.jsx)("div",{className:"col-md-11",children:"\xa0 Bouton qui permet l'affichage de la fen\xeatre de gestion de coordonn\xe9es, afin de charger l'endroit du globe que l'on veut, avec une \xe9chelle et une taille bien pr\xe9cise"})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-1",children:Object(v.jsx)(j.a,{variant:"primary",children:Object(v.jsx)(q.a,{icon:H.e,size:"lg"})})}),Object(v.jsx)("div",{className:"col-md-11",children:"\xa0 Bouton qui affiche la fen\xeatre de chargement de cartes pr\xe9d\xe9finies, qui permet de charger toutes les cartes d\xe9j\xe0 initialis\xe9es (principalement utile en mode hors ligne ou bien pour charger ais\xe9ment une carte r\xe9currente)"})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-2",children:Object(v.jsxs)(j.a,{variant:"primary",children:[Object(v.jsx)(q.a,{icon:H.a,size:"lg"}),"\xa0OFF"]})}),Object(v.jsx)("div",{className:"col-md-10",children:"\xa0 Bouton qui affiche si oui(ON) ou non(OFF) le mode de rep\xe9rage d'amer est activ\xe9. Lorsque ce dernier l'est, cliquer sur la carte puis remplir le formulaire associ\xe9 va permettre de rep\xe9rer un amer. Lorsque 3 amers seront relev\xe9s, un point central ainsi que ses coordonn\xe9es seront affich\xe9es sur l'interface, au centre du triangle form\xe9 par l'intersection des droites issues des relevages d'amers"})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-2",children:Object(v.jsxs)(j.a,{variant:"primary",children:[Object(v.jsx)(q.a,{icon:H.c,size:"lg"}),"\xa0OFF"]})}),Object(v.jsx)("div",{className:"col-md-10",children:"\xa0 Bouton qui affiche si oui(ON) ou non(OFF) le mode de tra\xe7age de route est activ\xe9. Lorsque ce dernier l'est, il est possible de cliquer sur la carte, pour sp\xe9cifier le point de d\xe9part de la route. Une fois cela fait, une fen\xeatre va appara\xeetre et il faudra sp\xe9cifier certaines variables li\xe9es \xe0 la navigation. Une fois le formulaire de la fen\xeare valid\xe9, cela va tracer diff\xe9rents types de routes, notamment le courant, la route surface, le cap vrai ainsi que le cap Compas"})]})]})}),Object(v.jsx)(u.a.Footer,{children:Object(v.jsx)(j.a,{variant:"secondary",onClick:r,children:"Fermer"})})]})},J=(a(63),function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(i.a)(r,2),l=s[0],o=s[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),j=d[0],b=d[1],m=Object(n.useState)([]),h=Object(i.a)(m,2),O=h[0],g=h[1],p=Object(n.useState)(!0),x=Object(i.a)(p,2),f=x[0],y=x[1],N=Object(n.useState)({}),S=Object(i.a)(N,2),M=S[0],C=S[1],D=Object(n.useState)("Baie de Quiberon"),F=Object(i.a)(D,2),k=F[0],L=F[1],I=Object(n.useState)(""),T=Object(i.a)(I,2),P=T[0],B=T[1],R=Object(n.useState)(!1),_=Object(i.a)(R,2),z=_[0],q=_[1],H=Object(n.useState)(!1),V=Object(i.a)(H,2),Y=V[0],W=V[1],J=Object(n.useState)(!1),Z=Object(i.a)(J,2),Q=Z[0],K=Z[1];return Object(n.useEffect)((function(){var e=document.getElementById("dragMap");if(!Y&&!z){var t=0,a=0,n=document.documentElement,c=function(c){var r=c.clientX-t,i=c.clientY-a;(e.offsetLeft>0&&r>0||n.scrollWidth===n.clientWidth&&r<0)&&(r=0),(e.offsetTop>0&&i>0||n.scrollHeight===n.clientHeight&&i<0)&&(i=0),e.style.top="".concat(e.offsetTop+i,"px"),e.style.left="".concat(e.offsetLeft+r,"px"),t=c.clientX,a=c.clientY},r=function t(){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",t),e.style.cursor="grab",e.style.removeProperty("user-select")};W(!0),z||e.addEventListener("mousedown",(function(n){t=n.clientX,a=n.clientY,document.addEventListener("mousemove",c),document.addEventListener("mouseup",r),e.style.cursor="grabbing",e.style.userSelect="none"}))}}),[z]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(X,{setShowSettings:c,setShowLoadMap:o,setShowHelp:b,amerState:[z,q],routeState:[Q,K]}),Object(v.jsx)(G,{settingsModal:[a,c],loadMapModal:[l,o],isStoredMapState:[f,y],mapArrayState:[O,g],mapSettingsDataState:[M,C],mapNameState:[k,L],storedMapState:[P,B]}),Object(v.jsx)(U,{showState:[j,b]}),Object(v.jsxs)("div",{id:"dragMap",className:z?"amerPointer":"draggable",children:[Object(v.jsx)(E,{mapArray:O,isStoredMap:f,mapSettingsData:M,storedMapName:P}),Object(v.jsx)(A,{route:Q,mapArray:O,mapSettingsData:M}),Object(v.jsx)(w,{amer:z,mapArray:O,mapSettingsData:M})]})]})}),Z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,76)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))},Q=(a(64),function(){r.a.render(Object(v.jsx)(J,{}),document.getElementById("root"))});window.cordova?document.addEventListener("deviceready",(function(){Q()}),!1):Q(),Z()}},[[65,1,2]]]);
//# sourceMappingURL=main.66108385.chunk.js.map