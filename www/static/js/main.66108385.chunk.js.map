{"version":3,"sources":["regle-cras.png","helpers/helpers.js","helpers/GenerateMap.js","components/Canvas.jsx","components/Route.jsx","components/SeaMap.jsx","components/TopBar.jsx","components/Modals/SettingsModal.jsx","components/Modals/LoadMapModal.jsx","components/Modals.jsx","components/HelpModal.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["isBetween","value","lower","higher","getBeginLastTile","zoom","degLatitude","degLongitude","degLatDist","degLongDist","beginLatDegree","beginLongDegree","lastLatDegree","lastLongDegree","parseInt","Math","asinh","tan","PI","convertToDecimalDegre","latitude","longitude","latitudeDistance","longitudeDistance","decimalDegreLatitude","deg","min","sec","decimalDegreLongitude","decimalDegreLatitudeDistance","decimalDegreLongitudeDistance","orientation","generateTileArray","beginLastCoords","beginLatTile","beginLongTile","lastLatTile","lastLongTile","sizeLatitude","sizeLongitude","tileArray","Array","map","i","j","degToDms","dd","isLng","dir","absDd","abs","frac","round","tabLignes","tabPositions","tabAngles","tabColor","color","compteurColor","Point","x","y","this","_x","_y","pt2","pt1","Line","_coef","getCoef","_origin","_pt1","_pt2","line","origin","coef","Canvas","props","mapArray","amer","mapSettingsData","useState","show","setShow","handleClose","angleVal","setAngleVal","longueurVal","deviation","setDeviation","declinaison","setDeclinaison","x1","y1","r","angle","drawLineData","setDrawLineData","amerCanvasRef","useRef","useEffect","length","amerCanvas","current","height","width","getContext","clearRect","drawLine","ligne","context","beginPath","strokeStyle","lineWidth","moveTo","lineTo","stroke","drawAngle","fillStyle","font","fillText","drawPoint","arc","fill","drawPosition","position","xtab","ytab","rect","temp","redrawCanvas","getColor","drawLinesFromArray","drawAndPlaceCRA","regle","Image","src","image","alt","onload","save","translate","rotate","drawImage","restore","line1","line2","line3","trouverMilieu","compteur","pt_intersection1","getIntersection","pt_intersection2","pt_intersection3","line_median1","getMedian","line_median2","middle1","push","resX","addEventListener","e","clientX","clientY","getBoundingClientRect","left","top","document","getElementById","innerHTML","id","ref","className","onClick","event","setCoordinates","Modal","onHide","size","centered","Header","Title","Body","Form","Label","htmlFor","Control","onChange","target","type","placeholder","Footer","Button","variant","p1X","p1Y","p2X","cos","p2Y","sin","arrayPoints","arrayDefLigne","distanceMilesRf","distancePixelsRf","distancePixelsReference","distanceMilesReference","Route","route","distanceParcourirVal","setDistanceParcourirVal","capVal","setCapVal","noeudVal","setNoeudVal","vitesseFondVal","setVitesseFondVal","deriveVal","setDeriveVal","declinaisonVal","setDeclinaisonVal","deviationVal","setDeviationVal","tmpTrajet","routeCanvasRef","pixelsToDegDecimal","routeCanvas","setRoute","l1degDec","l2degDec","long1","lat1","lat2","distanceTwoPoints","lon1","lon2","φ1","φ2","Δφ","Δλ","a","atan2","sqrt","getDistanceFromLatLonInMiles","arrayCoordMilesReference","calcLineAngle","long","drawLineAngle","longMiles","couleur","epaisseurTrait","def","x2","y2","milieu","milieuTwoPoints","roundDecimal","pow","nombre","precision","tmp","arrayP2","noeudCourant","arrayCoord","x3","y3","degreeRS","distanceRSPixels","distanceRSMiles","degreeCapVrai","arrayCoordCapCompas","x4","y4","SeaMap","tableRef","isStoredMap","storedMapName","canvasGraticuleRef","cellSpacing","cellPadding","style","border","row","rowIndex","cell","cellIndex","canvasGraticule","setLineDash","coordCentX","coordCentY","coordEstX","coordSudY","renderTooltip","title","Tooltip","TopBar","setShowSettings","setShowLoadMap","setShowHelp","amerState","routeState","setAmer","swap","nodeA","nodeB","parentA","parentNode","siblingA","nextSibling","insertBefore","Navbar","sticky","bg","Collapse","href","OverlayTrigger","placement","overlay","disabled","navigator","onLine","icon","faMapMarkedAlt","faSave","elemRoute","elemCanvas","console","log","faLifeRing","faPencilRuler","faQuestion","fontWeight","SettingsModal","setMapArray","mapNameState","savedMapsState","mapSettingsDataState","setIsStoredMap","setMapSettingsData","savedMaps","setSavedMaps","showSettings","mapName","setMapName","latDeg","setLatDeg","latMin","setLatMin","latSec","setLatSec","latRad","setLatRad","lonDeg","setLonDeg","lonMin","setLonMin","lonSec","setLonSec","lonRad","setLonRad","lonDistDeg","setLonDistDeg","lonDistMin","setLonDistMin","latDistDeg","setLatDistDeg","latDistMin","setLatDistMin","mapZoom","setMapZoom","handleCloseSettings","noValidate","name","role","aria-label","autoComplete","checked","find","savedMap","data","alert","generateMapArray","tiles","LoadMapModal","mapArrayState","isStoredMapState","storedMapState","showLoadMap","currentlySelectedMapName","setCurrentlySelectedMapName","handleCloseLoadMap","Group","as","selected","currMap","ele","selectedMap","Modals","settingsModal","loadMapModal","HelpModal","showState","showHelp","App","setStoredMapName","hasScrollListener","setHasScrollListener","html","documentElement","mouseMoveHandler","dx","dy","offsetLeft","scrollWidth","clientWidth","offsetTop","scrollHeight","clientHeight","mouseUpHandler","removeEventListener","cursor","removeProperty","userSelect","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","renderReactDom","ReactDOM","render","window","cordova"],"mappings":"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","file":"static/js/main.66108385.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/regle-cras.38c0b4c7.png\";","export const isBetween = (value, lower, higher) => value >= lower && value <= higher;\nexport const degToRadian = (degrees) => degrees * (Math.PI / 180);","import { degToRadian } from \"./helpers.js\";\nexport const generateMapArray = (data) => {\n    const { latitude, longitude, latitudeDistance, longitudeDistance, zoom } = data;\n\n\n    const { decimalDegreLatitude, decimalDegreLongitude, decimalDegreLatitudeDistance, decimalDegreLongitudeDistance } =\n        convertToDecimalDegre(latitude, longitude,latitudeDistance, longitudeDistance);\n\n    const beginLastCoords = getBeginLastTile(\n        zoom,\n        decimalDegreLatitude,\n        decimalDegreLongitude,\n        decimalDegreLatitudeDistance,\n        decimalDegreLongitudeDistance\n    );\n    \n    return generateTileArray(beginLastCoords, zoom);\n};\n\nconst getBeginLastTile = (zoom, degLatitude, degLongitude, degLatDist, degLongDist) => {\n\n  const beginLatDegree = degLatitude - degLatDist;\n  const beginLongDegree = degLongitude - degLongDist;\n\n  const lastLatDegree = degLatitude + degLatDist;\n  const lastLongDegree = degLongitude + degLongDist;\n\n\n\n  const beginLatTile = parseInt(\n          ((1.0 - Math.asinh(Math.tan(beginLatDegree * (Math.PI / 180))) / Math.PI) /\n              2.0) *\n              2.0 ** zoom\n      );\n\n  const beginLongTile = parseInt(((beginLongDegree + 180.0) / 360.0) * 2.0 ** zoom);\n\n\n  const lastLatTile = parseInt(\n          ((1.0 - Math.asinh(Math.tan(lastLatDegree * (Math.PI / 180))) / Math.PI) /\n              2.0) *\n              2.0 ** zoom\n      );\n\n  const lastLongTile = parseInt(((lastLongDegree + 180.0) / 360.0) * 2.0 ** zoom);\n\nreturn [beginLatTile, beginLongTile, lastLatTile, lastLongTile];\n};\n\n\n/**\n * Fonction permettant de convertir des DMS (Degré, Minutes, Secondes) en DD (Degré Decimaux)\n * @param {La latitude à convertir en DD} latitude\n * @param {La longitude à convertir en DD} longitude\n * @returns Les coordonnées DMS converties en DD\n */\nexport const convertToDecimalDegre = (latitude, longitude, latitudeDistance, longitudeDistance) => {\n    const decimalDegreLatitude =\n        parseInt(latitude.deg) +\n        (latitude.min * 60 + parseInt(latitude.sec)) / 3600;\n    const decimalDegreLongitude =\n        parseInt(longitude.deg) +\n        (longitude.min * 60 + parseInt(longitude.sec)) / 3600;\n\n    const decimalDegreLatitudeDistance =\n        parseInt(latitudeDistance.deg) +\n        (latitudeDistance.min * 60)/3600;\n\n    const decimalDegreLongitudeDistance =\n        parseInt(longitudeDistance.deg) +\n        (longitudeDistance.min * 60)/3600;\n\n\n    return {\n        decimalDegreLatitude:\n            latitude.orientation === \"S\"\n                ? -decimalDegreLatitude\n                : decimalDegreLatitude,\n        decimalDegreLongitude:\n            longitude.orientation === \"O\"\n                ? -decimalDegreLongitude\n                : decimalDegreLongitude,\n        decimalDegreLatitudeDistance,\n        decimalDegreLongitudeDistance\n\n    };\n};\n\n/**\n * Créé le tableau contenant les coordonnées de toutes les tiles\n * @param {Le zoom de la carte} zoom\n * @returns\n */\nconst generateTileArray = (beginLastCoords, zoom) => {\n\n\n\n    const beginLatTile = beginLastCoords[0];\n    const beginLongTile = beginLastCoords[1];\n\n    const lastLatTile = beginLastCoords[2];\n    const lastLongTile = beginLastCoords[3];\n\n    const sizeLatitude = beginLatTile - lastLatTile ;\n    const sizeLongitude = lastLongTile - beginLongTile ;\n\n    const tileArray = [...Array(sizeLatitude + 1)].map(() => Array(sizeLongitude + 1));\n\n    for (let i = beginLongTile; i <= lastLongTile; ++i){\n        for (let j = lastLatTile; j <= beginLatTile; ++j){\n            tileArray[j - lastLatTile][i - beginLongTile] = [\n                zoom,\n                 i,\n                 j\n            ];\n          }\n        }\n    return tileArray;\n};\n\n\nexport function degToDms (dd, isLng) {\n  const dir = dd < 0\n     ? isLng ? 'O' : 'S'\n     : isLng ? 'E' : 'N';\n\n   const absDd = Math.abs(dd);\n   const deg = absDd | 0;\n   const frac = absDd - deg;\n   const min = (frac * 60) | 0;\n   const sec =  Math.round((frac * 3600 - min * 60)* 100) / 100;\n   return deg + \"°\" + min + \"'\" + sec + '\"' + dir;\n}\n\nexport function deg_to_dms_array (dd, isLng) {\n  var dir = dd < 0\n     ? isLng ? 'O' : 'S'\n     : isLng ? 'E' : 'N';\n\n   var absDd = Math.abs(dd);\n   var deg = absDd | 0;\n   var frac = absDd - deg;\n   var min = (frac * 60) | 0;\n   var sec = frac * 3600 - min * 60;\n   // Round it to 2 decimal points.\n   sec = Math.round(sec * 100) / 100;\n   return [deg, min, sec, dir];\n}\n\n\nexport function getDistanceFromLatLonInMiles(lat1,lon1,lat2,lon2) {\n  /*var R = 6371; // Radius of the earth in km\n  var dLat = degToRadian(lat2-lat1);  // deg2rad below\n  var dLon = degToRadian(lon2-lon1);\n  var a =\n    Math.sin(dLat/2) * Math.sin(dLat/2) +\n    Math.cos(degToRadian(lat1)) * Math.cos(degToRadian(lat2)) *\n    Math.sin(dLon/2) * Math.sin(dLon/2)\n    ;\n  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n  var d = R * c; // Distance in km\n  return d;\n*/\n\n\n\n  const R = 6371e3; // metres\n  const φ1 = lat1 * Math.PI/180; // φ, λ in radians\n  const φ2 = lat2 * Math.PI/180;\n  const Δφ = (lat2-lat1) * Math.PI/180;\n  const Δλ = (lon2-lon1) * Math.PI/180;\n\n  const a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +\n          Math.cos(φ1) * Math.cos(φ2) *\n          Math.sin(Δλ/2) * Math.sin(Δλ/2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n\n  const d = R * c; // in metres\n  return d * 0.000621371 // en miles;\n}\n","import \"./Canvas.css\";\nimport React, { useRef, useEffect, useState } from \"react\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport image from \"../regle-cras.png\";\nimport { degToRadian } from \"../helpers/helpers\";\nimport { convertToDecimalDegre } from \"../helpers/GenerateMap\";\nimport { degToDms } from \"../helpers/GenerateMap\";\n\n// Valeur pour prendre le nord en référence comme 0°\nconst DEFAULT_ANGLE = 90;\n\nconst CALIBRAGE_ZERO_ROUGE = -0.0845;\nconst CALIBRAGE_ZERO_NOIR = -0.9155;\n\nvar tabLignes = [];\nvar tabPositions = [];\nvar tabAngles = [];\n\nconst tabColor = [\n    \"red\",\n    \"green\",\n    \"blue\",\n    \"yellow\",\n    \"brown\",\n    \"black\",\n    \"orange\",\n    \"purple\",\n    \"cyan\",\n    \"magenta\",\n    \"pink\"\n];\nvar color = tabColor[0];\nvar compteurColor = 0;\n\nclass Point {\n    constructor(x, y) {\n        this._x = x;\n        this._y = y;\n    }\n\n    get x() {\n        return this._x;\n    }\n    get y() {\n        return this._y;\n    }\n\n    getCoef(pt2) {\n        return (pt2.y - this._y) / (pt2.x - this._x);\n    }\n\n    getMedian(pt1, pt2) {\n        let x = (pt1.x + pt2.x) / 2;\n        let y = (pt1.y + pt2.y) / 2;\n\n        return new Line(this, new Point(x, y));\n    }\n}\n\nclass Line {\n    constructor(pt1, pt2) {\n        this._coef = pt1.getCoef(pt2);\n        this._origin = pt1.y - this._coef * pt1.x;\n        this._pt1 = pt1;\n        this._pt2 = pt2;\n    }\n    get coef() {\n        return this._coef;\n    }\n    get origin() {\n        return this._origin;\n    }\n    get pt1() {\n        return this._pt1;\n    }\n    get pt2() {\n        return this._pt2;\n    }\n\n    getValue(x) {\n        return this._coef * x + this._origin;\n    }\n\n    getIntersection(line) {\n        let x = Math.abs(\n            (line.origin - this._origin) / (line.coef - this._coef)\n        );\n        let y = this._coef * x + this._origin;\n        return new Point(x, y);\n    }\n}\n\nexport const Canvas = (props) => {\n    const { mapArray, amer, mapSettingsData } = props;\n    //Modal\n    const [show, setShow] = useState(false);\n    const handleClose = () => setShow(false);\n\n    // Angle et Longueur\n    const [angleVal, setAngleVal] = useState(\"0\");\n    const [longueurVal, setLongueurVal] = useState(\"2000\");\n\n    // Déviation et Déclinaison\n    const [deviation, setDeviation] = useState(\"0\");\n    const [declinaison, setDeclinaison] = useState(\"0\");\n\n    // Donnée pour tracer le trait\n    const [drawLineData, setDrawLineData] = useState({\n        x1: 0,\n        y1: 0,\n        r: 0,\n        angle: 0 - DEFAULT_ANGLE\n    });\n\n    const amerCanvasRef = useRef(null);\n    useEffect(() => {\n        if (mapArray.length) {\n            const amerCanvas = amerCanvasRef.current;\n            amerCanvas.height = mapArray.length * 256;\n            amerCanvas.width = mapArray[0].length * 256;\n        }\n    }, [mapArray]);\n\n    useEffect(() => {\n        tabLignes = [];\n        tabPositions = [];\n        color = tabColor[0];\n        compteurColor = 0;\n        const context = amerCanvasRef.current.getContext(\"2d\");\n        context.clearRect(\n            0,\n            0,\n            amerCanvasRef.current.width,\n            amerCanvasRef.current.height\n        );\n    }, [mapSettingsData]);\n\n    /**\n     *\n     */\n    const drawLine = (ligne, color) => {\n        const context = amerCanvasRef.current.getContext(\"2d\");\n\n        context.beginPath();\n\n        context.strokeStyle = color;\n        context.lineWidth = 5;\n        context.moveTo(ligne.pt1.x, ligne.pt1.y);\n        context.lineTo(ligne.pt2.x, ligne.pt2.y);\n\n        context.stroke();\n    };\n\n    const drawAngle = (angle, x, y, color) => {\n        const context = amerCanvasRef.current.getContext(\"2d\");\n        context.fillStyle = color;\n        context.font = \"20px serif\";\n        context.fillText(angle + \"°\", x, y);\n    };\n\n    const drawPoint = (x, y) => {\n        const context = amerCanvasRef.current.getContext(\"2d\");\n\n        context.beginPath();\n\n        context.fillStyle = \"red\";\n        context.strokeStyle = \"red\";\n        context.arc(x, y, 5, 0, 2 * Math.PI, true);\n        context.fill();\n\n        context.stroke();\n    };\n\n    const drawPosition = (position) => {\n        for (var i = 0; i < tabPositions.length; i++) {\n            const xtab = mapArray[0].length * 256;\n            const ytab = mapArray.length * 256;\n            var position = tabPositions[i];\n            // Dessiner point intersection + Label avec coordonnées\n            drawPoint(position.x, position.y);\n            const context = amerCanvasRef.current.getContext(\"2d\");\n            context.beginPath();\n            context.strokeStyle = \"#000000\";\n            context.rect(position.x, position.y, 180, 25);\n            context.fillStyle = \"#000000\";\n            context.fill();\n            context.fillStyle = \"#FFFFFF\";\n            context.fillText(\n                temp(position.x, position.y, xtab, ytab),\n                position.x + 10,\n                position.y + 20\n            );\n            context.stroke();\n        }\n    };\n\n    const drawLinesFromArray = () => {\n        for (var i = 0; i < tabLignes.length; i++) {\n            if (i % 3 === 0 && i > 0) {\n                compteurColor++;\n            }\n            color = getColor(compteurColor);\n            drawLine(tabLignes[i], color);\n            drawAngle(\n                tabAngles[i],\n                tabLignes[i].pt1.x,\n                tabLignes[i].pt1.y,\n                color\n            );\n        }\n    };\n\n    const redrawCanvas = () => {\n        if (tabLignes.length > 1) {\n            const context = amerCanvasRef.current.getContext(\"2d\");\n            context.clearRect(\n                0,\n                0,\n                amerCanvasRef.current.width,\n                amerCanvasRef.current.height\n            );\n            drawLinesFromArray();\n        }\n        if (tabLignes.length >= 3) {\n            drawPosition();\n        }\n    };\n\n    /**\n     *\n     */\n    // Règle de cras\n    // Pour obtenir le milieu de la règle : -(regle.width / 2)\n    // Pour obtenir le point 0 du rapporteur (rouge) : CALIBRAGE_ZERO_ROUGE * regle.height\n    // Pour obtenir le point 0 du rapporteur (noir) : CALIBRAGE_ZERO_NOIR * regle.height\n    const drawAndPlaceCRA = () => {\n        var regle = new Image();\n        regle.src = image;\n        regle.alt = \"alt text\";\n\n        const context = amerCanvasRef.current.getContext(\"2d\");\n        regle.onload = function () {\n            context.save();\n            context.translate(drawLineData.x1, drawLineData.y1);\n            context.rotate(degToRadian(angleVal - DEFAULT_ANGLE));\n\n            if (angleVal >= 180) {\n                context.drawImage(regle, -(regle.width / 2), 0);\n            } else {\n                context.drawImage(regle, -(regle.width / 2), 0);\n            }\n\n            context.restore();\n\n            //Tracer un trait au milieu du rapporteur\n            // var ligneMilieuRapporteur = new Line(new Point(0, drawLineData.y1), new Point(mapArray[0].length, drawLineData.y1));\n            // drawLine(ligneMilieuRapporteur, \"orange\");\n\n            if (tabLignes.length % 3 == 0) {\n                let line1 = tabLignes[tabLignes.length - 3];\n                let line2 = tabLignes[tabLignes.length - 2];\n                let line3 = tabLignes[tabLignes.length - 1];\n\n                trouverMilieu(line1, line2, line3);\n            }\n        };\n    };\n\n    const getColor = (compteur) => {\n        return tabColor[compteur % tabColor.length];\n    };\n\n    const trouverMilieu = (line1, line2, line3) => {\n        // get intersection\n        let pt_intersection1 = line1.getIntersection(line2);\n        let pt_intersection2 = line1.getIntersection(line3);\n        let pt_intersection3 = line2.getIntersection(line3);\n\n        let line_median1 = pt_intersection1.getMedian(\n            pt_intersection2,\n            pt_intersection3\n        );\n        let line_median2 = pt_intersection2.getMedian(\n            pt_intersection1,\n            pt_intersection3\n        );\n\n        // middle\n        let middle1 = line_median1.getIntersection(line_median2);\n        tabPositions.push(middle1);\n        drawPosition();\n    };\n\n    /**\n     *\n     * @param {L'évènement} event\n     */\n    const setCoordinates = (event) => {\n        setShow(true);\n        const rect = amerCanvasRef.current.getBoundingClientRect();\n        setDrawLineData({\n            ...drawLineData,\n            x1: event.clientX - rect.left,\n            y1: event.clientY - rect.top,\n            r: longueurVal\n        });\n    };\n\n    const temp = (x, y, xtab, ytab) => {\n        const latitude = mapSettingsData.latitude;\n        const longitude = mapSettingsData.longitude;\n        const latitudeDistance = mapSettingsData.latitudeDistance;\n        const longitudeDistance = mapSettingsData.longitudeDistance;\n\n        const {\n            decimalDegreLatitude,\n            decimalDegreLongitude,\n            decimalDegreLatitudeDistance,\n            decimalDegreLongitudeDistance\n        } = convertToDecimalDegre(\n            latitude,\n            longitude,\n            latitudeDistance,\n            longitudeDistance\n        );\n\n        const xCent = xtab / 2;\n        const yCent = ytab / 2;\n\n        const x2 = decimalDegreLongitude + decimalDegreLongitudeDistance;\n        const x1 = decimalDegreLongitude - decimalDegreLongitudeDistance;\n\n        const y2 = decimalDegreLatitude - decimalDegreLatitudeDistance;\n        const y1 = decimalDegreLatitude + decimalDegreLongitudeDistance;\n        const resX = (x / xtab) * (x2 - x1) + x1;\n        const resY = (y / ytab) * (y2 - y1) + y1;\n\n        return degToDms(resY, false) + \"\\xa0 \\xa0\" + degToDms(resX, true);\n    };\n\n    useEffect(() => {\n        if (amerCanvasRef) {\n            amerCanvasRef.current.addEventListener(\"mousemove\", (e) => {\n                if (\n                    mapArray.length > 1 &&\n                    (e.clientX % 2 === 0 || e.clientY % 2 === 0)\n                ) {\n                    const rect = amerCanvasRef.current.getBoundingClientRect();\n\n                    const xtab = mapArray[0].length * 256;\n                    const ytab = mapArray.length * 256;\n                    const x = parseInt(Math.abs(e.clientX - rect.left));\n                    const y = parseInt(Math.abs(e.clientY - rect.top));\n                    var label = document.getElementById(\"coordTest\");\n                    label.innerHTML = \"&nbsp;\" + temp(x, y, xtab, ytab);\n                }\n            });\n        }\n    });\n\n    useEffect(() => {\n        setDrawLineData({\n            ...drawLineData,\n            angle:\n                parseInt(angleVal, 10) +\n                parseInt(deviation, 10) +\n                parseInt(declinaison, 10) -\n                DEFAULT_ANGLE\n        });\n    }, [angleVal]);\n\n    useEffect(() => {\n        setDrawLineData({ ...drawLineData, r: longueurVal });\n    }, [longueurVal]);\n\n    const handleOnSubmit = (event) => {\n        compteurColor = 0;\n        var p1X = drawLineData.x1;\n        var p1Y = drawLineData.y1;\n        var p2X =\n            drawLineData.x1 +\n            drawLineData.r *\n                Math.cos((Math.PI * (drawLineData.angle + 180)) / 180);\n        var p2Y =\n            drawLineData.y1 +\n            drawLineData.r *\n                Math.sin((Math.PI * (drawLineData.angle + 180)) / 180);\n        var ligne = new Line(new Point(p1X, p1Y), new Point(p2X, p2Y));\n        tabLignes.push(ligne);\n        tabAngles.push(angleVal);\n        drawLine(ligne, color);\n        drawAngle(angleVal, p1X, p1Y, color);\n        redrawCanvas();\n        drawAndPlaceCRA();\n        handleClose();\n    };\n\n    return (\n        <>\n            <div id=\"idCanvas\">\n                <canvas\n                    id=\"canvasAmers\"\n                    ref={amerCanvasRef}\n                    className=\"canvas-style mt-5\"\n                    onClick={(e) => !!amer && setCoordinates(e)}\n                ></canvas>\n\n                <Modal show={show} onHide={handleClose} size=\"sm\" centered>\n                    <Modal.Header>\n                        <Modal.Title>Relever l'amer</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <Form.Label htmlFor=\"angle\">Angle</Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"angle\"\n                            value={angleVal}\n                            onChange={(e) => setAngleVal(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Angle\"\n                        />\n                        <Form.Label htmlFor=\"declinaison\">\n                            Déclinaison (D)\n                        </Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"declinaison\"\n                            value={declinaison}\n                            onChange={(e) => setDeclinaison(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Déclinaison\"\n                        />\n                        <Form.Label htmlFor=\"deviation\">\n                            Déviation (d)\n                        </Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"deviation\"\n                            value={deviation}\n                            onChange={(e) => setDeviation(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Déviation\"\n                        />\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={handleClose}>\n                            Annuler\n                        </Button>\n                        <Button variant=\"primary\" onClick={handleOnSubmit}>\n                            Valider le marquage\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n        </>\n    );\n};\n","import \"./Route.css\";\nimport React, { useRef, useEffect, useState } from \"react\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport { getDistanceFromLatLonInMiles } from \"../helpers/GenerateMap.js\";\nimport { deg_to_dms_array } from \"../helpers/GenerateMap\";\nimport { degToDms } from \"../helpers/GenerateMap\";\n\nimport { convertToDecimalDegre } from \"../helpers/GenerateMap\";\nvar arrayPoints = [];\nvar nbrPoints = 0;\n\nvar arrayDefLigne = [\n    \"Route Fond\",\n    \"Courant\",\n    \"Route Surface\",\n    \"Cap Vrai\",\n    \"Cap Compas\"\n];\n\nvar distanceMilesRf = 0;\nvar degreeRf = 0;\nvar distancePixelsRf = 0;\nvar distancePixelsReference = 0;\nvar distanceMilesReference = 0;\nexport const Route = (props) => {\n    const { mapArray, route, mapSettingsData } = props;\n\n    const [show, setShow] = useState(false);\n    const handleClose = () => setShow(false);\n\n    // Courant\n    const [distanceParcourirVal, setDistanceParcourirVal] = useState(\"0\");\n    const [capVal, setCapVal] = useState(\"0\");\n    const [angleVal, setAngleVal] = useState(\"0\");\n    const [noeudVal, setNoeudVal] = useState(\"0\");\n    const [vitesseFondVal, setVitesseFondVal] = useState(\"0\");\n    const [deriveVal, setDeriveVal] = useState(\"0\");\n    const [declinaisonVal, setDeclinaisonVal] = useState(\"0\");\n    const [deviationVal, setDeviationVal] = useState(\"0\");\n    const [routeArray, setRouteArray] = useState([]);\n\n    const drawPoint = (x, y, color, tmpTrajet) => {\n        const context = routeCanvasRef.current.getContext(\"2d\");\n        context.fillStyle = color || \"black\";\n        context.beginPath();\n        context.arc(x, y, 5, 0, 2 * Math.PI, true);\n        context.fill();\n        context.fillText(\n            \"Temps de trajet (en minutes) : \" + Math.round(tmpTrajet),\n            x + 5,\n            y + 5\n        );\n        context.stroke();\n    };\n\n    const pixelsToDegDecimal = (x, y, xtab, ytab) => {\n        //const xtab = mapArray[0].length*256;\n        //const ytab = mapArray.length*256;\n\n        const latitude = mapSettingsData.latitude;\n        const longitude = mapSettingsData.longitude;\n        const latitudeDistance = mapSettingsData.latitudeDistance;\n        const longitudeDistance = mapSettingsData.longitudeDistance;\n\n        const {\n            decimalDegreLatitude,\n            decimalDegreLongitude,\n            decimalDegreLatitudeDistance,\n            decimalDegreLongitudeDistance\n        } = convertToDecimalDegre(\n            latitude,\n            longitude,\n            latitudeDistance,\n            longitudeDistance\n        );\n\n        const xCent = xtab / 2;\n        const yCent = ytab / 2;\n\n        const x2 = decimalDegreLongitude + decimalDegreLongitudeDistance;\n        const x1 = decimalDegreLongitude - decimalDegreLongitudeDistance;\n\n        const y2 = decimalDegreLatitude - decimalDegreLatitudeDistance;\n        const y1 = decimalDegreLatitude + decimalDegreLongitudeDistance;\n        const resX = (x / xtab) * (x2 - x1) + x1;\n        const resY = (y / ytab) * (y2 - y1) + y1;\n\n        return [resX, resY];\n    };\n\n    const routeCanvasRef = useRef(null);\n\n    useEffect(() => {\n        if (mapArray.length) {\n            const routeCanvas = routeCanvasRef.current;\n\n            routeCanvas.height = mapArray.length * 256;\n            routeCanvas.width = mapArray[0].length * 256;\n        }\n    }, [mapArray]);\n\n    const setRoute = (event) => {\n        const rect = routeCanvasRef.current.getBoundingClientRect();\n        const context = routeCanvasRef.current.getContext(\"2d\");\n        context.font = \"15px Serif\";\n        let x = event.clientX - rect.left;\n        let y = event.clientY - rect.top;\n\n        arrayPoints.push([x, y]);\n        const xtab = mapArray[0].length * 256;\n        const ytab = mapArray.length * 256;\n        drawPoint(x, y, \"yellow\", 0);\n\n        let l1degDec = pixelsToDegDecimal(x, y, xtab, ytab);\n        let l2degDec = pixelsToDegDecimal(x + 1, y + 1, xtab, ytab);\n\n        let long1 = l1degDec[0];\n        let lat1 = l1degDec[1];\n\n        let long2 = l2degDec[0];\n        let lat2 = l2degDec[1];\n\n        distancePixelsReference = distanceTwoPoints(x, y, x + 1, y + 1);\n        distanceMilesReference = getDistanceFromLatLonInMiles(\n            lat1,\n            long1,\n            lat2,\n            long1\n        );\n        let arrayCoordMilesReference = calcLineAngle(\n            x,\n            y,\n            distanceMilesReference,\n            90\n        );\n        let xref = arrayCoordMilesReference[0];\n        let yref = arrayCoordMilesReference[1];\n\n        //let arrayP = [(distanceParcourirVal*xref)/distanceMilesReference,(distanceParcourirVal*yref)/distanceMilesReference]\n\n        //let arrayP = drawLineAngle(x,y,distanceMilesRf+distanceParcourirVal,degreDestVal,context,'blue',1);\n        //arrayPoints.push([arrayP[0],arrayP[1]]);\n\n        setShow(true);\n    };\n\n    const calcLineAngle = (x, y, long, angle) => {\n        let x2 = x + long * Math.cos((Math.PI * (angle - 90)) / 180);\n        let y2 = y + long * Math.sin((Math.PI * (angle - 90)) / 180);\n\n        return [x2, y2];\n    };\n    const drawLineAngle = (\n        x,\n        y,\n        long,\n        angle,\n        longMiles,\n        context,\n        couleur,\n        epaisseurTrait,\n        def\n    ) => {\n        context.beginPath();\n        context.strokeStyle = couleur;\n        context.lineWidth = epaisseurTrait;\n\n        context.moveTo(x, y);\n        let x2 = x + long * Math.cos((Math.PI * (angle - 90)) / 180);\n        let y2 = y + long * Math.sin((Math.PI * (angle - 90)) / 180);\n        context.lineTo(x2, y2);\n        context.stroke();\n        context.fillStyle = couleur;\n        let milieu = milieuTwoPoints(x, y, x2, y2);\n        context.fillText(\n            def +\n                \" - \" +\n                \"Angle (en Degré) : \" +\n                roundDecimal(angle, 1) +\n                \" \\n Distance (en Miles) : \" +\n                roundDecimal(longMiles, 2),\n            milieu[0],\n            milieu[1]\n        );\n\n        return [x2, y2];\n    };\n\n    const distanceTwoPoints = (x1, y1, x2, y2) => {\n        return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    };\n    const drawLine = (x1, y1, x2, y2, context, couleur, angle, long, def) => {\n        context.beginPath();\n        context.strokeStyle = couleur;\n        context.moveTo(x1, y1);\n        context.lineTo(x2, y2);\n        context.stroke();\n        context.fillStyle = couleur;\n        let milieu = milieuTwoPoints(x1, y1, x2, y2);\n\n        context.fillText(\n            def +\n                \" - \" +\n                \"Angle (en Degré) : \" +\n                roundDecimal(angle, 1) +\n                \" \\n Distance (en Miles) : \" +\n                roundDecimal(long, 2),\n            milieu[0],\n            milieu[1]\n        );\n    };\n\n    const milieuTwoPoints = (x1, y1, x2, y2) => {\n        return [(x1 + x2) / 2, (y1 + y2) / 2];\n    };\n\n    function roundDecimal(nombre, precision) {\n        var precision = precision || 2;\n        var tmp = Math.pow(10, precision);\n        return Math.round(nombre * tmp) / tmp;\n    }\n    //const context = routeCanvasRef.current.getContext(\"2d\");\n    const handleOnSubmit = (event) => {\n        const context = routeCanvasRef.current.getContext(\"2d\");\n\n        let x1 = arrayPoints[0][0];\n        let y1 = arrayPoints[0][1];\n\n        distancePixelsRf =\n            (distancePixelsReference * distanceParcourirVal) /\n            distanceMilesReference;\n        distanceMilesRf = distanceParcourirVal;\n\n        let arrayP2 = drawLineAngle(\n            x1,\n            y1,\n            distancePixelsRf,\n            capVal,\n            distanceMilesRf,\n            context,\n            \"blue\",\n            1,\n            arrayDefLigne[0]\n        );\n        let x2 = arrayP2[0];\n        let y2 = arrayP2[1];\n        let noeudCourant = (noeudVal * distancePixelsRf) / distanceMilesRf;\n        let arrayCoord = drawLineAngle(\n            x1,\n            y1,\n            noeudCourant,\n            angleVal,\n            noeudCourant,\n            context,\n            \"red\",\n            1,\n            arrayDefLigne[1]\n        );\n\n        let x3 = arrayCoord[0];\n        let y3 = arrayCoord[1];\n\n        let degreeRS = (Math.atan2(y2 - y3, x2 - x3) * 180) / Math.PI + 90;\n        let distanceRSPixels = distanceTwoPoints(x3, y3, x2, y2);\n        let distanceRSMiles =\n            (distanceRSPixels * distanceMilesRf) / distancePixelsRf;\n        drawLine(\n            x3,\n            y3,\n            x2,\n            y2,\n            context,\n            \"green\",\n            degreeRS,\n            distanceRSMiles,\n            arrayDefLigne[2]\n        );\n\n        let degreeCapVrai = degreeRS - deriveVal;\n        drawLineAngle(\n            x3,\n            y3,\n            distanceRSPixels,\n            degreeCapVrai,\n            distanceRSMiles,\n            context,\n            \"brown\",\n            1,\n            arrayDefLigne[3]\n        );\n\n        let degreeCapCompas = degreeCapVrai - declinaisonVal - deviationVal;\n        let arrayCoordCapCompas = drawLineAngle(\n            x3,\n            y3,\n            distanceRSPixels,\n            degreeCapCompas,\n            distanceRSMiles,\n            context,\n            \"purple\",\n            5,\n            arrayDefLigne[4]\n        );\n        let x4 = arrayCoordCapCompas[0];\n        let y4 = arrayCoordCapCompas[1];\n\n        let dureeTrajet = (distanceRSMiles * 60) / vitesseFondVal;\n        drawPoint(x4, y4, \"purple\", dureeTrajet);\n\n        arrayPoints = [];\n        handleClose();\n    };\n\n    const handleOnSuppr = (event) => {\n        const context = routeCanvasRef.current.getContext(\"2d\");\n        const xtab = mapArray[0].length * 256;\n        const ytab = mapArray.length * 256;\n        context.clearRect(0, 0, xtab, ytab);\n\n        var distanceMilesRf = 0;\n        var degreeRf = 0;\n        var distancePixelsRf = 0;\n        var distancePixelsReference = 0;\n        var distanceMilesReference = 0;\n\n        var arrayPoints = [];\n    };\n    return (\n        <>\n            <div id=\"idRoute\">\n                <canvas\n                    id=\"canvas\"\n                    ref={routeCanvasRef}\n                    className=\"canvas-style mt-5\"\n                    onClick={(e) => !!route && setRoute(e)}\n                ></canvas>\n\n                <Modal show={show} onHide={handleClose} size=\"sm\" centered>\n                    <Modal.Header>\n                        <Modal.Title>Tracer route</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <Form.Label htmlFor=\"distanceParcourir\">\n                            Distance à parcourir\n                        </Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"distanceParcourir\"\n                            value={distanceParcourirVal}\n                            onChange={(e) =>\n                                setDistanceParcourirVal(e.target.value)\n                            }\n                            type=\"number\"\n                            placeholder=\"DistanceParcourir\"\n                        />\n                        <Form.Label htmlFor=\"cap\">Cap</Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"cap\"\n                            value={capVal}\n                            onChange={(e) => setCapVal(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Cap\"\n                        />\n                        <Form.Label htmlFor=\"vitesseFond\">\n                            Vitesse de Fond\n                        </Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"vitesseFond\"\n                            value={vitesseFondVal}\n                            onChange={(e) => setVitesseFondVal(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"VitesseFond\"\n                        />\n                        <Form.Label htmlFor=\"angle\">\n                            Angle du Courant\n                        </Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"angle\"\n                            value={angleVal}\n                            onChange={(e) => setAngleVal(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Angle\"\n                        />\n                        <Form.Label htmlFor=\"noeud\">\n                            Noeud du Courant\n                        </Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"noeud\"\n                            value={noeudVal}\n                            onChange={(e) => setNoeudVal(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Noeud\"\n                        />\n                        <Form.Label htmlFor=\"derive\">Dérive</Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"derive\"\n                            value={deriveVal}\n                            onChange={(e) => setDeriveVal(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Dérive\"\n                        />\n                        <Form.Label htmlFor=\"declinaison\">\n                            Déclinaison\n                        </Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"declinaison\"\n                            value={declinaisonVal}\n                            onChange={(e) => setDeclinaisonVal(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Déclinaison\"\n                        />\n                        <Form.Label htmlFor=\"deviation\">Déviation</Form.Label>\n                        <Form.Control\n                            className=\"mb-2 mr-sm-2\"\n                            id=\"deviation\"\n                            value={deviationVal}\n                            onChange={(e) => setDeviationVal(e.target.value)}\n                            type=\"number\"\n                            placeholder=\"Déviation\"\n                        />\n                    </Modal.Body>\n\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={handleClose}>\n                            Annuler\n                        </Button>\n                        <Button variant=\"secondary\" onClick={handleOnSuppr}>\n                            Tout supprimer\n                        </Button>\n                        <Button variant=\"primary\" onClick={handleOnSubmit}>\n                            Valider le marquage\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n        </>\n    );\n};\n","import \"./SeaMap.css\";\nimport React, { useRef } from \"react\";\nimport { convertToDecimalDegre } from \"../helpers/GenerateMap\";\nimport { degToDms } from \"../helpers/GenerateMap\";\n\n// Grille\nconst drawLine = (tableRef, canvasGraticuleRef, mapSettingsData, mapArray) => {\n    const context = canvasGraticuleRef.current.getContext(\"2d\");\n    const canvasGraticule = canvasGraticuleRef.current;\n\n    const latitude = mapSettingsData.latitude;\n    const longitude = mapSettingsData.longitude;\n\n    const latitudeDistance = mapSettingsData.latitudeDistance;\n    const longitudeDistance = mapSettingsData.longitudeDistance;\n\n    const zoom = mapSettingsData.zoom;\n\n    const longitudeString =\n        longitude.deg +\n        \"° \" +\n        longitude.min +\n        \"' \" +\n        longitude.sec +\n        '\" ' +\n        longitude.orientation;\n\n    const {\n        decimalDegreLatitude,\n        decimalDegreLongitude,\n        decimalDegreLatitudeDistance,\n        decimalDegreLongitudeDistance\n    } = convertToDecimalDegre(\n        latitude,\n        longitude,\n        latitudeDistance,\n        longitudeDistance\n    );\n\n    const diffDegLongitude =\n        decimalDegreLongitude - decimalDegreLongitudeDistance;\n    const diffDegLatitude = decimalDegreLatitude + decimalDegreLatitudeDistance;\n\n    canvasGraticule.height = mapArray.length * 256;\n    canvasGraticule.width = mapArray[0].length * 256;\n\n    var height = mapArray.length * 256;\n    var width = mapArray[0].length * 256;\n\n    context.setLineDash([15, 5]);\n\n    var coordCentX = width / 2;\n    var coordCentY = height / 2;\n\n    var coordEstX = width;\n    var coordEstY = height / 2;\n\n    var coordOuestX = 0;\n    var coordOuestY = height / 2;\n\n    var coordNordX = width / 2;\n    var coordNordY = 0;\n\n    var coordSudX = width / 2;\n    var coordSudY = height;\n\n    for (\n        var i = coordCentX;\n        i <= coordEstX;\n        i += (coordEstX - coordCentX) / 6\n    ) {\n        context.moveTo(i, 0);\n        context.lineTo(i, height);\n        context.stroke();\n    }\n\n    for (\n        var i = coordOuestX;\n        i <= coordCentX;\n        i += (coordEstX - coordCentX) / 6\n    ) {\n        context.moveTo(i, 0);\n        context.lineTo(i, height);\n        context.stroke();\n    }\n    for (\n        var i = coordCentY;\n        i <= coordSudY;\n        i += (coordSudY - coordCentY) / 6\n    ) {\n        context.moveTo(0, i);\n        context.lineTo(width, i);\n        context.stroke();\n    }\n\n    for (\n        var i = coordNordY;\n        i <= coordCentY;\n        i += (coordSudY - coordCentY) / 6\n    ) {\n        context.moveTo(0, i);\n        context.lineTo(width, i);\n        context.stroke();\n    }\n};\n\nexport const SeaMap = (props) => {\n    const { mapArray, mapSettingsData, isStoredMap, storedMapName } = props;\n\n    //Ref\n    const tableRef = useRef(null);\n    const canvasGraticuleRef = useRef(null);\n\n    return (\n        <div>\n            <table\n                id=\"map\"\n                ref={tableRef}\n                className=\"mt-5\"\n                cellSpacing=\"0\"\n                cellPadding=\"0\"\n                style={{ border: \"none\" }}\n            >\n                <tbody>\n                    {mapArray.map((row, rowIndex) => {\n                        return (\n                            <tr key={rowIndex}>\n                                {row.map((cell, cellIndex) => {\n                                    if (\n                                        cellIndex === row.length - 1 &&\n                                        rowIndex === mapArray.length - 1\n                                    ) {\n                                        drawLine(\n                                            tableRef,\n                                            canvasGraticuleRef,\n                                            mapSettingsData,\n                                            mapArray\n                                        );\n                                    }\n                                    return (\n                                        <td\n                                            className=\"mapArrayCell\"\n                                            key={cellIndex}\n                                        >\n                                            <img\n                                                alt=\"\"\n                                                src={`https://a.tile.openstreetmap.fr/osmfr/${cell[0]}/${cell[1]}/${cell[2]}.png`}\n                                            />\n                                            <img\n                                                alt=\"\"\n                                                className=\"overlayed\"\n                                                src={`https://tiles.openseamap.org/seamark/${cell[0]}/${cell[1]}/${cell[2]}.png`}\n                                            />\n                                        </td>\n                                    );\n                                })}\n                            </tr>\n                        );\n                    })}\n                </tbody>\n            </table>\n            <canvas\n                ref={canvasGraticuleRef}\n                className=\"canvas-style-gaticule mt-5\"\n            ></canvas>\n        </div>\n    );\n};\n","import {\n    Button,\n    Navbar,\n    OverlayTrigger,\n    Tooltip,\n    NavDropdown\n} from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n    faLifeRing,\n    faMapMarkedAlt,\n    faPencilRuler,\n    faQuestion,\n    faSave\n} from \"@fortawesome/free-solid-svg-icons\";\nimport \"./TopBar.css\";\n\nconst renderTooltip = (title) => <Tooltip id=\"button-tooltip\">{title}</Tooltip>;\n\nexport const TopBar = (props) => {\n    const {\n        setShowSettings,\n        setShowLoadMap,\n        setShowHelp,\n        amerState,\n        routeState\n    } = props;\n    const [amer, setAmer] = amerState;\n\n    const swap = function (nodeA, nodeB) {\n        const parentA = nodeA.parentNode;\n        const siblingA =\n            nodeA.nextSibling === nodeB ? nodeA : nodeA.nextSibling;\n\n        // Move `nodeA` to before the `nodeB`\n        nodeB.parentNode.insertBefore(nodeA, nodeB);\n\n        // Move `nodeB` to before the sibling of `nodeA`\n        parentA.insertBefore(nodeB, siblingA);\n    };\n\n    const [route, setRoute] = routeState;\n    const handleShowSettings = () => setShowSettings(true);\n    const handleShowLoadMap = () => setShowLoadMap(true);\n    const handleShowHelp = () => setShowHelp(true);\n    const handleAmerState = () => {\n        var elemRoute = document.getElementById(\"idRoute\");\n        var elemCanvas = document.getElementById(\"idCanvas\");\n        setAmer(!amer);\n        console.log(\"\");\n        if (!amer && route) {\n            setRoute(false);\n            swap(elemCanvas, elemRoute);\n        }\n    };\n    const handleRouteState = () => {\n        var elemRoute = document.getElementById(\"idRoute\");\n        var elemCanvas = document.getElementById(\"idCanvas\");\n        setRoute(!route);\n        console.log(\"\");\n        if (amer && !route) {\n            setAmer(false);\n            swap(elemCanvas, elemRoute);\n        }\n    };\n\n    return (\n        <>\n            <Navbar\n                sticky=\"top\"\n                className=\"navbar-dark\"\n                style={{ position: \"fixed\", width: \"100%\" }}\n                bg=\"dark\"\n            >\n                <Navbar.Collapse id=\"basic-navbar-nav\">\n                    <a className=\"navbar-brand\" href=\"#\">\n                        &nbsp;&nbsp;Assistance Navigation Maritime\n                    </a>\n                    <OverlayTrigger\n                        placement=\"bottom\"\n                        overlay={renderTooltip(\"Gérer les coordonnées\")}\n                    >\n                        <Button\n                            variant=\"primary\"\n                            disabled={!navigator.onLine}\n                            onClick={navigator.onLine && handleShowSettings}\n                        >\n                            <FontAwesomeIcon icon={faMapMarkedAlt} size=\"lg\" />\n                        </Button>\n                    </OverlayTrigger>\n                    <OverlayTrigger\n                        placement=\"bottom\"\n                        overlay={renderTooltip(\"Charger une carte\")}\n                    >\n                        <Button\n                            variant=\"primary\"\n                            className=\"spacedButton\"\n                            onClick={handleShowLoadMap}\n                        >\n                            <FontAwesomeIcon icon={faSave} size=\"lg\" />\n                        </Button>\n                    </OverlayTrigger>\n                    <OverlayTrigger\n                        placement=\"bottom\"\n                        overlay={renderTooltip(\"Placer un amer\")}\n                    >\n                        <Button\n                            variant=\"primary\"\n                            className=\"spacedButton\"\n                            onClick={handleAmerState}\n                        >\n                            <FontAwesomeIcon icon={faLifeRing} size=\"lg\" />\n                            {!!amer ? \" ON\" : \" OFF\"}\n                        </Button>\n                    </OverlayTrigger>\n                    <OverlayTrigger\n                        placement=\"bottom\"\n                        overlay={renderTooltip(\"Tracer une route\")}\n                    >\n                        <Button\n                            variant=\"primary\"\n                            className=\"spacedButton\"\n                            onClick={handleRouteState}\n                        >\n                            <FontAwesomeIcon icon={faPencilRuler} size=\"lg\" />\n                            {!!route ? \" ON\" : \" OFF\"}\n                        </Button>\n                    </OverlayTrigger>\n                    <OverlayTrigger\n                        placement=\"bottom\"\n                        overlay={renderTooltip(\"Aide\")}\n                    >\n                        <Button\n                            variant=\"primary\"\n                            className=\"spacedButton\"\n                            onClick={handleShowHelp}\n                        >\n                            <FontAwesomeIcon icon={faQuestion} size=\"lg\" />\n                        </Button>\n                    </OverlayTrigger>\n                    &nbsp;\n                    <label\n                        className=\"ml-auto\"\n                        style={{ color: \"white\", fontWeight: \"bold\" }}\n                        id=\"coordTest\"\n                    ></label>\n                </Navbar.Collapse>\n            </Navbar>\n        </>\n    );\n};\n","import { useState } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { isBetween } from \"../../helpers/helpers\";\nimport { generateMapArray } from \"../../helpers/GenerateMap\";\n\nexport const SettingsModal = (props) => {\n    const {\n        show,\n        setMapArray,\n        mapNameState,\n        savedMapsState,\n        mapSettingsDataState,\n        setIsStoredMap\n    } = props;\n    const [mapSettingsData, setMapSettingsData] = mapSettingsDataState;\n    const [savedMaps, setSavedMaps] = savedMapsState;\n    const [showSettings, setShowSettings] = show;\n    const [mapName, setMapName] = mapNameState;\n\n    // Latitude\n    const [latDeg, setLatDeg] = useState(\"47\");\n    const [latMin, setLatMin] = useState(\"25\");\n    const [latSec, setLatSec] = useState(\"0\");\n    const [latRad, setLatRad] = useState(\"N\");\n\n    // Longitude\n    const [lonDeg, setLonDeg] = useState(\"2\");\n    const [lonMin, setLonMin] = useState(\"50\");\n    const [lonSec, setLonSec] = useState(\"0\");\n    const [lonRad, setLonRad] = useState(\"O\");\n\n    // Distance Longitude\n    const [lonDistDeg, setLonDistDeg] = useState(\"0\");\n    const [lonDistMin, setLonDistMin] = useState(\"15\");\n\n    // Distance Latitude\n    const [latDistDeg, setLatDistDeg] = useState(\"0\");\n    const [latDistMin, setLatDistMin] = useState(\"15\");\n\n    // Footer\n    const [mapZoom, setMapZoom] = useState(\"13\");\n\n    const handleCloseSettings = () => setShowSettings(false);\n    const applySettings = () => {\n        if (!savedMaps.find((savedMap) => savedMap.data.name === mapName)) {\n            const mapArray = generateMapArray({\n                latitude: {\n                    deg: latDeg,\n                    min: latMin,\n                    sec: latSec,\n                    orientation: latRad\n                },\n                longitude: {\n                    deg: lonDeg,\n                    min: lonMin,\n                    sec: lonSec,\n                    orientation: lonRad\n                },\n                longitudeDistance: {\n                    deg: lonDistDeg,\n                    min: lonDistMin\n                },\n                latitudeDistance: {\n                    deg: latDistDeg,\n                    min: latDistMin\n                },\n                zoom: parseInt(mapZoom)\n            });\n            setIsStoredMap(false);\n            setMapSettingsData({\n                latitude: {\n                    deg: latDeg,\n                    min: latMin,\n                    sec: latSec,\n                    orientation: latRad\n                },\n                longitude: {\n                    deg: lonDeg,\n                    min: lonMin,\n                    sec: lonSec,\n                    orientation: lonRad\n                },\n                longitudeDistance: {\n                    deg: lonDistDeg,\n                    min: lonDistMin\n                },\n                latitudeDistance: {\n                    deg: latDistDeg,\n                    min: latDistMin\n                },\n                zoom: parseInt(mapZoom),\n                name: mapName\n            });\n            setMapArray(mapArray);\n            setSavedMaps([\n                ...savedMaps,\n                {\n                    data: {\n                        latitude: {\n                            deg: latDeg,\n                            min: latMin,\n                            sec: latSec,\n                            orientation: latRad\n                        },\n                        longitude: {\n                            deg: lonDeg,\n                            min: lonMin,\n                            sec: lonSec,\n                            orientation: lonRad\n                        },\n                        longitudeDistance: {\n                            deg: lonDistDeg,\n                            min: lonDistMin\n                        },\n                        latitudeDistance: {\n                            deg: latDistDeg,\n                            min: latDistMin\n                        },\n                        zoom: parseInt(mapZoom),\n                        name: mapName\n                    },\n                    tiles: mapArray\n                }\n            ]);\n            setShowSettings(false);\n        } else {\n            alert(\"Une carte possédant ce nom existe déjà\");\n        }\n    };\n\n    return (\n        <Modal show={showSettings} onHide={handleCloseSettings} size=\"lg\">\n            <Modal.Header>\n                <Modal.Title>Gestion des coordonnées</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <div className=\"row g-3 align-items-end\" noValidate>\n                    <div className=\"col\">\n                        <label className=\"form-label\" htmlFor=\"mapName\">\n                            Nom de la carte :\n                        </label>\n                        <input\n                            className=\"form-control\"\n                            type=\"text\"\n                            id=\"mapName\"\n                            value={mapName}\n                            onChange={(e) => setMapName(e.target.value)}\n                        />\n                    </div>\n                </div>\n\n                <hr className=\"my-4\" />\n\n                <div className=\"row\">\n                    <label>Coordonnées Latitude : </label>\n                </div>\n                <div className=\"row g-3 align-items-end\" noValidate>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"latDeg\">\n                            Degré\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"latDeg\"\n                                value={latDeg}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, -90, 90) &&\n                                    setLatDeg(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>°</b>\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"latMin\">\n                            Minutes\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"latMin\"\n                                value={latMin}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, 0, 60) &&\n                                    setLatMin(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>'</b>\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"latSec\">\n                            Secondes\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"latSec\"\n                                value={latSec}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, 0, 60) &&\n                                    setLatSec(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>\"</b>\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"col-sm-2\">\n                        <div\n                            name=\"latitude\"\n                            className=\"btn-group\"\n                            role=\"group\"\n                            aria-label=\"Basic radio toggle button group\"\n                        >\n                            <input\n                                className=\"btn-check\"\n                                type=\"radio\"\n                                id=\"latRadioN\"\n                                value=\"N\"\n                                autoComplete=\"off\"\n                                checked={latRad === \"N\"}\n                                onChange={(e) => setLatRad(e.target.value)}\n                            />\n                            <label\n                                className=\"btn btn-outline-primary\"\n                                htmlFor=\"latRadioN\"\n                            >\n                                Nord\n                            </label>\n\n                            <input\n                                className=\"btn-check\"\n                                type=\"radio\"\n                                id=\"latRadioS\"\n                                value=\"S\"\n                                autoComplete=\"off\"\n                                checked={latRad === \"S\"}\n                                onChange={(e) => setLatRad(e.target.value)}\n                            />\n                            <label\n                                className=\"btn btn-outline-primary\"\n                                htmlFor=\"latRadioS\"\n                            >\n                                Sud\n                            </label>\n                        </div>\n                    </div>\n                </div>\n\n                <hr className=\"my-4\" />\n\n                <div className=\"row\">\n                    <label>Coordonnées Longitude :</label>\n                </div>\n                <div className=\"row g-3 align-items-end\" noValidate>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"lonDeg\">\n                            Degré\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"lonDeg\"\n                                value={lonDeg}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, -180, 180) &&\n                                    setLonDeg(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>°</b>\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"lonMin\">\n                            Minutes\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"lonMin\"\n                                value={lonMin}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, 0, 60) &&\n                                    setLonMin(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>'</b>\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"lonSec\">\n                            Secondes\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"lonSec\"\n                                value={lonSec}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, 0, 60) &&\n                                    setLonSec(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>\"</b>\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"col-sm-2\">\n                        <div\n                            className=\"btn-group\"\n                            name=\"latitude\"\n                            role=\"group\"\n                            aria-label=\"Basic radio toggle button group\"\n                        >\n                            <input\n                                className=\"btn-check\"\n                                type=\"radio\"\n                                id=\"lonRadioE\"\n                                value=\"E\"\n                                autoComplete=\"off\"\n                                checked={lonRad === \"E\"}\n                                onChange={(e) => setLonRad(e.target.value)}\n                            />\n                            <label\n                                className=\"btn btn-outline-primary\"\n                                htmlFor=\"lonRadioE\"\n                            >\n                                Est\n                            </label>\n                            <input\n                                className=\"btn-check\"\n                                type=\"radio\"\n                                id=\"lonRadioO\"\n                                value=\"O\"\n                                autoComplete=\"off\"\n                                checked={lonRad === \"O\"}\n                                onChange={(e) => setLonRad(e.target.value)}\n                            />\n                            <label\n                                className=\"btn btn-outline-primary\"\n                                htmlFor=\"lonRadioO\"\n                            >\n                                Ouest\n                            </label>\n                        </div>\n                    </div>\n                </div>\n\n                <hr className=\"my-4\" />\n\n                <div className=\"row\">\n                    <label>Rayon Latitude : </label>\n                </div>\n                <div className=\"row g-3 align-items-end\" noValidate>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"latDistDeg\">\n                            Degré\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"latDistDeg\"\n                                value={latDistDeg}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, -45, 45) &&\n                                    setLatDistDeg(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>°</b>\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"latDistMin\">\n                            Minutes\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"latDistMin\"\n                                value={latDistMin}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, 0, 60) &&\n                                    setLatDistMin(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>'</b>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n\n                <hr className=\"my-4\" />\n\n                <div className=\"row\">\n                    <label>Rayon Longitude : </label>\n                </div>\n                <div className=\"row g-3 align-items-end\" noValidate>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"lonDistDeg\">\n                            Degré\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"lonDistDeg\"\n                                value={lonDistDeg}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, -90, 90) &&\n                                    setLonDistDeg(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>°</b>\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"col-sm\">\n                        <label className=\"form-label\" htmlFor=\"lonDistMin\">\n                            Minutes\n                        </label>\n                        <div className=\"input-group\">\n                            <input\n                                className=\"form-control\"\n                                type=\"number\"\n                                id=\"lonDistMin\"\n                                value={lonDistMin}\n                                onChange={(e) =>\n                                    isBetween(e.target.value, 0, 60) &&\n                                    setLonDistMin(e.target.value)\n                                }\n                            />\n                            <span className=\"input-group-text\">\n                                <b>'</b>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n\n                <hr className=\"my-4\" />\n\n                <div className=\"row\">\n                    <div className=\"col\">\n                        <label className=\"form-label\" htmlFor=\"mapZoom\">\n                            Échelle :\n                        </label>\n                        <select\n                            className=\"form-control\"\n                            id=\"mapZoom\"\n                            value={mapZoom}\n                            onChange={(e) => setMapZoom(e.target.value)}\n                        >\n                            <option value=\"10\">1:500 000</option>\n                            <option value=\"11\">1:250 000</option>\n                            <option value=\"12\">1:150 000</option>\n                            <option value=\"13\">1:70 000</option>\n                            <option value=\"14\">1:35 000</option>\n                            <option value=\"15\">1:15 000</option>\n                            <option value=\"16\">1:8 000</option>\n                            <option value=\"17\">1:4 000</option>\n                            <option value=\"18\">1:2 000</option>\n                        </select>\n                    </div>\n                </div>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"danger\" onClick={handleCloseSettings}>\n                    Annuler\n                </Button>\n                <Button variant=\"success\" onClick={applySettings}>\n                    Valider\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n","import { Modal, Button, Form } from \"react-bootstrap\";\nimport { useEffect, useState } from \"react\";\n\nexport const LoadMapModal = (props) => {\n    const {\n        show,\n        mapArrayState,\n        mapNameState,\n        savedMapsState,\n        isStoredMapState,\n        storedMapState,\n        mapSettingsDataState\n    } = props;\n    const [isStoredMap, setIsStoredMap] = isStoredMapState;\n    const [mapName, setMapName] = mapNameState;\n    const [mapArray, setMapArray] = mapArrayState;\n    const [showLoadMap, setShowLoadMap] = show;\n    const [savedMaps, setSavedMaps] = savedMapsState;\n    const [storedMapName, setStoredMapName] = storedMapState;\n    const [mapSettingsData, setMapSettingsData] = mapSettingsDataState;\n    const [currentlySelectedMapName, setCurrentlySelectedMapName] =\n        useState(\"\");\n    const handleCloseLoadMap = () => setShowLoadMap(false);\n\n    const handleValidate = () => {\n        if (currentlySelectedMapName) {\n            const ele = document.getElementById(\"dragMap\");\n            ele.style.left = \"0px\";\n            ele.style.top = \"0px\";\n            const selectedMap = savedMaps.find(\n                (map) => map.data.name === currentlySelectedMapName\n            );\n            if (selectedMap) {\n                setMapArray(selectedMap.tiles);\n                setMapSettingsData(selectedMap.data);\n            }\n            handleCloseLoadMap();\n        }\n    };\n\n    return (\n        <Modal show={showLoadMap} onHide={handleCloseLoadMap} size=\"lg\">\n            <Modal.Header>\n                <Modal.Title>Charger une carte</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form>\n                    <Form.Group>\n                        <Form.Label>Nom</Form.Label>\n                        <Form.Control\n                            disabled={!savedMaps.length}\n                            as=\"select\"\n                            value={currentlySelectedMapName}\n                            onChange={(e) =>\n                                setCurrentlySelectedMapName(e.target.value)\n                            }\n                        >\n                            <option selected></option>\n                            {savedMaps.length &&\n                                savedMaps.map((currMap) => (\n                                    <option value={currMap.data.name}>\n                                        {currMap.data.name}\n                                    </option>\n                                ))}\n                        </Form.Control>\n                    </Form.Group>\n                </Form>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"danger\" onClick={handleCloseLoadMap}>\n                    Annuler\n                </Button>\n                <Button\n                    variant=\"success\"\n                    disabled={!savedMaps.length || !currentlySelectedMapName}\n                    onClick={handleValidate}\n                >\n                    Valider Carte\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n","import { useState, useEffect } from \"react\";\nimport { SettingsModal } from \"./Modals/SettingsModal\";\nimport { LoadMapModal } from \"./Modals/LoadMapModal\";\n\nexport const Modals = (props) => {\n    const {\n        settingsModal,\n        loadMapModal,\n        mapArrayState,\n        isStoredMapState,\n        mapSettingsDataState,\n        mapNameState,\n        storedMapState\n    } = props;\n    const [mapName, setMapName] = mapNameState;\n    const [savedMaps, setSavedMaps] = useState([]);\n    const [mapArray, setMapArray] = mapArrayState;\n    const [hasLoadedMapDir, setHasLoadedMapDir] = useState(false);\n    const [isStoredMap, setIsStoredMap] = isStoredMapState;\n\n    return (\n        <>\n            <LoadMapModal\n                show={loadMapModal}\n                mapArrayState={[mapArray, setMapArray]}\n                isStoredMapState={isStoredMapState}\n                mapNameState={[mapName, setMapName]}\n                savedMapsState={[savedMaps, setSavedMaps]}\n                storedMapState={storedMapState}\n                mapSettingsDataState={mapSettingsDataState}\n            />\n            <SettingsModal\n                mapSettingsDataState={mapSettingsDataState}\n                show={settingsModal}\n                setMapArray={setMapArray}\n                mapNameState={[mapName, setMapName]}\n                savedMapsState={[savedMaps, setSavedMaps]}\n                setIsStoredMap={setIsStoredMap}\n            />\n        </>\n    );\n};\n","import { Modal, Button } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n    faLifeRing,\n    faMapMarkedAlt,\n    faPencilRuler,\n    faSave\n} from \"@fortawesome/free-solid-svg-icons\";\n\nexport const HelpModal = (props) => {\n    const { showState } = props;\n    const [showHelp, setShowHelp] = showState;\n\n    const handleClose = () => setShowHelp(false);\n\n    return (\n        <Modal show={showHelp} onHide={handleClose} size=\"lg\" centered>\n            <Modal.Header>\n                <Modal.Title>Aide</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <p>\n                    La barre de navigation contient 4 boutons\n                    <br />\n                    <hr />\n                    <div className=\"row\">\n                        <div className=\"col-md-1\">\n                            <Button variant=\"primary\">\n                                <FontAwesomeIcon\n                                    icon={faMapMarkedAlt}\n                                    size=\"lg\"\n                                />\n                            </Button>\n                        </div>\n                        <div className=\"col-md-11\">\n                            &nbsp; Bouton qui permet l'affichage de la fenêtre\n                            de gestion de coordonnées, afin de charger l'endroit\n                            du globe que l'on veut, avec une échelle et une\n                            taille bien précise\n                        </div>\n                    </div>\n                    <hr />\n                    <div className=\"row\">\n                        <div className=\"col-md-1\">\n                            <Button variant=\"primary\">\n                                <FontAwesomeIcon icon={faSave} size=\"lg\" />\n                            </Button>\n                        </div>\n                        <div className=\"col-md-11\">\n                            &nbsp; Bouton qui affiche la fenêtre de chargement\n                            de cartes prédéfinies, qui permet de charger toutes\n                            les cartes déjà initialisées (principalement utile\n                            en mode hors ligne ou bien pour charger aisément une\n                            carte récurrente)\n                        </div>\n                    </div>\n                    <hr />\n                    <div className=\"row\">\n                        <div className=\"col-md-2\">\n                            <Button variant=\"primary\">\n                                <FontAwesomeIcon icon={faLifeRing} size=\"lg\" />\n                                &nbsp;OFF\n                            </Button>\n                        </div>\n                        <div className=\"col-md-10\">\n                            &nbsp; Bouton qui affiche si oui(ON) ou non(OFF) le\n                            mode de repérage d'amer est activé. Lorsque ce\n                            dernier l'est, cliquer sur la carte puis remplir le\n                            formulaire associé va permettre de repérer un amer.\n                            Lorsque 3 amers seront relevés, un point central\n                            ainsi que ses coordonnées seront affichées sur\n                            l'interface, au centre du triangle formé par\n                            l'intersection des droites issues des relevages\n                            d'amers\n                        </div>\n                    </div>\n                    <hr />\n                    <div className=\"row\">\n                        <div className=\"col-md-2\">\n                            <Button variant=\"primary\">\n                                <FontAwesomeIcon\n                                    icon={faPencilRuler}\n                                    size=\"lg\"\n                                />\n                                &nbsp;OFF\n                            </Button>\n                        </div>\n                        <div className=\"col-md-10\">\n                            &nbsp; Bouton qui affiche si oui(ON) ou non(OFF) le\n                            mode de traçage de route est activé. Lorsque ce\n                            dernier l'est, il est possible de cliquer sur la\n                            carte, pour spécifier le point de départ de la\n                            route. Une fois cela fait, une fenêtre va apparaître\n                            et il faudra spécifier certaines variables liées à\n                            la navigation. Une fois le formulaire de la fenêre\n                            validé, cela va tracer différents types de routes,\n                            notamment le courant, la route surface, le cap vrai\n                            ainsi que le cap Compas\n                        </div>\n                    </div>\n                </p>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" onClick={handleClose}>\n                    Fermer\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n","import { Canvas } from \"./components/Canvas\";\nimport { Route } from \"./components/Route\";\nimport { SeaMap } from \"./components/SeaMap\";\nimport { TopBar } from \"./components/TopBar\";\nimport { Modals } from \"./components/Modals\";\nimport { HelpModal } from \"./components/HelpModal\";\nimport { useState, useRef, useEffect } from \"react\";\nimport \"./App.css\";\n\nexport const App = () => {\n    const [showSettings, setShowSettings] = useState(false);\n    const [showLoadMap, setShowLoadMap] = useState(false);\n    const [showHelp, setShowHelp] = useState(false);\n    const [mapArray, setMapArray] = useState([]);\n    const [isStoredMap, setIsStoredMap] = useState(true);\n    const [mapSettingsData, setMapSettingsData] = useState({});\n    const [mapName, setMapName] = useState(\"Baie de Quiberon\");\n    const [storedMapName, setStoredMapName] = useState(\"\");\n    const [amer, setAmer] = useState(false);\n    const [hasScrollListener, setHasScrollListener] = useState(false);\n    const [route, setRoute] = useState(false);\n\n    useEffect(() => {\n        const ele = document.getElementById(\"dragMap\");\n        if (!hasScrollListener && !amer) {\n            let x = 0;\n            let y = 0;\n            let html = document.documentElement;\n            const mouseDownHandler = (e) => {\n                x = e.clientX;\n                y = e.clientY;\n                document.addEventListener(\"mousemove\", mouseMoveHandler);\n                document.addEventListener(\"mouseup\", mouseUpHandler);\n                ele.style.cursor = \"grabbing\";\n                ele.style.userSelect = \"none\";\n            };\n\n            const mouseMoveHandler = (e) => {\n                let dx = e.clientX - x;\n                let dy = e.clientY - y;\n                if (\n                    (ele.offsetLeft > 0 && dx > 0) ||\n                    (html.scrollWidth === html.clientWidth && dx < 0)\n                ) {\n                    dx = 0;\n                }\n                if (\n                    (ele.offsetTop > 0 && dy > 0) ||\n                    (html.scrollHeight === html.clientHeight && dy < 0)\n                ) {\n                    dy = 0;\n                }\n\n                ele.style.top = `${ele.offsetTop + dy}px`;\n                ele.style.left = `${ele.offsetLeft + dx}px`;\n                x = e.clientX;\n                y = e.clientY;\n            };\n\n            const mouseUpHandler = () => {\n                document.removeEventListener(\"mousemove\", mouseMoveHandler);\n                document.removeEventListener(\"mouseup\", mouseUpHandler);\n                ele.style.cursor = \"grab\";\n                ele.style.removeProperty(\"user-select\");\n            };\n            setHasScrollListener(true);\n            if (!amer) {\n                ele.addEventListener(\"mousedown\", mouseDownHandler);\n            }\n        }\n    }, [amer]);\n\n    return (\n        <>\n            <TopBar\n                setShowSettings={setShowSettings}\n                setShowLoadMap={setShowLoadMap}\n                setShowHelp={setShowHelp}\n                amerState={[amer, setAmer]}\n                routeState={[route, setRoute]}\n            />\n            <Modals\n                settingsModal={[showSettings, setShowSettings]}\n                loadMapModal={[showLoadMap, setShowLoadMap]}\n                isStoredMapState={[isStoredMap, setIsStoredMap]}\n                mapArrayState={[mapArray, setMapArray]}\n                mapSettingsDataState={[mapSettingsData, setMapSettingsData]}\n                mapNameState={[mapName, setMapName]}\n                storedMapState={[storedMapName, setStoredMapName]}\n            />\n            <HelpModal showState={[showHelp, setShowHelp]} />\n            <div id=\"dragMap\" className={!!amer ? \"amerPointer\" : \"draggable\"}>\n                <SeaMap\n                    mapArray={mapArray}\n                    isStoredMap={isStoredMap}\n                    mapSettingsData={mapSettingsData}\n                    storedMapName={storedMapName}\n                />\n                <Route\n                    route={route}\n                    mapArray={mapArray}\n                    mapSettingsData={mapSettingsData}\n                />\n\n                <Canvas\n                    amer={amer}\n                    mapArray={mapArray}\n                    mapSettingsData={mapSettingsData}\n                />\n            </div>\n        </>\n    );\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst renderReactDom = () => {\n    ReactDOM.render(<App />, document.getElementById(\"root\"));\n};\n\nif (window.cordova) {\n    document.addEventListener(\n        \"deviceready\",\n        () => {\n            renderReactDom();\n        },\n        false\n    );\n} else {\n    renderReactDom();\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}